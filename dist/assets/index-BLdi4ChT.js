function Fk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function i0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o0={exports:{}},jc={},a0={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=Symbol.for("react.element"),Uk=Symbol.for("react.portal"),$k=Symbol.for("react.fragment"),zk=Symbol.for("react.strict_mode"),Bk=Symbol.for("react.profiler"),Wk=Symbol.for("react.provider"),Hk=Symbol.for("react.context"),qk=Symbol.for("react.forward_ref"),Kk=Symbol.for("react.suspense"),Gk=Symbol.for("react.memo"),Qk=Symbol.for("react.lazy"),Ly=Symbol.iterator;function Yk(t){return t===null||typeof t!="object"?null:(t=Ly&&t[Ly]||t["@@iterator"],typeof t=="function"?t:null)}var l0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u0=Object.assign,c0={};function Yi(t,e,n){this.props=t,this.context=e,this.refs=c0,this.updater=n||l0}Yi.prototype.isReactComponent={};Yi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function d0(){}d0.prototype=Yi.prototype;function Cp(t,e,n){this.props=t,this.context=e,this.refs=c0,this.updater=n||l0}var Ap=Cp.prototype=new d0;Ap.constructor=Cp;u0(Ap,Yi.prototype);Ap.isPureReactComponent=!0;var jy=Array.isArray,h0=Object.prototype.hasOwnProperty,Rp={current:null},f0={key:!0,ref:!0,__self:!0,__source:!0};function p0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)h0.call(e,r)&&!f0.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ka,type:t,key:i,ref:o,props:s,_owner:Rp.current}}function Xk(t,e){return{$$typeof:Ka,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ka}function Jk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vy=/\/+/g;function Gd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jk(""+t.key):e.toString(36)}function mu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ka:case Uk:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Gd(o,0):r,jy(s)?(n="",t!=null&&(n=t.replace(Vy,"$&/")+"/"),mu(s,e,n,"",function(c){return c})):s!=null&&(bp(s)&&(s=Xk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Vy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",jy(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Gd(i,a);o+=mu(i,e,n,u,s)}else if(u=Yk(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Gd(i,a++),o+=mu(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vl(t,e,n){if(t==null)return t;var r=[],s=0;return mu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Zk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},gu={transition:null},eC={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:gu,ReactCurrentOwner:Rp};function m0(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Vl,forEach:function(t,e,n){Vl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vl(t,function(){e++}),e},toArray:function(t){return Vl(t,function(e){return e})||[]},only:function(t){if(!bp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=Yi;oe.Fragment=$k;oe.Profiler=Bk;oe.PureComponent=Cp;oe.StrictMode=zk;oe.Suspense=Kk;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eC;oe.act=m0;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=u0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Rp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)h0.call(e,u)&&!f0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ka,type:t.type,key:s,ref:i,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:Hk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wk,_context:t},t.Consumer=t};oe.createElement=p0;oe.createFactory=function(t){var e=p0.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:qk,render:t}};oe.isValidElement=bp;oe.lazy=function(t){return{$$typeof:Qk,_payload:{_status:-1,_result:t},_init:Zk}};oe.memo=function(t,e){return{$$typeof:Gk,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=gu.transition;gu.transition={};try{t()}finally{gu.transition=e}};oe.unstable_act=m0;oe.useCallback=function(t,e){return Ft.current.useCallback(t,e)};oe.useContext=function(t){return Ft.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};oe.useEffect=function(t,e){return Ft.current.useEffect(t,e)};oe.useId=function(){return Ft.current.useId()};oe.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Ft.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};oe.useRef=function(t){return Ft.current.useRef(t)};oe.useState=function(t){return Ft.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return Ft.current.useTransition()};oe.version="18.3.1";a0.exports=oe;var y=a0.exports;const Dt=i0(y),g0=Fk({__proto__:null,default:Dt},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC=y,nC=Symbol.for("react.element"),rC=Symbol.for("react.fragment"),sC=Object.prototype.hasOwnProperty,iC=tC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oC={key:!0,ref:!0,__self:!0,__source:!0};function y0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sC.call(e,r)&&!oC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:nC,type:t,key:i,ref:o,props:s,_owner:iC.current}}jc.Fragment=rC;jc.jsx=y0;jc.jsxs=y0;o0.exports=jc;var d=o0.exports,v0={exports:{}},sn={},_0={exports:{}},w0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,Y){var Z=V.length;V.push(Y);e:for(;0<Z;){var Te=Z-1>>>1,ie=V[Te];if(0<s(ie,Y))V[Te]=Y,V[Z]=ie,Z=Te;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Y=V[0],Z=V.pop();if(Z!==Y){V[0]=Z;e:for(var Te=0,ie=V.length,re=ie>>>1;Te<re;){var xe=2*(Te+1)-1,st=V[xe],vt=xe+1,ye=V[vt];if(0>s(st,Z))vt<ie&&0>s(ye,st)?(V[Te]=ye,V[vt]=Z,Te=vt):(V[Te]=st,V[xe]=Z,Te=xe);else if(vt<ie&&0>s(ye,Z))V[Te]=ye,V[vt]=Z,Te=vt;else break e}}return Y}function s(V,Y){var Z=V.sortIndex-Y.sortIndex;return Z!==0?Z:V.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,m=null,g=3,w=!1,A=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=V)r(c),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(c)}}function b(V){if(I=!1,T(V),!A)if(n(u)!==null)A=!0,Ee(L);else{var Y=n(c);Y!==null&&Ge(b,Y.startTime-V)}}function L(V,Y){A=!1,I&&(I=!1,E(v),v=-1),w=!0;var Z=g;try{for(T(Y),m=n(u);m!==null&&(!(m.expirationTime>Y)||V&&!N());){var Te=m.callback;if(typeof Te=="function"){m.callback=null,g=m.priorityLevel;var ie=Te(m.expirationTime<=Y);Y=t.unstable_now(),typeof ie=="function"?m.callback=ie:m===n(u)&&r(u),T(Y)}else r(u);m=n(u)}if(m!==null)var re=!0;else{var xe=n(c);xe!==null&&Ge(b,xe.startTime-Y),re=!1}return re}finally{m=null,g=Z,w=!1}}var M=!1,S=null,v=-1,k=5,R=-1;function N(){return!(t.unstable_now()-R<k)}function D(){if(S!==null){var V=t.unstable_now();R=V;var Y=!0;try{Y=S(!0,V)}finally{Y?P():(M=!1,S=null)}}else M=!1}var P;if(typeof _=="function")P=function(){_(D)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,et=Be.port2;Be.port1.onmessage=D,P=function(){et.postMessage(null)}}else P=function(){C(D,0)};function Ee(V){S=V,M||(M=!0,P())}function Ge(V,Y){v=C(function(){V(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){A||w||(A=!0,Ee(L))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var Z=g;g=Y;try{return V()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=g;g=V;try{return Y()}finally{g=Z}},t.unstable_scheduleCallback=function(V,Y,Z){var Te=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Te+Z:Te):Z=Te,V){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=Z+ie,V={id:f++,callback:Y,priorityLevel:V,startTime:Z,expirationTime:ie,sortIndex:-1},Z>Te?(V.sortIndex=Z,e(c,V),n(u)===null&&V===n(c)&&(I?(E(v),v=-1):I=!0,Ge(b,Z-Te))):(V.sortIndex=ie,e(u,V),A||w||(A=!0,Ee(L))),V},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(V){var Y=g;return function(){var Z=g;g=Y;try{return V.apply(this,arguments)}finally{g=Z}}}})(w0);_0.exports=w0;var aC=_0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC=y,rn=aC;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E0=new Set,pa={};function zs(t,e){Oi(t,e),Oi(t+"Capture",e)}function Oi(t,e){for(pa[t]=e,t=0;t<e.length;t++)E0.add(e[t])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xh=Object.prototype.hasOwnProperty,uC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fy={},Uy={};function cC(t){return Xh.call(Uy,t)?!0:Xh.call(Fy,t)?!1:uC.test(t)?Uy[t]=!0:(Fy[t]=!0,!1)}function dC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hC(t,e,n,r){if(e===null||typeof e>"u"||dC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pp=/[\-:]([a-z])/g;function Np(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pp,Np);gt[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pp,Np);gt[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pp,Np);gt[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dp(t,e,n,r){var s=gt.hasOwnProperty(e)?gt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hC(e,n,s,r)&&(n=null),r||s===null?cC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vr=lC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fl=Symbol.for("react.element"),ci=Symbol.for("react.portal"),di=Symbol.for("react.fragment"),Op=Symbol.for("react.strict_mode"),Jh=Symbol.for("react.profiler"),T0=Symbol.for("react.provider"),x0=Symbol.for("react.context"),Mp=Symbol.for("react.forward_ref"),Zh=Symbol.for("react.suspense"),ef=Symbol.for("react.suspense_list"),Lp=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),I0=Symbol.for("react.offscreen"),$y=Symbol.iterator;function ko(t){return t===null||typeof t!="object"?null:(t=$y&&t[$y]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,Qd;function Vo(t){if(Qd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qd=e&&e[1]||""}return`
`+Qd+t}var Yd=!1;function Xd(t,e){if(!t||Yd)return"";Yd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Yd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vo(t):""}function fC(t){switch(t.tag){case 5:return Vo(t.type);case 16:return Vo("Lazy");case 13:return Vo("Suspense");case 19:return Vo("SuspenseList");case 0:case 2:case 15:return t=Xd(t.type,!1),t;case 11:return t=Xd(t.type.render,!1),t;case 1:return t=Xd(t.type,!0),t;default:return""}}function tf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case di:return"Fragment";case ci:return"Portal";case Jh:return"Profiler";case Op:return"StrictMode";case Zh:return"Suspense";case ef:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x0:return(t.displayName||"Context")+".Consumer";case T0:return(t._context.displayName||"Context")+".Provider";case Mp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lp:return e=t.displayName||null,e!==null?e:tf(t.type)||"Memo";case Ar:e=t._payload,t=t._init;try{return tf(t(e))}catch{}}return null}function pC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tf(e);case 8:return e===Op?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function S0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mC(t){var e=S0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ul(t){t._valueTracker||(t._valueTracker=mC(t))}function k0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=S0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nf(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C0(t,e){e=e.checked,e!=null&&Dp(t,"checked",e,!1)}function rf(t,e){C0(t,e);var n=Qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sf(t,e.type,n):e.hasOwnProperty("defaultValue")&&sf(t,e.type,Qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function By(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sf(t,e,n){(e!=="number"||qu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fo=Array.isArray;function xi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function of(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Fo(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qr(n)}}function A0(t,e){var n=Qr(e.value),r=Qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function R0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function af(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?R0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $l,b0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($l=$l||document.createElement("div"),$l.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$l.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ma(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gC=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(t){gC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yo[e]=Yo[t]})});function P0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Yo.hasOwnProperty(t)&&Yo[t]?(""+e).trim():e+"px"}function N0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=P0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var yC=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lf(t,e){if(e){if(yC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function uf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cf=null;function jp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var df=null,Ii=null,Si=null;function qy(t){if(t=Ya(t)){if(typeof df!="function")throw Error($(280));var e=t.stateNode;e&&(e=zc(e),df(t.stateNode,t.type,e))}}function D0(t){Ii?Si?Si.push(t):Si=[t]:Ii=t}function O0(){if(Ii){var t=Ii,e=Si;if(Si=Ii=null,qy(t),e)for(t=0;t<e.length;t++)qy(e[t])}}function M0(t,e){return t(e)}function L0(){}var Jd=!1;function j0(t,e,n){if(Jd)return t(e,n);Jd=!0;try{return M0(t,e,n)}finally{Jd=!1,(Ii!==null||Si!==null)&&(L0(),O0())}}function ga(t,e){var n=t.stateNode;if(n===null)return null;var r=zc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var hf=!1;if(ur)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){hf=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{hf=!1}function vC(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Xo=!1,Ku=null,Gu=!1,ff=null,_C={onError:function(t){Xo=!0,Ku=t}};function wC(t,e,n,r,s,i,o,a,u){Xo=!1,Ku=null,vC.apply(_C,arguments)}function EC(t,e,n,r,s,i,o,a,u){if(wC.apply(this,arguments),Xo){if(Xo){var c=Ku;Xo=!1,Ku=null}else throw Error($(198));Gu||(Gu=!0,ff=c)}}function Bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function V0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ky(t){if(Bs(t)!==t)throw Error($(188))}function TC(t){var e=t.alternate;if(!e){if(e=Bs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ky(s),t;if(i===r)return Ky(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function F0(t){return t=TC(t),t!==null?U0(t):null}function U0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=U0(t);if(e!==null)return e;t=t.sibling}return null}var $0=rn.unstable_scheduleCallback,Gy=rn.unstable_cancelCallback,xC=rn.unstable_shouldYield,IC=rn.unstable_requestPaint,He=rn.unstable_now,SC=rn.unstable_getCurrentPriorityLevel,Vp=rn.unstable_ImmediatePriority,z0=rn.unstable_UserBlockingPriority,Qu=rn.unstable_NormalPriority,kC=rn.unstable_LowPriority,B0=rn.unstable_IdlePriority,Vc=null,Vn=null;function CC(t){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Vc,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:bC,AC=Math.log,RC=Math.LN2;function bC(t){return t>>>=0,t===0?32:31-(AC(t)/RC|0)|0}var zl=64,Bl=4194304;function Uo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Uo(a):(i&=o,i!==0&&(r=Uo(i)))}else o=n&~s,o!==0?r=Uo(o):i!==0&&(r=Uo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),s=1<<n,r|=t[n],e&=~s;return r}function PC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-In(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=PC(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function pf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function W0(){var t=zl;return zl<<=1,!(zl&4194240)&&(zl=64),t}function Zd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ga(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function DC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-In(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Fp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var _e=0;function H0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var q0,Up,K0,G0,Q0,mf=!1,Wl=[],Vr=null,Fr=null,Ur=null,ya=new Map,va=new Map,br=[],OC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qy(t,e){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":ya.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":va.delete(e.pointerId)}}function Ao(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ya(e),e!==null&&Up(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function MC(t,e,n,r,s){switch(e){case"focusin":return Vr=Ao(Vr,t,e,n,r,s),!0;case"dragenter":return Fr=Ao(Fr,t,e,n,r,s),!0;case"mouseover":return Ur=Ao(Ur,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ya.set(i,Ao(ya.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,va.set(i,Ao(va.get(i)||null,t,e,n,r,s)),!0}return!1}function Y0(t){var e=_s(t.target);if(e!==null){var n=Bs(e);if(n!==null){if(e=n.tag,e===13){if(e=V0(n),e!==null){t.blockedOn=e,Q0(t.priority,function(){K0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cf=r,n.target.dispatchEvent(r),cf=null}else return e=Ya(n),e!==null&&Up(e),t.blockedOn=n,!1;e.shift()}return!0}function Yy(t,e,n){yu(t)&&n.delete(e)}function LC(){mf=!1,Vr!==null&&yu(Vr)&&(Vr=null),Fr!==null&&yu(Fr)&&(Fr=null),Ur!==null&&yu(Ur)&&(Ur=null),ya.forEach(Yy),va.forEach(Yy)}function Ro(t,e){t.blockedOn===e&&(t.blockedOn=null,mf||(mf=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,LC)))}function _a(t){function e(s){return Ro(s,t)}if(0<Wl.length){Ro(Wl[0],t);for(var n=1;n<Wl.length;n++){var r=Wl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vr!==null&&Ro(Vr,t),Fr!==null&&Ro(Fr,t),Ur!==null&&Ro(Ur,t),ya.forEach(e),va.forEach(e),n=0;n<br.length;n++)r=br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<br.length&&(n=br[0],n.blockedOn===null);)Y0(n),n.blockedOn===null&&br.shift()}var ki=vr.ReactCurrentBatchConfig,Xu=!0;function jC(t,e,n,r){var s=_e,i=ki.transition;ki.transition=null;try{_e=1,$p(t,e,n,r)}finally{_e=s,ki.transition=i}}function VC(t,e,n,r){var s=_e,i=ki.transition;ki.transition=null;try{_e=4,$p(t,e,n,r)}finally{_e=s,ki.transition=i}}function $p(t,e,n,r){if(Xu){var s=gf(t,e,n,r);if(s===null)uh(t,e,r,Ju,n),Qy(t,r);else if(MC(s,t,e,n,r))r.stopPropagation();else if(Qy(t,r),e&4&&-1<OC.indexOf(t)){for(;s!==null;){var i=Ya(s);if(i!==null&&q0(i),i=gf(t,e,n,r),i===null&&uh(t,e,r,Ju,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else uh(t,e,r,null,n)}}var Ju=null;function gf(t,e,n,r){if(Ju=null,t=jp(r),t=_s(t),t!==null)if(e=Bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=V0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ju=t,null}function X0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SC()){case Vp:return 1;case z0:return 4;case Qu:case kC:return 16;case B0:return 536870912;default:return 16}default:return 16}}var Mr=null,zp=null,vu=null;function J0(){if(vu)return vu;var t,e=zp,n=e.length,r,s="value"in Mr?Mr.value:Mr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return vu=s.slice(t,1<r?1-r:void 0)}function _u(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hl(){return!0}function Xy(){return!1}function on(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hl:Xy,this.isPropagationStopped=Xy,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),e}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bp=on(Xi),Qa=je({},Xi,{view:0,detail:0}),FC=on(Qa),eh,th,bo,Fc=je({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bo&&(bo&&t.type==="mousemove"?(eh=t.screenX-bo.screenX,th=t.screenY-bo.screenY):th=eh=0,bo=t),eh)},movementY:function(t){return"movementY"in t?t.movementY:th}}),Jy=on(Fc),UC=je({},Fc,{dataTransfer:0}),$C=on(UC),zC=je({},Qa,{relatedTarget:0}),nh=on(zC),BC=je({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),WC=on(BC),HC=je({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qC=on(HC),KC=je({},Xi,{data:0}),Zy=on(KC),GC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YC[t])?!!e[t]:!1}function Wp(){return XC}var JC=je({},Qa,{key:function(t){if(t.key){var e=GC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_u(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wp,charCode:function(t){return t.type==="keypress"?_u(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_u(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZC=on(JC),eA=je({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ev=on(eA),tA=je({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wp}),nA=on(tA),rA=je({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),sA=on(rA),iA=je({},Fc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oA=on(iA),aA=[9,13,27,32],Hp=ur&&"CompositionEvent"in window,Jo=null;ur&&"documentMode"in document&&(Jo=document.documentMode);var lA=ur&&"TextEvent"in window&&!Jo,Z0=ur&&(!Hp||Jo&&8<Jo&&11>=Jo),tv=" ",nv=!1;function eE(t,e){switch(t){case"keyup":return aA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hi=!1;function uA(t,e){switch(t){case"compositionend":return tE(e);case"keypress":return e.which!==32?null:(nv=!0,tv);case"textInput":return t=e.data,t===tv&&nv?null:t;default:return null}}function cA(t,e){if(hi)return t==="compositionend"||!Hp&&eE(t,e)?(t=J0(),vu=zp=Mr=null,hi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z0&&e.locale!=="ko"?null:e.data;default:return null}}var dA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dA[t.type]:e==="textarea"}function nE(t,e,n,r){D0(r),e=Zu(e,"onChange"),0<e.length&&(n=new Bp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zo=null,wa=null;function hA(t){fE(t,0)}function Uc(t){var e=mi(t);if(k0(e))return t}function fA(t,e){if(t==="change")return e}var rE=!1;if(ur){var rh;if(ur){var sh="oninput"in document;if(!sh){var sv=document.createElement("div");sv.setAttribute("oninput","return;"),sh=typeof sv.oninput=="function"}rh=sh}else rh=!1;rE=rh&&(!document.documentMode||9<document.documentMode)}function iv(){Zo&&(Zo.detachEvent("onpropertychange",sE),wa=Zo=null)}function sE(t){if(t.propertyName==="value"&&Uc(wa)){var e=[];nE(e,wa,t,jp(t)),j0(hA,e)}}function pA(t,e,n){t==="focusin"?(iv(),Zo=e,wa=n,Zo.attachEvent("onpropertychange",sE)):t==="focusout"&&iv()}function mA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uc(wa)}function gA(t,e){if(t==="click")return Uc(e)}function yA(t,e){if(t==="input"||t==="change")return Uc(e)}function vA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:vA;function Ea(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xh.call(e,s)||!Cn(t[s],e[s]))return!1}return!0}function ov(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function av(t,e){var n=ov(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ov(n)}}function iE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oE(){for(var t=window,e=qu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qu(t.document)}return e}function qp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _A(t){var e=oE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iE(n.ownerDocument.documentElement,n)){if(r!==null&&qp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=av(n,i);var o=av(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wA=ur&&"documentMode"in document&&11>=document.documentMode,fi=null,yf=null,ea=null,vf=!1;function lv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vf||fi==null||fi!==qu(r)||(r=fi,"selectionStart"in r&&qp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ea&&Ea(ea,r)||(ea=r,r=Zu(yf,"onSelect"),0<r.length&&(e=new Bp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fi)))}function ql(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pi={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionend:ql("Transition","TransitionEnd")},ih={},aE={};ur&&(aE=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);function $c(t){if(ih[t])return ih[t];if(!pi[t])return t;var e=pi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in aE)return ih[t]=e[n];return t}var lE=$c("animationend"),uE=$c("animationiteration"),cE=$c("animationstart"),dE=$c("transitionend"),hE=new Map,uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(t,e){hE.set(t,e),zs(e,[t])}for(var oh=0;oh<uv.length;oh++){var ah=uv[oh],EA=ah.toLowerCase(),TA=ah[0].toUpperCase()+ah.slice(1);es(EA,"on"+TA)}es(lE,"onAnimationEnd");es(uE,"onAnimationIteration");es(cE,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(dE,"onTransitionEnd");Oi("onMouseEnter",["mouseout","mouseover"]);Oi("onMouseLeave",["mouseout","mouseover"]);Oi("onPointerEnter",["pointerout","pointerover"]);Oi("onPointerLeave",["pointerout","pointerover"]);zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function cv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,EC(r,e,void 0,t),t.currentTarget=null}function fE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;cv(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;cv(s,a,c),i=u}}}if(Gu)throw t=ff,Gu=!1,ff=null,t}function Ae(t,e){var n=e[xf];n===void 0&&(n=e[xf]=new Set);var r=t+"__bubble";n.has(r)||(pE(e,t,2,!1),n.add(r))}function lh(t,e,n){var r=0;e&&(r|=4),pE(n,t,r,e)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function Ta(t){if(!t[Kl]){t[Kl]=!0,E0.forEach(function(n){n!=="selectionchange"&&(xA.has(n)||lh(n,!1,t),lh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Kl]||(e[Kl]=!0,lh("selectionchange",!1,e))}}function pE(t,e,n,r){switch(X0(e)){case 1:var s=jC;break;case 4:s=VC;break;default:s=$p}n=s.bind(null,e,n,t),s=void 0,!hf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function uh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=_s(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}j0(function(){var c=i,f=jp(n),m=[];e:{var g=hE.get(t);if(g!==void 0){var w=Bp,A=t;switch(t){case"keypress":if(_u(n)===0)break e;case"keydown":case"keyup":w=ZC;break;case"focusin":A="focus",w=nh;break;case"focusout":A="blur",w=nh;break;case"beforeblur":case"afterblur":w=nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=$C;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=nA;break;case lE:case uE:case cE:w=WC;break;case dE:w=sA;break;case"scroll":w=FC;break;case"wheel":w=oA;break;case"copy":case"cut":case"paste":w=qC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=ev}var I=(e&4)!==0,C=!I&&t==="scroll",E=I?g!==null?g+"Capture":null:g;I=[];for(var _=c,T;_!==null;){T=_;var b=T.stateNode;if(T.tag===5&&b!==null&&(T=b,E!==null&&(b=ga(_,E),b!=null&&I.push(xa(_,b,T)))),C)break;_=_.return}0<I.length&&(g=new w(g,A,null,n,f),m.push({event:g,listeners:I}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&n!==cf&&(A=n.relatedTarget||n.fromElement)&&(_s(A)||A[cr]))break e;if((w||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,w?(A=n.relatedTarget||n.toElement,w=c,A=A?_s(A):null,A!==null&&(C=Bs(A),A!==C||A.tag!==5&&A.tag!==6)&&(A=null)):(w=null,A=c),w!==A)){if(I=Jy,b="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(I=ev,b="onPointerLeave",E="onPointerEnter",_="pointer"),C=w==null?g:mi(w),T=A==null?g:mi(A),g=new I(b,_+"leave",w,n,f),g.target=C,g.relatedTarget=T,b=null,_s(f)===c&&(I=new I(E,_+"enter",A,n,f),I.target=T,I.relatedTarget=C,b=I),C=b,w&&A)t:{for(I=w,E=A,_=0,T=I;T;T=ni(T))_++;for(T=0,b=E;b;b=ni(b))T++;for(;0<_-T;)I=ni(I),_--;for(;0<T-_;)E=ni(E),T--;for(;_--;){if(I===E||E!==null&&I===E.alternate)break t;I=ni(I),E=ni(E)}I=null}else I=null;w!==null&&dv(m,g,w,I,!1),A!==null&&C!==null&&dv(m,C,A,I,!0)}}e:{if(g=c?mi(c):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var L=fA;else if(rv(g))if(rE)L=yA;else{L=mA;var M=pA}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=gA);if(L&&(L=L(t,c))){nE(m,L,n,f);break e}M&&M(t,g,c),t==="focusout"&&(M=g._wrapperState)&&M.controlled&&g.type==="number"&&sf(g,"number",g.value)}switch(M=c?mi(c):window,t){case"focusin":(rv(M)||M.contentEditable==="true")&&(fi=M,yf=c,ea=null);break;case"focusout":ea=yf=fi=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,lv(m,n,f);break;case"selectionchange":if(wA)break;case"keydown":case"keyup":lv(m,n,f)}var S;if(Hp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else hi?eE(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Z0&&n.locale!=="ko"&&(hi||v!=="onCompositionStart"?v==="onCompositionEnd"&&hi&&(S=J0()):(Mr=f,zp="value"in Mr?Mr.value:Mr.textContent,hi=!0)),M=Zu(c,v),0<M.length&&(v=new Zy(v,t,null,n,f),m.push({event:v,listeners:M}),S?v.data=S:(S=tE(n),S!==null&&(v.data=S)))),(S=lA?uA(t,n):cA(t,n))&&(c=Zu(c,"onBeforeInput"),0<c.length&&(f=new Zy("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:c}),f.data=S))}fE(m,e)})}function xa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ga(t,n),i!=null&&r.unshift(xa(t,i,s)),i=ga(t,e),i!=null&&r.push(xa(t,i,s))),t=t.return}return r}function ni(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=ga(n,i),u!=null&&o.unshift(xa(n,u,a))):s||(u=ga(n,i),u!=null&&o.push(xa(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var IA=/\r\n?/g,SA=/\u0000|\uFFFD/g;function hv(t){return(typeof t=="string"?t:""+t).replace(IA,`
`).replace(SA,"")}function Gl(t,e,n){if(e=hv(e),hv(t)!==e&&n)throw Error($(425))}function ec(){}var _f=null,wf=null;function Ef(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tf=typeof setTimeout=="function"?setTimeout:void 0,kA=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,CA=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(t){return fv.resolve(null).then(t).catch(AA)}:Tf;function AA(t){setTimeout(function(){throw t})}function ch(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),_a(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_a(e)}function $r(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Ji,Ia="__reactProps$"+Ji,cr="__reactContainer$"+Ji,xf="__reactEvents$"+Ji,RA="__reactListeners$"+Ji,bA="__reactHandles$"+Ji;function _s(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cr]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pv(t);t!==null;){if(n=t[Ln])return n;t=pv(t)}return e}t=n,n=t.parentNode}return null}function Ya(t){return t=t[Ln]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function zc(t){return t[Ia]||null}var If=[],gi=-1;function ts(t){return{current:t}}function be(t){0>gi||(t.current=If[gi],If[gi]=null,gi--)}function Se(t,e){gi++,If[gi]=t.current,t.current=e}var Yr={},At=ts(Yr),Ht=ts(!1),As=Yr;function Mi(t,e){var n=t.type.contextTypes;if(!n)return Yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function qt(t){return t=t.childContextTypes,t!=null}function tc(){be(Ht),be(At)}function mv(t,e,n){if(At.current!==Yr)throw Error($(168));Se(At,e),Se(Ht,n)}function mE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,pC(t)||"Unknown",s));return je({},n,r)}function nc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yr,As=At.current,Se(At,t),Se(Ht,Ht.current),!0}function gv(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=mE(t,e,As),r.__reactInternalMemoizedMergedChildContext=t,be(Ht),be(At),Se(At,t)):be(Ht),Se(Ht,n)}var Jn=null,Bc=!1,dh=!1;function gE(t){Jn===null?Jn=[t]:Jn.push(t)}function PA(t){Bc=!0,gE(t)}function ns(){if(!dh&&Jn!==null){dh=!0;var t=0,e=_e;try{var n=Jn;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jn=null,Bc=!1}catch(s){throw Jn!==null&&(Jn=Jn.slice(t+1)),$0(Vp,ns),s}finally{_e=e,dh=!1}}return null}var yi=[],vi=0,rc=null,sc=0,an=[],ln=0,Rs=null,er=1,tr="";function ms(t,e){yi[vi++]=sc,yi[vi++]=rc,rc=t,sc=e}function yE(t,e,n){an[ln++]=er,an[ln++]=tr,an[ln++]=Rs,Rs=t;var r=er;t=tr;var s=32-In(r)-1;r&=~(1<<s),n+=1;var i=32-In(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,er=1<<32-In(e)+s|n<<s|r,tr=i+t}else er=1<<i|n<<s|r,tr=t}function Kp(t){t.return!==null&&(ms(t,1),yE(t,1,0))}function Gp(t){for(;t===rc;)rc=yi[--vi],yi[vi]=null,sc=yi[--vi],yi[vi]=null;for(;t===Rs;)Rs=an[--ln],an[ln]=null,tr=an[--ln],an[ln]=null,er=an[--ln],an[ln]=null}var tn=null,Xt=null,Pe=!1,Tn=null;function vE(t,e){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,Xt=$r(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rs!==null?{id:er,overflow:tr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,Xt=null,!0):!1;default:return!1}}function Sf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kf(t){if(Pe){var e=Xt;if(e){var n=e;if(!yv(t,e)){if(Sf(t))throw Error($(418));e=$r(n.nextSibling);var r=tn;e&&yv(t,e)?vE(r,n):(t.flags=t.flags&-4097|2,Pe=!1,tn=t)}}else{if(Sf(t))throw Error($(418));t.flags=t.flags&-4097|2,Pe=!1,tn=t}}}function vv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Ql(t){if(t!==tn)return!1;if(!Pe)return vv(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ef(t.type,t.memoizedProps)),e&&(e=Xt)){if(Sf(t))throw _E(),Error($(418));for(;e;)vE(t,e),e=$r(e.nextSibling)}if(vv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xt=$r(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=tn?$r(t.stateNode.nextSibling):null;return!0}function _E(){for(var t=Xt;t;)t=$r(t.nextSibling)}function Li(){Xt=tn=null,Pe=!1}function Qp(t){Tn===null?Tn=[t]:Tn.push(t)}var NA=vr.ReactCurrentBatchConfig;function Po(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Yl(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _v(t){var e=t._init;return e(t._payload)}function wE(t){function e(E,_){if(t){var T=E.deletions;T===null?(E.deletions=[_],E.flags|=16):T.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function s(E,_){return E=Hr(E,_),E.index=0,E.sibling=null,E}function i(E,_,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<_?(E.flags|=2,_):T):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,T,b){return _===null||_.tag!==6?(_=vh(T,E.mode,b),_.return=E,_):(_=s(_,T),_.return=E,_)}function u(E,_,T,b){var L=T.type;return L===di?f(E,_,T.props.children,b,T.key):_!==null&&(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ar&&_v(L)===_.type)?(b=s(_,T.props),b.ref=Po(E,_,T),b.return=E,b):(b=ku(T.type,T.key,T.props,null,E.mode,b),b.ref=Po(E,_,T),b.return=E,b)}function c(E,_,T,b){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=_h(T,E.mode,b),_.return=E,_):(_=s(_,T.children||[]),_.return=E,_)}function f(E,_,T,b,L){return _===null||_.tag!==7?(_=ks(T,E.mode,b,L),_.return=E,_):(_=s(_,T),_.return=E,_)}function m(E,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=vh(""+_,E.mode,T),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fl:return T=ku(_.type,_.key,_.props,null,E.mode,T),T.ref=Po(E,null,_),T.return=E,T;case ci:return _=_h(_,E.mode,T),_.return=E,_;case Ar:var b=_._init;return m(E,b(_._payload),T)}if(Fo(_)||ko(_))return _=ks(_,E.mode,T,null),_.return=E,_;Yl(E,_)}return null}function g(E,_,T,b){var L=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return L!==null?null:a(E,_,""+T,b);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Fl:return T.key===L?u(E,_,T,b):null;case ci:return T.key===L?c(E,_,T,b):null;case Ar:return L=T._init,g(E,_,L(T._payload),b)}if(Fo(T)||ko(T))return L!==null?null:f(E,_,T,b,null);Yl(E,T)}return null}function w(E,_,T,b,L){if(typeof b=="string"&&b!==""||typeof b=="number")return E=E.get(T)||null,a(_,E,""+b,L);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fl:return E=E.get(b.key===null?T:b.key)||null,u(_,E,b,L);case ci:return E=E.get(b.key===null?T:b.key)||null,c(_,E,b,L);case Ar:var M=b._init;return w(E,_,T,M(b._payload),L)}if(Fo(b)||ko(b))return E=E.get(T)||null,f(_,E,b,L,null);Yl(_,b)}return null}function A(E,_,T,b){for(var L=null,M=null,S=_,v=_=0,k=null;S!==null&&v<T.length;v++){S.index>v?(k=S,S=null):k=S.sibling;var R=g(E,S,T[v],b);if(R===null){S===null&&(S=k);break}t&&S&&R.alternate===null&&e(E,S),_=i(R,_,v),M===null?L=R:M.sibling=R,M=R,S=k}if(v===T.length)return n(E,S),Pe&&ms(E,v),L;if(S===null){for(;v<T.length;v++)S=m(E,T[v],b),S!==null&&(_=i(S,_,v),M===null?L=S:M.sibling=S,M=S);return Pe&&ms(E,v),L}for(S=r(E,S);v<T.length;v++)k=w(S,E,v,T[v],b),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?v:k.key),_=i(k,_,v),M===null?L=k:M.sibling=k,M=k);return t&&S.forEach(function(N){return e(E,N)}),Pe&&ms(E,v),L}function I(E,_,T,b){var L=ko(T);if(typeof L!="function")throw Error($(150));if(T=L.call(T),T==null)throw Error($(151));for(var M=L=null,S=_,v=_=0,k=null,R=T.next();S!==null&&!R.done;v++,R=T.next()){S.index>v?(k=S,S=null):k=S.sibling;var N=g(E,S,R.value,b);if(N===null){S===null&&(S=k);break}t&&S&&N.alternate===null&&e(E,S),_=i(N,_,v),M===null?L=N:M.sibling=N,M=N,S=k}if(R.done)return n(E,S),Pe&&ms(E,v),L;if(S===null){for(;!R.done;v++,R=T.next())R=m(E,R.value,b),R!==null&&(_=i(R,_,v),M===null?L=R:M.sibling=R,M=R);return Pe&&ms(E,v),L}for(S=r(E,S);!R.done;v++,R=T.next())R=w(S,E,v,R.value,b),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?v:R.key),_=i(R,_,v),M===null?L=R:M.sibling=R,M=R);return t&&S.forEach(function(D){return e(E,D)}),Pe&&ms(E,v),L}function C(E,_,T,b){if(typeof T=="object"&&T!==null&&T.type===di&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Fl:e:{for(var L=T.key,M=_;M!==null;){if(M.key===L){if(L=T.type,L===di){if(M.tag===7){n(E,M.sibling),_=s(M,T.props.children),_.return=E,E=_;break e}}else if(M.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ar&&_v(L)===M.type){n(E,M.sibling),_=s(M,T.props),_.ref=Po(E,M,T),_.return=E,E=_;break e}n(E,M);break}else e(E,M);M=M.sibling}T.type===di?(_=ks(T.props.children,E.mode,b,T.key),_.return=E,E=_):(b=ku(T.type,T.key,T.props,null,E.mode,b),b.ref=Po(E,_,T),b.return=E,E=b)}return o(E);case ci:e:{for(M=T.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(E,_.sibling),_=s(_,T.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=_h(T,E.mode,b),_.return=E,E=_}return o(E);case Ar:return M=T._init,C(E,_,M(T._payload),b)}if(Fo(T))return A(E,_,T,b);if(ko(T))return I(E,_,T,b);Yl(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(E,_.sibling),_=s(_,T),_.return=E,E=_):(n(E,_),_=vh(T,E.mode,b),_.return=E,E=_),o(E)):n(E,_)}return C}var ji=wE(!0),EE=wE(!1),ic=ts(null),oc=null,_i=null,Yp=null;function Xp(){Yp=_i=oc=null}function Jp(t){var e=ic.current;be(ic),t._currentValue=e}function Cf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ci(t,e){oc=t,Yp=_i=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(Yp!==t)if(t={context:t,memoizedValue:e,next:null},_i===null){if(oc===null)throw Error($(308));_i=t,oc.dependencies={lanes:0,firstContext:t}}else _i=_i.next=t;return e}var ws=null;function Zp(t){ws===null?ws=[t]:ws.push(t)}function TE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Zp(e)):(n.next=s.next,s.next=n),e.interleaved=n,dr(t,r)}function dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rr=!1;function em(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ir(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,dr(t,n)}return s=r.interleaved,s===null?(e.next=e,Zp(r)):(e.next=s.next,s.next=e),r.interleaved=e,dr(t,n)}function wu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fp(t,n)}}function wv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ac(t,e,n,r){var s=t.updateQueue;Rr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(i!==null){var m=s.baseState;o=0,f=c=u=null,a=i;do{var g=a.lane,w=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,I=a;switch(g=e,w=n,I.tag){case 1:if(A=I.payload,typeof A=="function"){m=A.call(w,m,g);break e}m=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=I.payload,g=typeof A=="function"?A.call(w,m,g):A,g==null)break e;m=je({},m,g);break e;case 2:Rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else w={eventTime:w,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=w,u=m):f=f.next=w,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(f===null&&(u=m),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ps|=o,t.lanes=o,t.memoizedState=m}}function Ev(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var Xa={},Fn=ts(Xa),Sa=ts(Xa),ka=ts(Xa);function Es(t){if(t===Xa)throw Error($(174));return t}function tm(t,e){switch(Se(ka,e),Se(Sa,t),Se(Fn,Xa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:af(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=af(e,t)}be(Fn),Se(Fn,e)}function Vi(){be(Fn),be(Sa),be(ka)}function IE(t){Es(ka.current);var e=Es(Fn.current),n=af(e,t.type);e!==n&&(Se(Sa,t),Se(Fn,n))}function nm(t){Sa.current===t&&(be(Fn),be(Sa))}var De=ts(0);function lc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hh=[];function rm(){for(var t=0;t<hh.length;t++)hh[t]._workInProgressVersionPrimary=null;hh.length=0}var Eu=vr.ReactCurrentDispatcher,fh=vr.ReactCurrentBatchConfig,bs=0,Me=null,nt=null,ot=null,uc=!1,ta=!1,Ca=0,DA=0;function Tt(){throw Error($(321))}function sm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cn(t[n],e[n]))return!1;return!0}function im(t,e,n,r,s,i){if(bs=i,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Eu.current=t===null||t.memoizedState===null?jA:VA,t=n(r,s),ta){i=0;do{if(ta=!1,Ca=0,25<=i)throw Error($(301));i+=1,ot=nt=null,e.updateQueue=null,Eu.current=FA,t=n(r,s)}while(ta)}if(Eu.current=cc,e=nt!==null&&nt.next!==null,bs=0,ot=nt=Me=null,uc=!1,e)throw Error($(300));return t}function om(){var t=Ca!==0;return Ca=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Me.memoizedState=ot=t:ot=ot.next=t,ot}function fn(){if(nt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=ot===null?Me.memoizedState:ot.next;if(e!==null)ot=e,nt=t;else{if(t===null)throw Error($(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ot===null?Me.memoizedState=ot=t:ot=ot.next=t}return ot}function Aa(t,e){return typeof e=="function"?e(t):e}function ph(t){var e=fn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=nt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var f=c.lane;if((bs&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=m,o=r):u=u.next=m,Me.lanes|=f,Ps|=f}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,Cn(r,e.memoizedState)||(Wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Me.lanes|=i,Ps|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mh(t){var e=fn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Cn(i,e.memoizedState)||(Wt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function SE(){}function kE(t,e){var n=Me,r=fn(),s=e(),i=!Cn(r.memoizedState,s);if(i&&(r.memoizedState=s,Wt=!0),r=r.queue,am(RE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Ra(9,AE.bind(null,n,r,s,e),void 0,null),at===null)throw Error($(349));bs&30||CE(n,e,s)}return s}function CE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AE(t,e,n,r){e.value=n,e.getSnapshot=r,bE(e)&&PE(t)}function RE(t,e,n){return n(function(){bE(e)&&PE(t)})}function bE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cn(t,n)}catch{return!0}}function PE(t){var e=dr(t,1);e!==null&&Sn(e,t,1,-1)}function Tv(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:t},e.queue=t,t=t.dispatch=LA.bind(null,Me,t),[e.memoizedState,t]}function Ra(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NE(){return fn().memoizedState}function Tu(t,e,n,r){var s=Mn();Me.flags|=t,s.memoizedState=Ra(1|e,n,void 0,r===void 0?null:r)}function Wc(t,e,n,r){var s=fn();r=r===void 0?null:r;var i=void 0;if(nt!==null){var o=nt.memoizedState;if(i=o.destroy,r!==null&&sm(r,o.deps)){s.memoizedState=Ra(e,n,i,r);return}}Me.flags|=t,s.memoizedState=Ra(1|e,n,i,r)}function xv(t,e){return Tu(8390656,8,t,e)}function am(t,e){return Wc(2048,8,t,e)}function DE(t,e){return Wc(4,2,t,e)}function OE(t,e){return Wc(4,4,t,e)}function ME(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LE(t,e,n){return n=n!=null?n.concat([t]):null,Wc(4,4,ME.bind(null,e,t),n)}function lm(){}function jE(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VE(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function FE(t,e,n){return bs&21?(Cn(n,e)||(n=W0(),Me.lanes|=n,Ps|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function OA(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=fh.transition;fh.transition={};try{t(!1),e()}finally{_e=n,fh.transition=r}}function UE(){return fn().memoizedState}function MA(t,e,n){var r=Wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$E(t))zE(e,n);else if(n=TE(t,e,n,r),n!==null){var s=Mt();Sn(n,t,r,s),BE(n,e,r)}}function LA(t,e,n){var r=Wr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($E(t))zE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Cn(a,o)){var u=e.interleaved;u===null?(s.next=s,Zp(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=TE(t,e,s,r),n!==null&&(s=Mt(),Sn(n,t,r,s),BE(n,e,r))}}function $E(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function zE(t,e){ta=uc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fp(t,n)}}var cc={readContext:hn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},jA={readContext:hn,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:xv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tu(4194308,4,ME.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tu(4,2,t,e)},useMemo:function(t,e){var n=Mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MA.bind(null,Me,t),[r.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:Tv,useDebugValue:lm,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=Tv(!1),e=t[0];return t=OA.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Me,s=Mn();if(Pe){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),at===null)throw Error($(349));bs&30||CE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,xv(RE.bind(null,r,i,t),[t]),r.flags|=2048,Ra(9,AE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mn(),e=at.identifierPrefix;if(Pe){var n=tr,r=er;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ca++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VA={readContext:hn,useCallback:jE,useContext:hn,useEffect:am,useImperativeHandle:LE,useInsertionEffect:DE,useLayoutEffect:OE,useMemo:VE,useReducer:ph,useRef:NE,useState:function(){return ph(Aa)},useDebugValue:lm,useDeferredValue:function(t){var e=fn();return FE(e,nt.memoizedState,t)},useTransition:function(){var t=ph(Aa)[0],e=fn().memoizedState;return[t,e]},useMutableSource:SE,useSyncExternalStore:kE,useId:UE,unstable_isNewReconciler:!1},FA={readContext:hn,useCallback:jE,useContext:hn,useEffect:am,useImperativeHandle:LE,useInsertionEffect:DE,useLayoutEffect:OE,useMemo:VE,useReducer:mh,useRef:NE,useState:function(){return mh(Aa)},useDebugValue:lm,useDeferredValue:function(t){var e=fn();return nt===null?e.memoizedState=t:FE(e,nt.memoizedState,t)},useTransition:function(){var t=mh(Aa)[0],e=fn().memoizedState;return[t,e]},useMutableSource:SE,useSyncExternalStore:kE,useId:UE,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Af(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hc={isMounted:function(t){return(t=t._reactInternals)?Bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),s=Wr(t),i=ir(r,s);i.payload=e,n!=null&&(i.callback=n),e=zr(t,i,s),e!==null&&(Sn(e,t,s,r),wu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),s=Wr(t),i=ir(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=zr(t,i,s),e!==null&&(Sn(e,t,s,r),wu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=Wr(t),s=ir(n,r);s.tag=2,e!=null&&(s.callback=e),e=zr(t,s,r),e!==null&&(Sn(e,t,r,n),wu(e,t,r))}};function Iv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ea(n,r)||!Ea(s,i):!0}function WE(t,e,n){var r=!1,s=Yr,i=e.contextType;return typeof i=="object"&&i!==null?i=hn(i):(s=qt(e)?As:At.current,r=e.contextTypes,i=(r=r!=null)?Mi(t,s):Yr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Sv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hc.enqueueReplaceState(e,e.state,null)}function Rf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},em(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=hn(i):(i=qt(e)?As:At.current,s.context=Mi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Af(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hc.enqueueReplaceState(s,s.state,null),ac(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Fi(t,e){try{var n="",r=e;do n+=fC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function gh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UA=typeof WeakMap=="function"?WeakMap:Map;function HE(t,e,n){n=ir(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hc||(hc=!0,Uf=r),bf(t,e)},n}function qE(t,e,n){n=ir(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){bf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bf(t,e),typeof r!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function kv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=eR.bind(null,t,e,n),e.then(t,t))}function Cv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Av(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ir(-1,1),e.tag=2,zr(n,e,1))),n.lanes|=1),t)}var $A=vr.ReactCurrentOwner,Wt=!1;function Nt(t,e,n,r){e.child=t===null?EE(e,null,n,r):ji(e,t.child,n,r)}function Rv(t,e,n,r,s){n=n.render;var i=e.ref;return Ci(e,s),r=im(t,e,n,r,i,s),n=om(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,hr(t,e,s)):(Pe&&n&&Kp(e),e.flags|=1,Nt(t,e,r,s),e.child)}function bv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!gm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,KE(t,e,i,r,s)):(t=ku(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ea,n(o,r)&&t.ref===e.ref)return hr(t,e,s)}return e.flags|=1,t=Hr(i,r),t.ref=e.ref,t.return=e,e.child=t}function KE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ea(i,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,hr(t,e,s)}return Pf(t,e,n,r,s)}function GE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Ei,Yt),Yt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Ei,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Se(Ei,Yt),Yt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Se(Ei,Yt),Yt|=r;return Nt(t,e,s,n),e.child}function QE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pf(t,e,n,r,s){var i=qt(n)?As:At.current;return i=Mi(e,i),Ci(e,s),n=im(t,e,n,r,i,s),r=om(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,hr(t,e,s)):(Pe&&r&&Kp(e),e.flags|=1,Nt(t,e,n,s),e.child)}function Pv(t,e,n,r,s){if(qt(n)){var i=!0;nc(e)}else i=!1;if(Ci(e,s),e.stateNode===null)xu(t,e),WE(e,n,r),Rf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=hn(c):(c=qt(n)?As:At.current,c=Mi(e,c));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Sv(e,o,r,c),Rr=!1;var g=e.memoizedState;o.state=g,ac(e,r,o,s),u=e.memoizedState,a!==r||g!==u||Ht.current||Rr?(typeof f=="function"&&(Af(e,n,f,r),u=e.memoizedState),(a=Rr||Iv(e,n,a,r,g,u,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:wn(e.type,a),o.props=c,m=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=hn(u):(u=qt(n)?As:At.current,u=Mi(e,u));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||g!==u)&&Sv(e,o,r,u),Rr=!1,g=e.memoizedState,o.state=g,ac(e,r,o,s);var A=e.memoizedState;a!==m||g!==A||Ht.current||Rr?(typeof w=="function"&&(Af(e,n,w,r),A=e.memoizedState),(c=Rr||Iv(e,n,c,r,g,A,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Nf(t,e,n,r,i,s)}function Nf(t,e,n,r,s,i){QE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&gv(e,n,!1),hr(t,e,i);r=e.stateNode,$A.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ji(e,t.child,null,i),e.child=ji(e,null,a,i)):Nt(t,e,a,i),e.memoizedState=r.state,s&&gv(e,n,!0),e.child}function YE(t){var e=t.stateNode;e.pendingContext?mv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mv(t,e.context,!1),tm(t,e.containerInfo)}function Nv(t,e,n,r,s){return Li(),Qp(s),e.flags|=256,Nt(t,e,n,r),e.child}var Df={dehydrated:null,treeContext:null,retryLane:0};function Of(t){return{baseLanes:t,cachePool:null,transitions:null}}function XE(t,e,n){var r=e.pendingProps,s=De.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Se(De,s&1),t===null)return kf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gc(o,r,0,null),t=ks(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Of(n),e.memoizedState=Df,t):um(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return zA(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Hr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Hr(a,i):(i=ks(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Of(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Df,r}return i=t.child,t=i.sibling,r=Hr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function um(t,e){return e=Gc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xl(t,e,n,r){return r!==null&&Qp(r),ji(e,t.child,null,n),t=um(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=gh(Error($(422))),Xl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Gc({mode:"visible",children:r.children},s,0,null),i=ks(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ji(e,t.child,null,o),e.child.memoizedState=Of(o),e.memoizedState=Df,i);if(!(e.mode&1))return Xl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=gh(i,r,void 0),Xl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Wt||a){if(r=at,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,dr(t,s),Sn(r,t,s,-1))}return mm(),r=gh(Error($(421))),Xl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=tR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Xt=$r(s.nextSibling),tn=e,Pe=!0,Tn=null,t!==null&&(an[ln++]=er,an[ln++]=tr,an[ln++]=Rs,er=t.id,tr=t.overflow,Rs=e),e=um(e,r.children),e.flags|=4096,e)}function Dv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cf(t.return,e,n)}function yh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function JE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Nt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dv(t,n,e);else if(t.tag===19)Dv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(De,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&lc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),yh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&lc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}yh(e,!0,n,null,i);break;case"together":yh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ps|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BA(t,e,n){switch(e.tag){case 3:YE(e),Li();break;case 5:IE(e);break;case 1:qt(e.type)&&nc(e);break;case 4:tm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Se(ic,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?XE(t,e,n):(Se(De,De.current&1),t=hr(t,e,n),t!==null?t.sibling:null);Se(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Se(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,GE(t,e,n)}return hr(t,e,n)}var ZE,Mf,eT,tT;ZE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mf=function(){};eT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Es(Fn.current);var i=null;switch(n){case"input":s=nf(t,s),r=nf(t,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=of(t,s),r=of(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ec)}lf(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pa.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ae("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};tT=function(t,e,n,r){n!==r&&(e.flags|=4)};function No(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function WA(t,e,n){var r=e.pendingProps;switch(Gp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return qt(e.type)&&tc(),xt(e),null;case 3:return r=e.stateNode,Vi(),be(Ht),be(At),rm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ql(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(Bf(Tn),Tn=null))),Mf(t,e),xt(e),null;case 5:nm(e);var s=Es(ka.current);if(n=e.type,t!==null&&e.stateNode!=null)eT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return xt(e),null}if(t=Es(Fn.current),Ql(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ln]=e,r[Ia]=i,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(s=0;s<$o.length;s++)Ae($o[s],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":zy(r,i),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",r);break;case"textarea":Wy(r,i),Ae("invalid",r)}lf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Gl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Gl(r.textContent,a,t),s=["children",""+a]):pa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":Ul(r),By(r,i,!0);break;case"textarea":Ul(r),Hy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ec)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=R0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ln]=e,t[Ia]=r,ZE(t,e,!1,!1),e.stateNode=t;e:{switch(o=uf(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),s=r;break;case"iframe":case"object":case"embed":Ae("load",t),s=r;break;case"video":case"audio":for(s=0;s<$o.length;s++)Ae($o[s],t);s=r;break;case"source":Ae("error",t),s=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),s=r;break;case"details":Ae("toggle",t),s=r;break;case"input":zy(t,r),s=nf(t,r),Ae("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":Wy(t,r),s=of(t,r),Ae("invalid",t);break;default:s=r}lf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?N0(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&b0(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ma(t,u):typeof u=="number"&&ma(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pa.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ae("scroll",t):u!=null&&Dp(t,i,u,o))}switch(n){case"input":Ul(t),By(t,r,!1);break;case"textarea":Ul(t),Hy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?xi(t,!!r.multiple,i,!1):r.defaultValue!=null&&xi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ec)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)tT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Es(ka.current),Es(Fn.current),Ql(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ln]=e,(i=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:Gl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=e,e.stateNode=r}return xt(e),null;case 13:if(be(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Xt!==null&&e.mode&1&&!(e.flags&128))_E(),Li(),e.flags|=98560,i=!1;else if(i=Ql(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Ln]=e}else Li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),i=!1}else Tn!==null&&(Bf(Tn),Tn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?rt===0&&(rt=3):mm())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return Vi(),Mf(t,e),t===null&&Ta(e.stateNode.containerInfo),xt(e),null;case 10:return Jp(e.type._context),xt(e),null;case 17:return qt(e.type)&&tc(),xt(e),null;case 19:if(be(De),i=e.memoizedState,i===null)return xt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)No(i,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lc(t),o!==null){for(e.flags|=128,No(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(De,De.current&1|2),e.child}t=t.sibling}i.tail!==null&&He()>Ui&&(e.flags|=128,r=!0,No(i,!1),e.lanes=4194304)}else{if(!r)if(t=lc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),No(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return xt(e),null}else 2*He()-i.renderingStartTime>Ui&&n!==1073741824&&(e.flags|=128,r=!0,No(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=He(),e.sibling=null,n=De.current,Se(De,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return pm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function HA(t,e){switch(Gp(e),e.tag){case 1:return qt(e.type)&&tc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vi(),be(Ht),be(At),rm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nm(e),null;case 13:if(be(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(De),null;case 4:return Vi(),null;case 10:return Jp(e.type._context),null;case 22:case 23:return pm(),null;case 24:return null;default:return null}}var Jl=!1,kt=!1,qA=typeof WeakSet=="function"?WeakSet:Set,H=null;function wi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function Lf(t,e,n){try{n()}catch(r){$e(t,e,r)}}var Ov=!1;function KA(t,e){if(_f=Xu,t=oE(),qp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,f=0,m=t,g=null;t:for(;;){for(var w;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(w=m.firstChild)!==null;)g=m,m=w;for(;;){if(m===t)break t;if(g===n&&++c===s&&(a=o),g===i&&++f===r&&(u=o),(w=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=w}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(wf={focusedElem:t,selectionRange:n},Xu=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var I=A.memoizedProps,C=A.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?I:wn(e.type,I),C);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(b){$e(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return A=Ov,Ov=!1,A}function na(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Lf(e,n,i)}s=s.next}while(s!==r)}}function qc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nT(t){var e=t.alternate;e!==null&&(t.alternate=null,nT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[Ia],delete e[xf],delete e[RA],delete e[bA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rT(t){return t.tag===5||t.tag===3||t.tag===4}function Mv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ec));else if(r!==4&&(t=t.child,t!==null))for(Vf(t,e,n),t=t.sibling;t!==null;)Vf(t,e,n),t=t.sibling}function Ff(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ff(t,e,n),t=t.sibling;t!==null;)Ff(t,e,n),t=t.sibling}var ct=null,En=!1;function Ir(t,e,n){for(n=n.child;n!==null;)sT(t,e,n),n=n.sibling}function sT(t,e,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Vc,n)}catch{}switch(n.tag){case 5:kt||wi(n,e);case 6:var r=ct,s=En;ct=null,Ir(t,e,n),ct=r,En=s,ct!==null&&(En?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(En?(t=ct,n=n.stateNode,t.nodeType===8?ch(t.parentNode,n):t.nodeType===1&&ch(t,n),_a(t)):ch(ct,n.stateNode));break;case 4:r=ct,s=En,ct=n.stateNode.containerInfo,En=!0,Ir(t,e,n),ct=r,En=s;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Lf(n,e,o),s=s.next}while(s!==r)}Ir(t,e,n);break;case 1:if(!kt&&(wi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,e,a)}Ir(t,e,n);break;case 21:Ir(t,e,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,Ir(t,e,n),kt=r):Ir(t,e,n);break;default:Ir(t,e,n)}}function Lv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qA),e.forEach(function(r){var s=nR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function _n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,En=!1;break e;case 3:ct=a.stateNode.containerInfo,En=!0;break e;case 4:ct=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(ct===null)throw Error($(160));sT(i,o,s),ct=null,En=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){$e(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iT(e,t),e=e.sibling}function iT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_n(e,t),On(t),r&4){try{na(3,t,t.return),qc(3,t)}catch(I){$e(t,t.return,I)}try{na(5,t,t.return)}catch(I){$e(t,t.return,I)}}break;case 1:_n(e,t),On(t),r&512&&n!==null&&wi(n,n.return);break;case 5:if(_n(e,t),On(t),r&512&&n!==null&&wi(n,n.return),t.flags&32){var s=t.stateNode;try{ma(s,"")}catch(I){$e(t,t.return,I)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&C0(s,i),uf(a,o);var c=uf(a,i);for(o=0;o<u.length;o+=2){var f=u[o],m=u[o+1];f==="style"?N0(s,m):f==="dangerouslySetInnerHTML"?b0(s,m):f==="children"?ma(s,m):Dp(s,f,m,c)}switch(a){case"input":rf(s,i);break;case"textarea":A0(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?xi(s,!!i.multiple,w,!1):g!==!!i.multiple&&(i.defaultValue!=null?xi(s,!!i.multiple,i.defaultValue,!0):xi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ia]=i}catch(I){$e(t,t.return,I)}}break;case 6:if(_n(e,t),On(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(I){$e(t,t.return,I)}}break;case 3:if(_n(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_a(e.containerInfo)}catch(I){$e(t,t.return,I)}break;case 4:_n(e,t),On(t);break;case 13:_n(e,t),On(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(hm=He())),r&4&&Lv(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(c=kt)||f,_n(e,t),kt=c):_n(e,t),On(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(H=t,f=t.child;f!==null;){for(m=H=f;H!==null;){switch(g=H,w=g.child,g.tag){case 0:case 11:case 14:case 15:na(4,g,g.return);break;case 1:wi(g,g.return);var A=g.stateNode;if(typeof A.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(I){$e(r,n,I)}}break;case 5:wi(g,g.return);break;case 22:if(g.memoizedState!==null){Vv(m);continue}}w!==null?(w.return=g,H=w):Vv(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=P0("display",o))}catch(I){$e(t,t.return,I)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(I){$e(t,t.return,I)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:_n(e,t),On(t),r&4&&Lv(t);break;case 21:break;default:_n(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rT(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ma(s,""),r.flags&=-33);var i=Mv(t);Ff(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Mv(t);Vf(t,a,o);break;default:throw Error($(161))}}catch(u){$e(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GA(t,e,n){H=t,oT(t)}function oT(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Jl;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||kt;a=Jl;var c=kt;if(Jl=o,(kt=u)&&!c)for(H=s;H!==null;)o=H,u=o.child,o.tag===22&&o.memoizedState!==null?Fv(s):u!==null?(u.return=o,H=u):Fv(s);for(;i!==null;)H=i,oT(i),i=i.sibling;H=s,Jl=a,kt=c}jv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):jv(t)}}function jv(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||qc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ev(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ev(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&_a(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}kt||e.flags&512&&jf(e)}catch(g){$e(e,e.return,g)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Vv(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Fv(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qc(4,e)}catch(u){$e(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){$e(e,s,u)}}var i=e.return;try{jf(e)}catch(u){$e(e,i,u)}break;case 5:var o=e.return;try{jf(e)}catch(u){$e(e,o,u)}}}catch(u){$e(e,e.return,u)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var QA=Math.ceil,dc=vr.ReactCurrentDispatcher,cm=vr.ReactCurrentOwner,cn=vr.ReactCurrentBatchConfig,fe=0,at=null,Xe=null,pt=0,Yt=0,Ei=ts(0),rt=0,ba=null,Ps=0,Kc=0,dm=0,ra=null,$t=null,hm=0,Ui=1/0,Xn=null,hc=!1,Uf=null,Br=null,Zl=!1,Lr=null,fc=0,sa=0,$f=null,Iu=-1,Su=0;function Mt(){return fe&6?He():Iu!==-1?Iu:Iu=He()}function Wr(t){return t.mode&1?fe&2&&pt!==0?pt&-pt:NA.transition!==null?(Su===0&&(Su=W0()),Su):(t=_e,t!==0||(t=window.event,t=t===void 0?16:X0(t.type)),t):1}function Sn(t,e,n,r){if(50<sa)throw sa=0,$f=null,Error($(185));Ga(t,n,r),(!(fe&2)||t!==at)&&(t===at&&(!(fe&2)&&(Kc|=n),rt===4&&Pr(t,pt)),Kt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Ui=He()+500,Bc&&ns()))}function Kt(t,e){var n=t.callbackNode;NC(t,e);var r=Yu(t,t===at?pt:0);if(r===0)n!==null&&Gy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gy(n),e===1)t.tag===0?PA(Uv.bind(null,t)):gE(Uv.bind(null,t)),CA(function(){!(fe&6)&&ns()}),n=null;else{switch(H0(r)){case 1:n=Vp;break;case 4:n=z0;break;case 16:n=Qu;break;case 536870912:n=B0;break;default:n=Qu}n=pT(n,aT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aT(t,e){if(Iu=-1,Su=0,fe&6)throw Error($(327));var n=t.callbackNode;if(Ai()&&t.callbackNode!==n)return null;var r=Yu(t,t===at?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pc(t,r);else{e=r;var s=fe;fe|=2;var i=uT();(at!==t||pt!==e)&&(Xn=null,Ui=He()+500,Ss(t,e));do try{JA();break}catch(a){lT(t,a)}while(!0);Xp(),dc.current=i,fe=s,Xe!==null?e=0:(at=null,pt=0,e=rt)}if(e!==0){if(e===2&&(s=pf(t),s!==0&&(r=s,e=zf(t,s))),e===1)throw n=ba,Ss(t,0),Pr(t,r),Kt(t,He()),n;if(e===6)Pr(t,r);else{if(s=t.current.alternate,!(r&30)&&!YA(s)&&(e=pc(t,r),e===2&&(i=pf(t),i!==0&&(r=i,e=zf(t,i))),e===1))throw n=ba,Ss(t,0),Pr(t,r),Kt(t,He()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:gs(t,$t,Xn);break;case 3:if(Pr(t,r),(r&130023424)===r&&(e=hm+500-He(),10<e)){if(Yu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Tf(gs.bind(null,t,$t,Xn),e);break}gs(t,$t,Xn);break;case 4:if(Pr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-In(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QA(r/1960))-r,10<r){t.timeoutHandle=Tf(gs.bind(null,t,$t,Xn),r);break}gs(t,$t,Xn);break;case 5:gs(t,$t,Xn);break;default:throw Error($(329))}}}return Kt(t,He()),t.callbackNode===n?aT.bind(null,t):null}function zf(t,e){var n=ra;return t.current.memoizedState.isDehydrated&&(Ss(t,e).flags|=256),t=pc(t,e),t!==2&&(e=$t,$t=n,e!==null&&Bf(e)),t}function Bf(t){$t===null?$t=t:$t.push.apply($t,t)}function YA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Cn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pr(t,e){for(e&=~dm,e&=~Kc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function Uv(t){if(fe&6)throw Error($(327));Ai();var e=Yu(t,0);if(!(e&1))return Kt(t,He()),null;var n=pc(t,e);if(t.tag!==0&&n===2){var r=pf(t);r!==0&&(e=r,n=zf(t,r))}if(n===1)throw n=ba,Ss(t,0),Pr(t,e),Kt(t,He()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gs(t,$t,Xn),Kt(t,He()),null}function fm(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Ui=He()+500,Bc&&ns())}}function Ns(t){Lr!==null&&Lr.tag===0&&!(fe&6)&&Ai();var e=fe;fe|=1;var n=cn.transition,r=_e;try{if(cn.transition=null,_e=1,t)return t()}finally{_e=r,cn.transition=n,fe=e,!(fe&6)&&ns()}}function pm(){Yt=Ei.current,be(Ei)}function Ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kA(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Gp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tc();break;case 3:Vi(),be(Ht),be(At),rm();break;case 5:nm(r);break;case 4:Vi();break;case 13:be(De);break;case 19:be(De);break;case 10:Jp(r.type._context);break;case 22:case 23:pm()}n=n.return}if(at=t,Xe=t=Hr(t.current,null),pt=Yt=e,rt=0,ba=null,dm=Kc=Ps=0,$t=ra=null,ws!==null){for(e=0;e<ws.length;e++)if(n=ws[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ws=null}return t}function lT(t,e){do{var n=Xe;try{if(Xp(),Eu.current=cc,uc){for(var r=Me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}uc=!1}if(bs=0,ot=nt=Me=null,ta=!1,Ca=0,cm.current=null,n===null||n.return===null){rt=1,ba=e,Xe=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=pt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=Cv(o);if(w!==null){w.flags&=-257,Av(w,o,a,i,e),w.mode&1&&kv(i,c,e),e=w,u=c;var A=e.updateQueue;if(A===null){var I=new Set;I.add(u),e.updateQueue=I}else A.add(u);break e}else{if(!(e&1)){kv(i,c,e),mm();break e}u=Error($(426))}}else if(Pe&&a.mode&1){var C=Cv(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Av(C,o,a,i,e),Qp(Fi(u,a));break e}}i=u=Fi(u,a),rt!==4&&(rt=2),ra===null?ra=[i]:ra.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=HE(i,u,e);wv(i,E);break e;case 1:a=u;var _=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Br===null||!Br.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=qE(i,a,e);wv(i,b);break e}}i=i.return}while(i!==null)}dT(n)}catch(L){e=L,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function uT(){var t=dc.current;return dc.current=cc,t===null?cc:t}function mm(){(rt===0||rt===3||rt===2)&&(rt=4),at===null||!(Ps&268435455)&&!(Kc&268435455)||Pr(at,pt)}function pc(t,e){var n=fe;fe|=2;var r=uT();(at!==t||pt!==e)&&(Xn=null,Ss(t,e));do try{XA();break}catch(s){lT(t,s)}while(!0);if(Xp(),fe=n,dc.current=r,Xe!==null)throw Error($(261));return at=null,pt=0,rt}function XA(){for(;Xe!==null;)cT(Xe)}function JA(){for(;Xe!==null&&!xC();)cT(Xe)}function cT(t){var e=fT(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?dT(t):Xe=e,cm.current=null}function dT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HA(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Xe=null;return}}else if(n=WA(n,e,Yt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);rt===0&&(rt=5)}function gs(t,e,n){var r=_e,s=cn.transition;try{cn.transition=null,_e=1,ZA(t,e,n,r)}finally{cn.transition=s,_e=r}return null}function ZA(t,e,n,r){do Ai();while(Lr!==null);if(fe&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(DC(t,i),t===at&&(Xe=at=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zl||(Zl=!0,pT(Qu,function(){return Ai(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=cn.transition,cn.transition=null;var o=_e;_e=1;var a=fe;fe|=4,cm.current=null,KA(t,n),iT(n,t),_A(wf),Xu=!!_f,wf=_f=null,t.current=n,GA(n),IC(),fe=a,_e=o,cn.transition=i}else t.current=n;if(Zl&&(Zl=!1,Lr=t,fc=s),i=t.pendingLanes,i===0&&(Br=null),CC(n.stateNode),Kt(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hc)throw hc=!1,t=Uf,Uf=null,t;return fc&1&&t.tag!==0&&Ai(),i=t.pendingLanes,i&1?t===$f?sa++:(sa=0,$f=t):sa=0,ns(),null}function Ai(){if(Lr!==null){var t=H0(fc),e=cn.transition,n=_e;try{if(cn.transition=null,_e=16>t?16:t,Lr===null)var r=!1;else{if(t=Lr,Lr=null,fc=0,fe&6)throw Error($(331));var s=fe;for(fe|=4,H=t.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(H=c;H!==null;){var f=H;switch(f.tag){case 0:case 11:case 15:na(8,f,i)}var m=f.child;if(m!==null)m.return=f,H=m;else for(;H!==null;){f=H;var g=f.sibling,w=f.return;if(nT(f),f===c){H=null;break}if(g!==null){g.return=w,H=g;break}H=w}}}var A=i.alternate;if(A!==null){var I=A.child;if(I!==null){A.child=null;do{var C=I.sibling;I.sibling=null,I=C}while(I!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:na(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,H=E;break e}H=i.return}}var _=t.current;for(H=_;H!==null;){o=H;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,H=T;else e:for(o=_;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qc(9,a)}}catch(L){$e(a,a.return,L)}if(a===o){H=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,H=b;break e}H=a.return}}if(fe=s,ns(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Vc,t)}catch{}r=!0}return r}finally{_e=n,cn.transition=e}}return!1}function $v(t,e,n){e=Fi(n,e),e=HE(t,e,1),t=zr(t,e,1),e=Mt(),t!==null&&(Ga(t,1,e),Kt(t,e))}function $e(t,e,n){if(t.tag===3)$v(t,t,n);else for(;e!==null;){if(e.tag===3){$v(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Br===null||!Br.has(r))){t=Fi(n,t),t=qE(e,t,1),e=zr(e,t,1),t=Mt(),e!==null&&(Ga(e,1,t),Kt(e,t));break}}e=e.return}}function eR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(pt&n)===n&&(rt===4||rt===3&&(pt&130023424)===pt&&500>He()-hm?Ss(t,0):dm|=n),Kt(t,e)}function hT(t,e){e===0&&(t.mode&1?(e=Bl,Bl<<=1,!(Bl&130023424)&&(Bl=4194304)):e=1);var n=Mt();t=dr(t,e),t!==null&&(Ga(t,e,n),Kt(t,n))}function tR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hT(t,n)}function nR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),hT(t,n)}var fT;fT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)Wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wt=!1,BA(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,Pe&&e.flags&1048576&&yE(e,sc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xu(t,e),t=e.pendingProps;var s=Mi(e,At.current);Ci(e,n),s=im(null,e,r,t,s,n);var i=om();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(i=!0,nc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,em(e),s.updater=Hc,e.stateNode=s,s._reactInternals=e,Rf(e,r,t,n),e=Nf(null,e,r,!0,i,n)):(e.tag=0,Pe&&i&&Kp(e),Nt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=sR(r),t=wn(r,t),s){case 0:e=Pf(null,e,r,t,n);break e;case 1:e=Pv(null,e,r,t,n);break e;case 11:e=Rv(null,e,r,t,n);break e;case 14:e=bv(null,e,r,wn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wn(r,s),Pf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wn(r,s),Pv(t,e,r,s,n);case 3:e:{if(YE(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,xE(t,e),ac(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Fi(Error($(423)),e),e=Nv(t,e,r,n,s);break e}else if(r!==s){s=Fi(Error($(424)),e),e=Nv(t,e,r,n,s);break e}else for(Xt=$r(e.stateNode.containerInfo.firstChild),tn=e,Pe=!0,Tn=null,n=EE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Li(),r===s){e=hr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return IE(e),t===null&&kf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ef(r,s)?o=null:i!==null&&Ef(r,i)&&(e.flags|=32),QE(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&kf(e),null;case 13:return XE(t,e,n);case 4:return tm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ji(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wn(r,s),Rv(t,e,r,s,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Se(ic,r._currentValue),r._currentValue=o,i!==null)if(Cn(i.value,o)){if(i.children===s.children&&!Ht.current){e=hr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=ir(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Cf(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ci(e,n),s=hn(s),r=r(s),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,s=wn(r,e.pendingProps),s=wn(r.type,s),bv(t,e,r,s,n);case 15:return KE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:wn(r,s),xu(t,e),e.tag=1,qt(r)?(t=!0,nc(e)):t=!1,Ci(e,n),WE(e,r,s),Rf(e,r,s,n),Nf(null,e,r,!0,t,n);case 19:return JE(t,e,n);case 22:return GE(t,e,n)}throw Error($(156,e.tag))};function pT(t,e){return $0(t,e)}function rR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,e,n,r){return new rR(t,e,n,r)}function gm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sR(t){if(typeof t=="function")return gm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mp)return 11;if(t===Lp)return 14}return 2}function Hr(t,e){var n=t.alternate;return n===null?(n=un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ku(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")gm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case di:return ks(n.children,s,i,e);case Op:o=8,s|=8;break;case Jh:return t=un(12,n,e,s|2),t.elementType=Jh,t.lanes=i,t;case Zh:return t=un(13,n,e,s),t.elementType=Zh,t.lanes=i,t;case ef:return t=un(19,n,e,s),t.elementType=ef,t.lanes=i,t;case I0:return Gc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T0:o=10;break e;case x0:o=9;break e;case Mp:o=11;break e;case Lp:o=14;break e;case Ar:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=un(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ks(t,e,n,r){return t=un(7,t,r,e),t.lanes=n,t}function Gc(t,e,n,r){return t=un(22,t,r,e),t.elementType=I0,t.lanes=n,t.stateNode={isHidden:!1},t}function vh(t,e,n){return t=un(6,t,null,e),t.lanes=n,t}function _h(t,e,n){return e=un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zd(0),this.expirationTimes=Zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ym(t,e,n,r,s,i,o,a,u){return t=new iR(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=un(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},em(i),t}function oR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ci,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mT(t){if(!t)return Yr;t=t._reactInternals;e:{if(Bs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(qt(n))return mE(t,n,e)}return e}function gT(t,e,n,r,s,i,o,a,u){return t=ym(n,r,!0,t,s,i,o,a,u),t.context=mT(null),n=t.current,r=Mt(),s=Wr(n),i=ir(r,s),i.callback=e??null,zr(n,i,s),t.current.lanes=s,Ga(t,s,r),Kt(t,r),t}function Qc(t,e,n,r){var s=e.current,i=Mt(),o=Wr(s);return n=mT(n),e.context===null?e.context=n:e.pendingContext=n,e=ir(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zr(s,e,o),t!==null&&(Sn(t,s,o,i),wu(t,s,o)),o}function mc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vm(t,e){zv(t,e),(t=t.alternate)&&zv(t,e)}function aR(){return null}var yT=typeof reportError=="function"?reportError:function(t){console.error(t)};function _m(t){this._internalRoot=t}Yc.prototype.render=_m.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Qc(t,e,null,null)};Yc.prototype.unmount=_m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ns(function(){Qc(null,t,null,null)}),e[cr]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=G0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<br.length&&e!==0&&e<br[n].priority;n++);br.splice(n,0,t),n===0&&Y0(t)}};function wm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bv(){}function lR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=mc(o);i.call(c)}}var o=gT(e,r,t,0,null,!1,!1,"",Bv);return t._reactRootContainer=o,t[cr]=o.current,Ta(t.nodeType===8?t.parentNode:t),Ns(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=mc(u);a.call(c)}}var u=ym(t,0,!1,null,null,!1,!1,"",Bv);return t._reactRootContainer=u,t[cr]=u.current,Ta(t.nodeType===8?t.parentNode:t),Ns(function(){Qc(e,u,n,r)}),u}function Jc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=mc(o);a.call(u)}}Qc(e,o,t,s)}else o=lR(n,e,t,s,r);return mc(o)}q0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uo(e.pendingLanes);n!==0&&(Fp(e,n|1),Kt(e,He()),!(fe&6)&&(Ui=He()+500,ns()))}break;case 13:Ns(function(){var r=dr(t,1);if(r!==null){var s=Mt();Sn(r,t,1,s)}}),vm(t,1)}};Up=function(t){if(t.tag===13){var e=dr(t,134217728);if(e!==null){var n=Mt();Sn(e,t,134217728,n)}vm(t,134217728)}};K0=function(t){if(t.tag===13){var e=Wr(t),n=dr(t,e);if(n!==null){var r=Mt();Sn(n,t,e,r)}vm(t,e)}};G0=function(){return _e};Q0=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};df=function(t,e,n){switch(e){case"input":if(rf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=zc(r);if(!s)throw Error($(90));k0(r),rf(r,s)}}}break;case"textarea":A0(t,n);break;case"select":e=n.value,e!=null&&xi(t,!!n.multiple,e,!1)}};M0=fm;L0=Ns;var uR={usingClientEntryPoint:!1,Events:[Ya,mi,zc,D0,O0,fm]},Do={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cR={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=F0(t),t===null?null:t.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||aR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{Vc=eu.inject(cR),Vn=eu}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uR;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wm(e))throw Error($(200));return oR(t,e,null,n)};sn.createRoot=function(t,e){if(!wm(t))throw Error($(299));var n=!1,r="",s=yT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ym(t,1,!1,null,null,n,!1,r,s),t[cr]=e.current,Ta(t.nodeType===8?t.parentNode:t),new _m(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=F0(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return Ns(t)};sn.hydrate=function(t,e,n){if(!Xc(e))throw Error($(200));return Jc(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!wm(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=yT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gT(e,null,t,1,n??null,s,!1,i,o),t[cr]=e.current,Ta(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yc(e)};sn.render=function(t,e,n){if(!Xc(e))throw Error($(200));return Jc(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!Xc(t))throw Error($(40));return t._reactRootContainer?(Ns(function(){Jc(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};sn.unstable_batchedUpdates=fm;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xc(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Jc(t,e,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function vT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vT)}catch(t){console.error(t)}}vT(),v0.exports=sn;var Em=v0.exports;const dR=i0(Em);var _T,Wv=Em;_T=Wv.createRoot,Wv.hydrateRoot;/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hv="popstate";function hR(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Wf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Pa(s)}return pR(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fR(){return Math.random().toString(36).substring(2,10)}function qv(t,e){return{usr:t.state,key:t.key,idx:e}}function Wf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Zi(e):e,state:n,key:e&&e.key||r||fR()}}function Pa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function pR(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",u=null,c=f();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function f(){return(o.state||{idx:null}).idx}function m(){a="POP";let C=f(),E=C==null?null:C-c;c=C,u&&u({action:a,location:I.location,delta:E})}function g(C,E){a="PUSH";let _=Wf(I.location,C,E);c=f()+1;let T=qv(_,c),b=I.createHref(_);try{o.pushState(T,"",b)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(b)}i&&u&&u({action:a,location:I.location,delta:1})}function w(C,E){a="REPLACE";let _=Wf(I.location,C,E);c=f();let T=qv(_,c),b=I.createHref(_);o.replaceState(T,"",b),i&&u&&u({action:a,location:I.location,delta:0})}function A(C){return mR(C)}let I={get action(){return a},get location(){return t(s,o)},listen(C){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Hv,m),u=C,()=>{s.removeEventListener(Hv,m),u=null}},createHref(C){return e(s,C)},createURL:A,encodeLocation(C){let E=A(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:w,go(C){return o.go(C)}};return I}function mR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Le(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Pa(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function wT(t,e,n="/"){return gR(t,e,n,!1)}function gR(t,e,n,r){let s=typeof e=="string"?Zi(e):e,i=fr(s.pathname||"/",n);if(i==null)return null;let o=ET(t);yR(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=AR(i);a=kR(o[u],c,r)}return a}function ET(t,e=[],n=[],r="",s=!1){let i=(o,a,u=s,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;Le(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let m=or([r,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Le(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),ET(o.children,e,g,m,u)),!(o.path==null&&!o.index)&&e.push({path:m,score:IR(m,o.index),routesMeta:g})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,a);else for(let c of TT(o.path))i(o,a,!0,c)}),e}function TT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=TT(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function yR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var vR=/^:[\w-]+$/,_R=3,wR=2,ER=1,TR=10,xR=-2,Kv=t=>t==="*";function IR(t,e){let n=t.split("/"),r=n.length;return n.some(Kv)&&(r+=xR),e&&(r+=wR),n.filter(s=>!Kv(s)).reduce((s,i)=>s+(vR.test(i)?_R:i===""?ER:TR),r)}function SR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function kR(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",m=gc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=gc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:or([i,m.pathname]),pathnameBase:NR(or([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=or([i,m.pathnameBase]))}return o}function gc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=CR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:m},g)=>{if(f==="*"){let A=a[g]||"";o=i.slice(0,i.length-A.length).replace(/(.)\/+$/,"$1")}const w=a[g];return m&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function CR(t,e=!1,n=!0){Bn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function AR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function RR(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Zi(t):t;return{pathname:n?n.startsWith("/")?n:bR(n,e):e,search:DR(r),hash:OR(s)}}function bR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xT(t){let e=PR(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function IT(t,e,n,r=!1){let s;typeof t=="string"?s=Zi(t):(s={...t},Le(!s.pathname||!s.pathname.includes("?"),wh("?","pathname","search",s)),Le(!s.pathname||!s.pathname.includes("#"),wh("#","pathname","hash",s)),Le(!s.search||!s.search.includes("#"),wh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}a=m>=0?e[m]:"/"}let u=RR(s,a),c=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var or=t=>t.join("/").replace(/\/\/+/g,"/"),NR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ST=["POST","PUT","PATCH","DELETE"];new Set(ST);var LR=["GET",...ST];new Set(LR);var eo=y.createContext(null);eo.displayName="DataRouter";var Zc=y.createContext(null);Zc.displayName="DataRouterState";y.createContext(!1);var kT=y.createContext({isTransitioning:!1});kT.displayName="ViewTransition";var jR=y.createContext(new Map);jR.displayName="Fetchers";var VR=y.createContext(null);VR.displayName="Await";var qn=y.createContext(null);qn.displayName="Navigation";var Ja=y.createContext(null);Ja.displayName="Location";var Kn=y.createContext({outlet:null,matches:[],isDataRoute:!1});Kn.displayName="Route";var Tm=y.createContext(null);Tm.displayName="RouteError";function FR(t,{relative:e}={}){Le(Za(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(qn),{hash:s,pathname:i,search:o}=el(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:or([n,i])),r.createHref({pathname:a,search:o,hash:s})}function Za(){return y.useContext(Ja)!=null}function rs(){return Le(Za(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Ja).location}var CT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AT(t){y.useContext(qn).static||y.useLayoutEffect(t)}function xm(){let{isDataRoute:t}=y.useContext(Kn);return t?eb():UR()}function UR(){Le(Za(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(eo),{basename:e,navigator:n}=y.useContext(qn),{matches:r}=y.useContext(Kn),{pathname:s}=rs(),i=JSON.stringify(xT(r)),o=y.useRef(!1);return AT(()=>{o.current=!0}),y.useCallback((u,c={})=>{if(Bn(o.current,CT),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=IT(u,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:or([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,i,s,t])}var $R=y.createContext(null);function zR(t){let e=y.useContext(Kn).outlet;return y.useMemo(()=>e&&y.createElement($R.Provider,{value:t},e),[e,t])}function el(t,{relative:e}={}){let{matches:n}=y.useContext(Kn),{pathname:r}=rs(),s=JSON.stringify(xT(n));return y.useMemo(()=>IT(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function BR(t,e){return RT(t,e)}function RT(t,e,n,r,s){var _;Le(Za(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=y.useContext(qn),{matches:o}=y.useContext(Kn),a=o[o.length-1],u=a?a.params:{},c=a?a.pathname:"/",f=a?a.pathnameBase:"/",m=a&&a.route;{let T=m&&m.path||"";bT(c,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=rs(),w;if(e){let T=typeof e=="string"?Zi(e):e;Le(f==="/"||((_=T.pathname)==null?void 0:_.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),w=T}else w=g;let A=w.pathname||"/",I=A;if(f!=="/"){let T=f.replace(/^\//,"").split("/");I="/"+A.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=wT(t,{pathname:I});Bn(m||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Bn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=GR(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:or([f,i.encodeLocation?i.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:or([f,i.encodeLocation?i.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),o,n,r,s);return e&&E?y.createElement(Ja.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},E):E}function WR(){let t=ZR(),e=MR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,o)}var HR=y.createElement(WR,null),qR=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?y.createElement(Kn.Provider,{value:this.props.routeContext},y.createElement(Tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KR({routeContext:t,match:e,children:n}){let r=y.useContext(eo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Kn.Provider,{value:t},n)}function GR(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let c=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Le(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,u=-1;if(n)for(let c=0;c<i.length;c++){let f=i[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:m,errors:g}=n,w=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,f,m)=>{let g,w=!1,A=null,I=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,A=f.route.errorElement||HR,a&&(u<0&&m===0?(bT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):u===m&&(w=!0,I=f.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,m+1)),E=()=>{let _;return g?_=A:w?_=I:f.route.Component?_=y.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=c,y.createElement(KR,{match:f,routeContext:{outlet:c,matches:C,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?y.createElement(qR,{location:n.location,revalidation:n.revalidation,component:A,error:g,children:E(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):E()},null)}function Im(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QR(t){let e=y.useContext(eo);return Le(e,Im(t)),e}function YR(t){let e=y.useContext(Zc);return Le(e,Im(t)),e}function XR(t){let e=y.useContext(Kn);return Le(e,Im(t)),e}function Sm(t){let e=XR(t),n=e.matches[e.matches.length-1];return Le(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function JR(){return Sm("useRouteId")}function ZR(){var r;let t=y.useContext(Tm),e=YR("useRouteError"),n=Sm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function eb(){let{router:t}=QR("useNavigate"),e=Sm("useNavigate"),n=y.useRef(!1);return AT(()=>{n.current=!0}),y.useCallback(async(s,i={})=>{Bn(n.current,CT),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var Gv={};function bT(t,e,n){!e&&!Gv[t]&&(Gv[t]=!0,Bn(!1,n))}y.memo(tb);function tb({routes:t,future:e,state:n,unstable_onError:r}){return RT(t,void 0,n,r,e)}function Qv(t){return zR(t.context)}function ys(t){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nb({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Le(!Za(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=y.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Zi(n));let{pathname:u="/",search:c="",hash:f="",state:m=null,key:g="default"}=n,w=y.useMemo(()=>{let A=fr(u,o);return A==null?null:{location:{pathname:A,search:c,hash:f,state:m,key:g},navigationType:r}},[o,u,c,f,m,g,r]);return Bn(w!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:y.createElement(qn.Provider,{value:a},y.createElement(Ja.Provider,{children:e,value:w}))}function rb({children:t,location:e}){return BR(Hf(t),e)}function Hf(t,e=[]){let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,Hf(r.props.children,i));return}Le(r.type===ys,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Hf(r.props.children,i)),n.push(o)}),n}var Cu="get",Au="application/x-www-form-urlencoded";function ed(t){return t!=null&&typeof t.tagName=="string"}function sb(t){return ed(t)&&t.tagName.toLowerCase()==="button"}function ib(t){return ed(t)&&t.tagName.toLowerCase()==="form"}function ob(t){return ed(t)&&t.tagName.toLowerCase()==="input"}function ab(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lb(t,e){return t.button===0&&(!e||e==="_self")&&!ab(t)}var tu=null;function ub(){if(tu===null)try{new FormData(document.createElement("form"),0),tu=!1}catch{tu=!0}return tu}var cb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eh(t){return t!=null&&!cb.has(t)?(Bn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Au}"`),null):t}function db(t,e){let n,r,s,i,o;if(ib(t)){let a=t.getAttribute("action");r=a?fr(a,e):null,n=t.getAttribute("method")||Cu,s=Eh(t.getAttribute("enctype"))||Au,i=new FormData(t)}else if(sb(t)||ob(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?fr(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Cu,s=Eh(t.getAttribute("formenctype"))||Eh(a.getAttribute("enctype"))||Au,i=new FormData(a,t),!ub()){let{name:c,type:f,value:m}=t;if(f==="image"){let g=c?`${c}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else c&&i.append(c,m)}}else{if(ed(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cu,r=null,s=Au,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function km(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hb(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&fr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function fb(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function mb(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await fb(i,n);return o.links?o.links():[]}return[]}));return _b(r.flat(1).filter(pb).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Yv(t,e,n,r,s,i){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,c)=>o(u,c)||a(u,c)):i==="data"?e.filter((u,c)=>{var m;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function gb(t,e,{includeHydrateFallback:n}={}){return yb(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function yb(t){return[...new Set(t)]}function vb(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function _b(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(vb(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function PT(){let t=y.useContext(eo);return km(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function wb(){let t=y.useContext(Zc);return km(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cm=y.createContext(void 0);Cm.displayName="FrameworkContext";function NT(){let t=y.useContext(Cm);return km(t,"You must render this element inside a <HydratedRouter> element"),t}function Eb(t,e){let n=y.useContext(Cm),[r,s]=y.useState(!1),[i,o]=y.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:m}=e,g=y.useRef(null);y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let I=E=>{E.forEach(_=>{o(_.isIntersecting)})},C=new IntersectionObserver(I,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[t]),y.useEffect(()=>{if(r){let I=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(I)}}},[r]);let w=()=>{s(!0)},A=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,g,{}]:[i,g,{onFocus:Oo(a,w),onBlur:Oo(u,A),onMouseEnter:Oo(c,w),onMouseLeave:Oo(f,A),onTouchStart:Oo(m,w)}]:[!1,g,{}]}function Oo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Tb({page:t,...e}){let{router:n}=PT(),r=y.useMemo(()=>wT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?y.createElement(Ib,{page:t,matches:r,...e}):null}function xb(t){let{manifest:e,routeModules:n}=NT(),[r,s]=y.useState([]);return y.useEffect(()=>{let i=!1;return mb(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function Ib({page:t,matches:e,...n}){let r=rs(),{manifest:s,routeModules:i}=NT(),{basename:o}=PT(),{loaderData:a,matches:u}=wb(),c=y.useMemo(()=>Yv(t,e,u,s,r,"data"),[t,e,u,s,r]),f=y.useMemo(()=>Yv(t,e,u,s,r,"assets"),[t,e,u,s,r]),m=y.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,I=!1;if(e.forEach(E=>{var T;let _=s.routes[E.route.id];!_||!_.hasLoader||(!c.some(b=>b.route.id===E.route.id)&&E.route.id in a&&((T=i[E.route.id])!=null&&T.shouldRevalidate)||_.hasClientLoader?I=!0:A.add(E.route.id))}),A.size===0)return[];let C=hb(t,o,"data");return I&&A.size>0&&C.searchParams.set("_routes",e.filter(E=>A.has(E.route.id)).map(E=>E.route.id).join(",")),[C.pathname+C.search]},[o,a,r,s,c,e,t,i]),g=y.useMemo(()=>gb(f,s),[f,s]),w=xb(f);return y.createElement(y.Fragment,null,m.map(A=>y.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),g.map(A=>y.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),w.map(({key:A,link:I})=>y.createElement("link",{key:A,nonce:n.nonce,...I})))}function Sb(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var DT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DT&&(window.__reactRouterVersion="7.9.2")}catch{}function kb({basename:t,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=hR({window:n,v5Compat:!0}));let s=r.current,[i,o]=y.useState({action:s.action,location:s.location}),a=y.useCallback(u=>{y.startTransition(()=>o(u))},[o]);return y.useLayoutEffect(()=>s.listen(a),[s,a]),y.createElement(nb,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var OT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Na=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:f,viewTransition:m,...g},w){let{basename:A}=y.useContext(qn),I=typeof c=="string"&&OT.test(c),C,E=!1;if(typeof c=="string"&&I&&(C=c,DT))try{let k=new URL(window.location.href),R=c.startsWith("//")?new URL(k.protocol+c):new URL(c),N=fr(R.pathname,A);R.origin===k.origin&&N!=null?c=N+R.search+R.hash:E=!0}catch{Bn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=FR(c,{relative:s}),[T,b,L]=Eb(r,g),M=bb(c,{replace:o,state:a,target:u,preventScrollReset:f,relative:s,viewTransition:m});function S(k){e&&e(k),k.defaultPrevented||M(k)}let v=y.createElement("a",{...g,...L,href:C||_,onClick:E||i?e:S,ref:Sb(w,b),target:u,"data-discover":!I&&n==="render"?"true":void 0});return T&&!I?y.createElement(y.Fragment,null,v,y.createElement(Tb,{page:_})):v});Na.displayName="Link";var Cb=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:u,...c},f){let m=el(o,{relative:c.relative}),g=rs(),w=y.useContext(Zc),{navigator:A,basename:I}=y.useContext(qn),C=w!=null&&Mb(m)&&a===!0,E=A.encodeLocation?A.encodeLocation(m).pathname:m.pathname,_=g.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(_=_.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&I&&(T=fr(T,I)||T);const b=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=_===E||!s&&_.startsWith(E)&&_.charAt(b)==="/",M=T!=null&&(T===E||!s&&T.startsWith(E)&&T.charAt(E.length)==="/"),S={isActive:L,isPending:M,isTransitioning:C},v=L?e:void 0,k;typeof r=="function"?k=r(S):k=[r,L?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(S):i;return y.createElement(Na,{...c,"aria-current":v,className:k,ref:f,style:R,to:o,viewTransition:a},typeof u=="function"?u(S):u)});Cb.displayName="NavLink";var Ab=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Cu,action:a,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:m,...g},w)=>{let A=Db(),I=Ob(a,{relative:c}),C=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&OT.test(a),_=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let b=T.nativeEvent.submitter,L=(b==null?void 0:b.getAttribute("formmethod"))||o;A(b||T.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:s,state:i,relative:c,preventScrollReset:f,viewTransition:m})};return y.createElement("form",{ref:w,method:C,action:I,onSubmit:r?u:_,...g,"data-discover":!E&&t==="render"?"true":void 0})});Ab.displayName="Form";function Rb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MT(t){let e=y.useContext(eo);return Le(e,Rb(t)),e}function bb(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=xm(),u=rs(),c=el(t,{relative:i});return y.useCallback(f=>{if(lb(f,e)){f.preventDefault();let m=n!==void 0?n:Pa(u)===Pa(c);a(t,{replace:m,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[u,a,c,n,r,e,t,s,i,o])}var Pb=0,Nb=()=>`__${String(++Pb)}__`;function Db(){let{router:t}=MT("useSubmit"),{basename:e}=y.useContext(qn),n=JR();return y.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:u,body:c}=db(r,e);if(s.navigate===!1){let f=s.fetcherKey||Nb();await t.fetch(f,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Ob(t,{relative:e}={}){let{basename:n}=y.useContext(qn),r=y.useContext(Kn);Le(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...el(t||".",{relative:e})},o=rs();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),u=a.getAll("index");if(u.some(f=>f==="")){a.delete("index"),u.filter(m=>m).forEach(m=>a.append("index",m));let f=a.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:or([n,i.pathname])),Pa(i)}function Mb(t,{relative:e}={}){let n=y.useContext(kT);Le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=MT("useViewTransitionState"),s=el(t,{relative:e});if(!n.isTransitioning)return!1;let i=fr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=fr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gc(s.pathname,o)!=null||gc(s.pathname,i)!=null}function LT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=LT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=LT(t))&&(r&&(r+=" "),r+=e);return r}const Am="-",Lb=t=>{const e=Vb(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Am);return a[0]===""&&a.length!==1&&a.shift(),VT(a,e)||jb(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},VT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?VT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Am);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Xv=/^\[(.+)\]$/,jb=t=>{if(Xv.test(t)){const e=Xv.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Vb=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)qf(n[s],r,s,e);return r},qf=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Jv(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Fb(s)){qf(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{qf(o,Jv(e,i),n,r)})})},Jv=(t,e)=>{let n=t;return e.split(Am).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Fb=t=>t.isThemeGetter,Ub=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Kf="!",Gf=":",$b=Gf.length,zb=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,a=0,u=0,c;for(let A=0;A<s.length;A++){let I=s[A];if(o===0&&a===0){if(I===Gf){i.push(s.slice(u,A)),u=A+$b;continue}if(I==="/"){c=A;continue}}I==="["?o++:I==="]"?o--:I==="("?a++:I===")"&&a--}const f=i.length===0?s:s.substring(u),m=Bb(f),g=m!==f,w=c&&c>u?c-u:void 0;return{modifiers:i,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:w}};if(e){const s=e+Gf,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},Bb=t=>t.endsWith(Kf)?t.substring(0,t.length-1):t.startsWith(Kf)?t.substring(1):t,Wb=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||e[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},Hb=t=>({cache:Ub(t.cacheSize),parseClassName:zb(t),sortModifiers:Wb(t),...Lb(t)}),qb=/\s+/,Kb=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(qb);let u="";for(let c=a.length-1;c>=0;c-=1){const f=a[c],{isExternal:m,modifiers:g,hasImportantModifier:w,baseClassName:A,maybePostfixModifierPosition:I}=n(f);if(m){u=f+(u.length>0?" "+u:u);continue}let C=!!I,E=r(C?A.substring(0,I):A);if(!E){if(!C){u=f+(u.length>0?" "+u:u);continue}if(E=r(A),!E){u=f+(u.length>0?" "+u:u);continue}C=!1}const _=i(g).join(":"),T=w?_+Kf:_,b=T+E;if(o.includes(b))continue;o.push(b);const L=s(E,C);for(let M=0;M<L.length;++M){const S=L[M];o.push(T+S)}u=f+(u.length>0?" "+u:u)}return u};function Gb(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=FT(e))&&(r&&(r+=" "),r+=n);return r}const FT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=FT(t[r]))&&(n&&(n+=" "),n+=e);return n};function Qb(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((f,m)=>m(f),t());return n=Hb(c),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const c=r(u);if(c)return c;const f=Kb(u,n);return s(u,f),f}return function(){return i(Gb.apply(null,arguments))}}const tt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},UT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$T=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Yb=/^\d+\/\d+$/,Xb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,eP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ri=t=>Yb.test(t),se=t=>!!t&&!Number.isNaN(Number(t)),Sr=t=>!!t&&Number.isInteger(Number(t)),Th=t=>t.endsWith("%")&&se(t.slice(0,-1)),Yn=t=>Xb.test(t),nP=()=>!0,rP=t=>Jb.test(t)&&!Zb.test(t),zT=()=>!1,sP=t=>eP.test(t),iP=t=>tP.test(t),oP=t=>!q(t)&&!K(t),aP=t=>to(t,HT,zT),q=t=>UT.test(t),ps=t=>to(t,qT,rP),xh=t=>to(t,hP,se),Zv=t=>to(t,BT,zT),lP=t=>to(t,WT,iP),nu=t=>to(t,KT,sP),K=t=>$T.test(t),Mo=t=>no(t,qT),uP=t=>no(t,fP),e_=t=>no(t,BT),cP=t=>no(t,HT),dP=t=>no(t,WT),ru=t=>no(t,KT,!0),to=(t,e,n)=>{const r=UT.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},no=(t,e,n=!1)=>{const r=$T.exec(t);return r?r[1]?e(r[1]):n:!1},BT=t=>t==="position"||t==="percentage",WT=t=>t==="image"||t==="url",HT=t=>t==="length"||t==="size"||t==="bg-size",qT=t=>t==="length",hP=t=>t==="number",fP=t=>t==="family-name",KT=t=>t==="shadow",pP=()=>{const t=tt("color"),e=tt("font"),n=tt("text"),r=tt("font-weight"),s=tt("tracking"),i=tt("leading"),o=tt("breakpoint"),a=tt("container"),u=tt("spacing"),c=tt("radius"),f=tt("shadow"),m=tt("inset-shadow"),g=tt("text-shadow"),w=tt("drop-shadow"),A=tt("blur"),I=tt("perspective"),C=tt("aspect"),E=tt("ease"),_=tt("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...b(),K,q],M=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],v=()=>[K,q,u],k=()=>[ri,"full","auto",...v()],R=()=>[Sr,"none","subgrid",K,q],N=()=>["auto",{span:["full",Sr,K,q]},Sr,K,q],D=()=>[Sr,"auto",K,q],P=()=>["auto","min","max","fr",K,q],Be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],et=()=>["start","end","center","stretch","center-safe","end-safe"],Ee=()=>["auto",...v()],Ge=()=>[ri,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],V=()=>[t,K,q],Y=()=>[...b(),e_,Zv,{position:[K,q]}],Z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Te=()=>["auto","cover","contain",cP,aP,{size:[K,q]}],ie=()=>[Th,Mo,ps],re=()=>["","none","full",c,K,q],xe=()=>["",se,Mo,ps],st=()=>["solid","dashed","dotted","double"],vt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[se,Th,e_,Zv],Xs=()=>["","none",A,K,q],_r=()=>["none",se,K,q],yn=()=>["none",se,K,q],Nn=()=>[se,K,q],Dn=()=>[ri,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Yn],breakpoint:[Yn],color:[nP],container:[Yn],"drop-shadow":[Yn],ease:["in","out","in-out"],font:[oP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Yn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Yn],shadow:[Yn],spacing:["px",se],text:[Yn],"text-shadow":[Yn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ri,q,K,C]}],container:["container"],columns:[{columns:[se,q,K,a]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[Sr,"auto",K,q]}],basis:[{basis:[ri,"full","auto",a,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[se,ri,"auto","initial","none",q]}],grow:[{grow:["",se,K,q]}],shrink:[{shrink:["",se,K,q]}],order:[{order:[Sr,"first","last","none",K,q]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:[...Be(),"normal"]}],"justify-items":[{"justify-items":[...et(),"normal"]}],"justify-self":[{"justify-self":["auto",...et()]}],"align-content":[{content:["normal",...Be()]}],"align-items":[{items:[...et(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...et(),{baseline:["","last"]}]}],"place-content":[{"place-content":Be()}],"place-items":[{"place-items":[...et(),"baseline"]}],"place-self":[{"place-self":["auto",...et()]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:Ee()}],mx:[{mx:Ee()}],my:[{my:Ee()}],ms:[{ms:Ee()}],me:[{me:Ee()}],mt:[{mt:Ee()}],mr:[{mr:Ee()}],mb:[{mb:Ee()}],ml:[{ml:Ee()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ge()}],w:[{w:[a,"screen",...Ge()]}],"min-w":[{"min-w":[a,"screen","none",...Ge()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...Ge()]}],h:[{h:["screen","lh",...Ge()]}],"min-h":[{"min-h":["screen","lh","none",...Ge()]}],"max-h":[{"max-h":["screen","lh",...Ge()]}],"font-size":[{text:["base",n,Mo,ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,K,xh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Th,q]}],"font-family":[{font:[uP,q,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,K,q]}],"line-clamp":[{"line-clamp":[se,"none",K,xh]}],leading:[{leading:[i,...v()]}],"list-image":[{"list-image":["none",K,q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",K,q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...st(),"wavy"]}],"text-decoration-thickness":[{decoration:[se,"from-font","auto",K,ps]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[se,"auto",K,q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",K,q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",K,q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:Z()}],"bg-size":[{bg:Te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Sr,K,q],radial:["",K,q],conic:[Sr,K,q]},dP,lP]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...st(),"hidden","none"]}],"divide-style":[{divide:[...st(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...st(),"none","hidden"]}],"outline-offset":[{"outline-offset":[se,K,q]}],"outline-w":[{outline:["",se,Mo,ps]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",f,ru,nu]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",m,ru,nu]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[se,ps]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",g,ru,nu]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[se,K,q]}],"mix-blend":[{"mix-blend":[...vt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":vt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[se]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[K,q]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[se]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:Z()}],"mask-size":[{mask:Te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",K,q]}],filter:[{filter:["","none",K,q]}],blur:[{blur:Xs()}],brightness:[{brightness:[se,K,q]}],contrast:[{contrast:[se,K,q]}],"drop-shadow":[{"drop-shadow":["","none",w,ru,nu]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",se,K,q]}],"hue-rotate":[{"hue-rotate":[se,K,q]}],invert:[{invert:["",se,K,q]}],saturate:[{saturate:[se,K,q]}],sepia:[{sepia:["",se,K,q]}],"backdrop-filter":[{"backdrop-filter":["","none",K,q]}],"backdrop-blur":[{"backdrop-blur":Xs()}],"backdrop-brightness":[{"backdrop-brightness":[se,K,q]}],"backdrop-contrast":[{"backdrop-contrast":[se,K,q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",se,K,q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[se,K,q]}],"backdrop-invert":[{"backdrop-invert":["",se,K,q]}],"backdrop-opacity":[{"backdrop-opacity":[se,K,q]}],"backdrop-saturate":[{"backdrop-saturate":[se,K,q]}],"backdrop-sepia":[{"backdrop-sepia":["",se,K,q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",K,q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[se,"initial",K,q]}],ease:[{ease:["linear","initial",E,K,q]}],delay:[{delay:[se,K,q]}],animate:[{animate:["none",_,K,q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,K,q]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:_r()}],"rotate-x":[{"rotate-x":_r()}],"rotate-y":[{"rotate-y":_r()}],"rotate-z":[{"rotate-z":_r()}],scale:[{scale:yn()}],"scale-x":[{"scale-x":yn()}],"scale-y":[{"scale-y":yn()}],"scale-z":[{"scale-z":yn()}],"scale-3d":["scale-3d"],skew:[{skew:Nn()}],"skew-x":[{"skew-x":Nn()}],"skew-y":[{"skew-y":Nn()}],transform:[{transform:[K,q,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Dn()}],"translate-x":[{"translate-x":Dn()}],"translate-y":[{"translate-y":Dn()}],"translate-z":[{"translate-z":Dn()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",K,q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",K,q]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[se,Mo,ps,xh]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mP=Qb(pP);function Ve(...t){return mP(jT(t))}const Oe=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Ve("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Oe.displayName="Card";const zt=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Ve("flex flex-col space-y-1.5 p-6",t),...e}));zt.displayName="CardHeader";const ht=y.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:Ve("text-2xl font-semibold leading-none tracking-tight",t),...e}));ht.displayName="CardTitle";const Ds=y.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:Ve("text-sm text-muted-foreground",t),...e}));Ds.displayName="CardDescription";const Je=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Ve("p-6 pt-0",t),...e}));Je.displayName="CardContent";const gP=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Ve("flex items-center p-6 pt-0",t),...e}));gP.displayName="CardFooter";function t_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function GT(...t){return e=>{let n=!1;const r=t.map(s=>{const i=t_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():t_(t[s],null)}}}}function pn(...t){return y.useCallback(GT(...t),t)}function Da(t){const e=vP(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),u=a.find(wP);if(u){const c=u.props.children,f=a.map(m=>m===u?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:m);return d.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,f):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var yP=Da("Slot");function vP(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=TP(s),a=EP(i,s.props);return s.type!==y.Fragment&&(a.ref=r?GT(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _P=Symbol("radix.slottable");function wP(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_P}function EP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function TP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const n_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,r_=jT,Rm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return r_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const f=n==null?void 0:n[c],m=i==null?void 0:i[c];if(f===null)return null;const g=n_(f)||n_(m);return s[c][g]}),a=n&&Object.entries(n).reduce((c,f)=>{let[m,g]=f;return g===void 0||(c[m]=g),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:m,className:g,...w}=f;return Object.entries(w).every(A=>{let[I,C]=A;return Array.isArray(C)?C.includes({...i,...a}[I]):{...i,...a}[I]===C})?[...c,m,g]:c},[]);return r_(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},xP=Rm("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),he=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?yP:"button";return d.jsx(o,{className:Ve(xP({variant:e,size:n,className:t})),ref:i,...s})});he.displayName="Button";const Ye=y.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:Ve("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ye.displayName="Input";var IP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ke=IP.reduce((t,e)=>{const n=Da(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(u,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function SP(t,e){t&&Em.flushSync(()=>t.dispatchEvent(e))}var kP="Label",QT=y.forwardRef((t,e)=>d.jsx(Ke.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));QT.displayName=kP;var YT=QT;const CP=Rm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ve=y.forwardRef(({className:t,...e},n)=>d.jsx(YT,{ref:n,className:Ve(CP(),t),...e}));ve.displayName=YT.displayName;function lt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function AP(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,u=y.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ro(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),u=n.length;n=[...n,o];const c=m=>{var E;const{scope:g,children:w,...A}=m,I=((E=g==null?void 0:g[t])==null?void 0:E[u])||a,C=y.useMemo(()=>A,Object.values(A));return d.jsx(I.Provider,{value:C,children:w})};c.displayName=i+"Provider";function f(m,g){var I;const w=((I=g==null?void 0:g[t])==null?void 0:I[u])||a,A=y.useContext(w);if(A)return A;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[c,f]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,RP(s,...e)]}function RP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const m=u(i)[`__scope${c}`];return{...a,...m}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function bP(t){const e=t+"CollectionProvider",[n,r]=ro(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=I=>{const{scope:C,children:E}=I,_=Dt.useRef(null),T=Dt.useRef(new Map).current;return d.jsx(s,{scope:C,itemMap:T,collectionRef:_,children:E})};o.displayName=e;const a=t+"CollectionSlot",u=Da(a),c=Dt.forwardRef((I,C)=>{const{scope:E,children:_}=I,T=i(a,E),b=pn(C,T.collectionRef);return d.jsx(u,{ref:b,children:_})});c.displayName=a;const f=t+"CollectionItemSlot",m="data-radix-collection-item",g=Da(f),w=Dt.forwardRef((I,C)=>{const{scope:E,children:_,...T}=I,b=Dt.useRef(null),L=pn(C,b),M=i(f,E);return Dt.useEffect(()=>(M.itemMap.set(b,{ref:b,...T}),()=>void M.itemMap.delete(b))),d.jsx(g,{[m]:"",ref:L,children:_})});w.displayName=f;function A(I){const C=i(t+"CollectionConsumer",I);return Dt.useCallback(()=>{const _=C.collectionRef.current;if(!_)return[];const T=Array.from(_.querySelectorAll(`[${m}]`));return Array.from(C.itemMap.values()).sort((M,S)=>T.indexOf(M.ref.current)-T.indexOf(S.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:c,ItemSlot:w},A,r]}var $i=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},PP=g0[" useId ".trim().toString()]||(()=>{}),NP=0;function ia(t){const[e,n]=y.useState(PP());return $i(()=>{n(r=>r??String(NP++))},[t]),e?`radix-${e}`:""}function zi(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var DP=g0[" useInsertionEffect ".trim().toString()]||$i;function td({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=OP({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:s;{const f=y.useRef(t!==void 0);y.useEffect(()=>{const m=f.current;m!==a&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=a},[a,r])}const c=y.useCallback(f=>{var m;if(a){const g=MP(f)?f(t):f;g!==t&&((m=o.current)==null||m.call(o,g))}else i(f)},[a,t,i,o]);return[u,c]}function OP({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return DP(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function MP(t){return typeof t=="function"}var LP=y.createContext(void 0);function XT(t){const e=y.useContext(LP);return t||e||"ltr"}var Ih="rovingFocusGroup.onEntryFocus",jP={bubbles:!1,cancelable:!0},tl="RovingFocusGroup",[Qf,JT,VP]=bP(tl),[FP,ZT]=ro(tl,[VP]),[UP,$P]=FP(tl),ex=y.forwardRef((t,e)=>d.jsx(Qf.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Qf.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(zP,{...t,ref:e})})}));ex.displayName=tl;var zP=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:f=!1,...m}=t,g=y.useRef(null),w=pn(e,g),A=XT(i),[I,C]=td({prop:o,defaultProp:a??null,onChange:u,caller:tl}),[E,_]=y.useState(!1),T=zi(c),b=JT(n),L=y.useRef(!1),[M,S]=y.useState(0);return y.useEffect(()=>{const v=g.current;if(v)return v.addEventListener(Ih,T),()=>v.removeEventListener(Ih,T)},[T]),d.jsx(UP,{scope:n,orientation:r,dir:A,loop:s,currentTabStopId:I,onItemFocus:y.useCallback(v=>C(v),[C]),onItemShiftTab:y.useCallback(()=>_(!0),[]),onFocusableItemAdd:y.useCallback(()=>S(v=>v+1),[]),onFocusableItemRemove:y.useCallback(()=>S(v=>v-1),[]),children:d.jsx(Ke.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...m,ref:w,style:{outline:"none",...t.style},onMouseDown:lt(t.onMouseDown,()=>{L.current=!0}),onFocus:lt(t.onFocus,v=>{const k=!L.current;if(v.target===v.currentTarget&&k&&!E){const R=new CustomEvent(Ih,jP);if(v.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=b().filter(Ee=>Ee.focusable),D=N.find(Ee=>Ee.active),P=N.find(Ee=>Ee.id===I),et=[D,P,...N].filter(Boolean).map(Ee=>Ee.ref.current);rx(et,f)}}L.current=!1}),onBlur:lt(t.onBlur,()=>_(!1))})})}),tx="RovingFocusGroupItem",nx=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,u=ia(),c=i||u,f=$P(tx,n),m=f.currentTabStopId===c,g=JT(n),{onFocusableItemAdd:w,onFocusableItemRemove:A,currentTabStopId:I}=f;return y.useEffect(()=>{if(r)return w(),()=>A()},[r,w,A]),d.jsx(Qf.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:d.jsx(Ke.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:lt(t.onMouseDown,C=>{r?f.onItemFocus(c):C.preventDefault()}),onFocus:lt(t.onFocus,()=>f.onItemFocus(c)),onKeyDown:lt(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){f.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const E=HP(C,f.orientation,f.dir);if(E!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let T=g().filter(b=>b.focusable).map(b=>b.ref.current);if(E==="last")T.reverse();else if(E==="prev"||E==="next"){E==="prev"&&T.reverse();const b=T.indexOf(C.currentTarget);T=f.loop?qP(T,b+1):T.slice(b+1)}setTimeout(()=>rx(T))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:I!=null}):o})})});nx.displayName=tx;var BP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function WP(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function HP(t,e,n){const r=WP(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return BP[r]}function rx(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function qP(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var KP=ex,GP=nx;function QP(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var nl=t=>{const{present:e,children:n}=t,r=YP(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=pn(r.ref,XP(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};nl.displayName="Presence";function YP(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,u]=QP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=su(r.current);i.current=a==="mounted"?c:"none"},[a]),$i(()=>{const c=r.current,f=s.current;if(f!==t){const g=i.current,w=su(c);t?u("MOUNT"):w==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(f&&g!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),$i(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,m=w=>{const I=su(r.current).includes(CSS.escape(w.animationName));if(w.target===e&&I&&(u("ANIMATION_END"),!s.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},g=w=>{w.target===e&&(i.current=su(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function su(t){return(t==null?void 0:t.animationName)||"none"}function XP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var nd="Tabs",[JP]=ro(nd,[ZT]),sx=ZT(),[ZP,bm]=JP(nd),ix=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:u="automatic",...c}=t,f=XT(a),[m,g]=td({prop:r,onChange:s,defaultProp:i??"",caller:nd});return d.jsx(ZP,{scope:n,baseId:ia(),value:m,onValueChange:g,orientation:o,dir:f,activationMode:u,children:d.jsx(Ke.div,{dir:f,"data-orientation":o,...c,ref:e})})});ix.displayName=nd;var ox="TabsList",ax=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=bm(ox,n),o=sx(n);return d.jsx(KP,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(Ke.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});ax.displayName=ox;var lx="TabsTrigger",ux=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=bm(lx,n),a=sx(n),u=hx(o.baseId,r),c=fx(o.baseId,r),f=r===o.value;return d.jsx(GP,{asChild:!0,...a,focusable:!s,active:f,children:d.jsx(Ke.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":c,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:lt(t.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:lt(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:lt(t.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!s&&m&&o.onValueChange(r)})})})});ux.displayName=lx;var cx="TabsContent",dx=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=bm(cx,n),u=hx(a.baseId,r),c=fx(a.baseId,r),f=r===a.value,m=y.useRef(f);return y.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),d.jsx(nl,{present:s||f,children:({present:g})=>d.jsx(Ke.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:g&&i})})});dx.displayName=cx;function hx(t,e){return`${t}-trigger-${e}`}function fx(t,e){return`${t}-content-${e}`}var eN=ix,px=ax,mx=ux,gx=dx;const rd=eN,rl=y.forwardRef(({className:t,...e},n)=>d.jsx(px,{ref:n,className:Ve("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));rl.displayName=px.displayName;const Jt=y.forwardRef(({className:t,...e},n)=>d.jsx(mx,{ref:n,className:Ve("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));Jt.displayName=mx.displayName;const Zt=y.forwardRef(({className:t,...e},n)=>d.jsx(gx,{ref:n,className:Ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Zt.displayName=gx.displayName;function tN(t,e=globalThis==null?void 0:globalThis.document){const n=zi(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var nN="DismissableLayer",Yf="dismissableLayer.update",rN="dismissableLayer.pointerDownOutside",sN="dismissableLayer.focusOutside",s_,yx=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vx=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,c=y.useContext(yx),[f,m]=y.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=y.useState({}),A=pn(e,S=>m(S)),I=Array.from(c.layers),[C]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=I.indexOf(C),_=f?I.indexOf(f):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,b=_>=E,L=aN(S=>{const v=S.target,k=[...c.branches].some(R=>R.contains(v));!b||k||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},g),M=lN(S=>{const v=S.target;[...c.branches].some(R=>R.contains(v))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},g);return tN(S=>{_===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},g),y.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(s_=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),i_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=s_)}},[f,g,n,c]),y.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),i_())},[f,c]),y.useEffect(()=>{const S=()=>w({});return document.addEventListener(Yf,S),()=>document.removeEventListener(Yf,S)},[]),d.jsx(Ke.div,{...u,ref:A,style:{pointerEvents:T?b?"auto":"none":void 0,...t.style},onFocusCapture:lt(t.onFocusCapture,M.onFocusCapture),onBlurCapture:lt(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:lt(t.onPointerDownCapture,L.onPointerDownCapture)})});vx.displayName=nN;var iN="DismissableLayerBranch",oN=y.forwardRef((t,e)=>{const n=y.useContext(yx),r=y.useRef(null),s=pn(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Ke.div,{...t,ref:s})});oN.displayName=iN;function aN(t,e=globalThis==null?void 0:globalThis.document){const n=zi(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){_x(rN,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function lN(t,e=globalThis==null?void 0:globalThis.document){const n=zi(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&_x(sN,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function i_(){const t=new CustomEvent(Yf);document.dispatchEvent(t)}function _x(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?SP(s,i):s.dispatchEvent(i)}var Sh="focusScope.autoFocusOnMount",kh="focusScope.autoFocusOnUnmount",o_={bubbles:!1,cancelable:!0},uN="FocusScope",wx=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,u]=y.useState(null),c=zi(s),f=zi(i),m=y.useRef(null),g=pn(e,I=>u(I)),w=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let I=function(T){if(w.paused||!a)return;const b=T.target;a.contains(b)?m.current=b:Cr(m.current,{select:!0})},C=function(T){if(w.paused||!a)return;const b=T.relatedTarget;b!==null&&(a.contains(b)||Cr(m.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const L of T)L.removedNodes.length>0&&Cr(a)};document.addEventListener("focusin",I),document.addEventListener("focusout",C);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",C),_.disconnect()}}},[r,a,w.paused]),y.useEffect(()=>{if(a){l_.add(w);const I=document.activeElement;if(!a.contains(I)){const E=new CustomEvent(Sh,o_);a.addEventListener(Sh,c),a.dispatchEvent(E),E.defaultPrevented||(cN(mN(Ex(a)),{select:!0}),document.activeElement===I&&Cr(a))}return()=>{a.removeEventListener(Sh,c),setTimeout(()=>{const E=new CustomEvent(kh,o_);a.addEventListener(kh,f),a.dispatchEvent(E),E.defaultPrevented||Cr(I??document.body,{select:!0}),a.removeEventListener(kh,f),l_.remove(w)},0)}}},[a,c,f,w]);const A=y.useCallback(I=>{if(!n&&!r||w.paused)return;const C=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,E=document.activeElement;if(C&&E){const _=I.currentTarget,[T,b]=dN(_);T&&b?!I.shiftKey&&E===b?(I.preventDefault(),n&&Cr(T,{select:!0})):I.shiftKey&&E===T&&(I.preventDefault(),n&&Cr(b,{select:!0})):E===_&&I.preventDefault()}},[n,r,w.paused]);return d.jsx(Ke.div,{tabIndex:-1,...o,ref:g,onKeyDown:A})});wx.displayName=uN;function cN(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Cr(r,{select:e}),document.activeElement!==n)return}function dN(t){const e=Ex(t),n=a_(e,t),r=a_(e.reverse(),t);return[n,r]}function Ex(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function a_(t,e){for(const n of t)if(!hN(n,{upTo:e}))return n}function hN(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function fN(t){return t instanceof HTMLInputElement&&"select"in t}function Cr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&fN(t)&&e&&t.select()}}var l_=pN();function pN(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=u_(t,e),t.unshift(e)},remove(e){var n;t=u_(t,e),(n=t[0])==null||n.resume()}}}function u_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function mN(t){return t.filter(e=>e.tagName!=="A")}var gN="Portal",Tx=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);$i(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?dR.createPortal(d.jsx(Ke.div,{...r,ref:e}),o):null});Tx.displayName=gN;var Ch=0;function yN(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??c_()),document.body.insertAdjacentElement("beforeend",t[1]??c_()),Ch++,()=>{Ch===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ch--}},[])}function c_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var jn=function(){return jn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jn.apply(this,arguments)};function sl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function vN(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Ru="right-scroll-bar-position",bu="width-before-scroll-bar",_N="with-scroll-bars-hidden",wN="--removed-body-scroll-bar-size";function Ah(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function EN(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var TN=typeof window<"u"?y.useLayoutEffect:y.useEffect,d_=new WeakMap;function xN(t,e){var n=EN(null,function(r){return t.forEach(function(s){return Ah(s,r)})});return TN(function(){var r=d_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Ah(a,null)}),i.forEach(function(a){s.has(a)||Ah(a,o)})}d_.set(n,t)},[t]),n}function IN(t){return t}function SN(t,e){e===void 0&&(e=IN);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var u=function(){var f=o;o=[],f.forEach(i)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(f){o.push(f),c()},filter:function(f){return o=o.filter(f),n}}}};return s}function kN(t){t===void 0&&(t={});var e=SN(null);return e.options=jn({async:!0,ssr:!1},t),e}var xx=function(t){var e=t.sideCar,n=sl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,jn({},n))};xx.isSideCarExport=!0;function CN(t,e){return t.useMedium(e),xx}var Ix=kN(),Rh=function(){},sd=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Rh,onWheelCapture:Rh,onTouchMoveCapture:Rh}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,f=t.enabled,m=t.shards,g=t.sideCar,w=t.noRelative,A=t.noIsolation,I=t.inert,C=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,T=t.gapMode,b=sl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=g,M=xN([n,e]),S=jn(jn({},b),s);return y.createElement(y.Fragment,null,f&&y.createElement(L,{sideCar:Ix,removeScrollBar:c,shards:m,noRelative:w,noIsolation:A,inert:I,setCallbacks:i,allowPinchZoom:!!C,lockRef:n,gapMode:T}),o?y.cloneElement(y.Children.only(a),jn(jn({},S),{ref:M})):y.createElement(_,jn({},S,{className:u,ref:M}),a))});sd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sd.classNames={fullWidth:bu,zeroRight:Ru};var AN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function RN(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=AN();return e&&t.setAttribute("nonce",e),t}function bN(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function PN(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var NN=function(){var t=0,e=null;return{add:function(n){t==0&&(e=RN())&&(bN(e,n),PN(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},DN=function(){var t=NN();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Sx=function(){var t=DN(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},ON={left:0,top:0,right:0,gap:0},bh=function(t){return parseInt(t||"",10)||0},MN=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[bh(n),bh(r),bh(s)]},LN=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ON;var e=MN(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},jN=Sx(),Ri="data-scroll-locked",VN=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_N,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ri,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ru,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(bu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ru," .").concat(Ru,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(bu," .").concat(bu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ri,`] {
    `).concat(wN,": ").concat(a,`px;
  }
`)},h_=function(){var t=parseInt(document.body.getAttribute(Ri)||"0",10);return isFinite(t)?t:0},FN=function(){y.useEffect(function(){return document.body.setAttribute(Ri,(h_()+1).toString()),function(){var t=h_()-1;t<=0?document.body.removeAttribute(Ri):document.body.setAttribute(Ri,t.toString())}},[])},UN=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;FN();var i=y.useMemo(function(){return LN(s)},[s]);return y.createElement(jN,{styles:VN(i,!e,s,n?"":"!important")})},Xf=!1;if(typeof window<"u")try{var iu=Object.defineProperty({},"passive",{get:function(){return Xf=!0,!0}});window.addEventListener("test",iu,iu),window.removeEventListener("test",iu,iu)}catch{Xf=!1}var si=Xf?{passive:!1}:!1,$N=function(t){return t.tagName==="TEXTAREA"},kx=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!$N(t)&&n[e]==="visible")},zN=function(t){return kx(t,"overflowY")},BN=function(t){return kx(t,"overflowX")},f_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Cx(t,r);if(s){var i=Ax(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},WN=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},HN=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Cx=function(t,e){return t==="v"?zN(e):BN(e)},Ax=function(t,e){return t==="v"?WN(e):HN(e)},qN=function(t,e){return t==="h"&&e==="rtl"?-1:1},KN=function(t,e,n,r,s){var i=qN(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,u=e.contains(a),c=!1,f=o>0,m=0,g=0;do{if(!a)break;var w=Ax(t,a),A=w[0],I=w[1],C=w[2],E=I-C-i*A;(A||E)&&Cx(t,a)&&(m+=E,g+=A);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(f&&Math.abs(m)<1||!f&&Math.abs(g)<1)&&(c=!0),c},ou=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},p_=function(t){return[t.deltaX,t.deltaY]},m_=function(t){return t&&"current"in t?t.current:t},GN=function(t,e){return t[0]===e[0]&&t[1]===e[1]},QN=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},YN=0,ii=[];function XN(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(YN++)[0],i=y.useState(Sx)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var I=vN([t.lockRef.current],(t.shards||[]).map(m_),!0).filter(Boolean);return I.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),I.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(I,C){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!o.current.allowPinchZoom;var E=ou(I),_=n.current,T="deltaX"in I?I.deltaX:_[0]-E[0],b="deltaY"in I?I.deltaY:_[1]-E[1],L,M=I.target,S=Math.abs(T)>Math.abs(b)?"h":"v";if("touches"in I&&S==="h"&&M.type==="range")return!1;var v=f_(S,M);if(!v)return!0;if(v?L=S:(L=S==="v"?"h":"v",v=f_(S,M)),!v)return!1;if(!r.current&&"changedTouches"in I&&(T||b)&&(r.current=L),!L)return!0;var k=r.current||L;return KN(k,C,I,k==="h"?T:b)},[]),u=y.useCallback(function(I){var C=I;if(!(!ii.length||ii[ii.length-1]!==i)){var E="deltaY"in C?p_(C):ou(C),_=e.current.filter(function(L){return L.name===C.type&&(L.target===C.target||C.target===L.shadowParent)&&GN(L.delta,E)})[0];if(_&&_.should){C.cancelable&&C.preventDefault();return}if(!_){var T=(o.current.shards||[]).map(m_).filter(Boolean).filter(function(L){return L.contains(C.target)}),b=T.length>0?a(C,T[0]):!o.current.noIsolation;b&&C.cancelable&&C.preventDefault()}}},[]),c=y.useCallback(function(I,C,E,_){var T={name:I,delta:C,target:E,should:_,shadowParent:JN(E)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(b){return b!==T})},1)},[]),f=y.useCallback(function(I){n.current=ou(I),r.current=void 0},[]),m=y.useCallback(function(I){c(I.type,p_(I),I.target,a(I,t.lockRef.current))},[]),g=y.useCallback(function(I){c(I.type,ou(I),I.target,a(I,t.lockRef.current))},[]);y.useEffect(function(){return ii.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",u,si),document.addEventListener("touchmove",u,si),document.addEventListener("touchstart",f,si),function(){ii=ii.filter(function(I){return I!==i}),document.removeEventListener("wheel",u,si),document.removeEventListener("touchmove",u,si),document.removeEventListener("touchstart",f,si)}},[]);var w=t.removeScrollBar,A=t.inert;return y.createElement(y.Fragment,null,A?y.createElement(i,{styles:QN(s)}):null,w?y.createElement(UN,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function JN(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ZN=CN(Ix,XN);var Rx=y.forwardRef(function(t,e){return y.createElement(sd,jn({},t,{ref:e,sideCar:ZN}))});Rx.classNames=sd.classNames;var e2=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},oi=new WeakMap,au=new WeakMap,lu={},Ph=0,bx=function(t){return t&&(t.host||bx(t.parentNode))},t2=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=bx(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},n2=function(t,e,n,r){var s=t2(e,Array.isArray(t)?t:[t]);lu[n]||(lu[n]=new WeakMap);var i=lu[n],o=[],a=new Set,u=new Set(s),c=function(m){!m||a.has(m)||(a.add(m),c(m.parentNode))};s.forEach(c);var f=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(g){if(a.has(g))f(g);else try{var w=g.getAttribute(r),A=w!==null&&w!=="false",I=(oi.get(g)||0)+1,C=(i.get(g)||0)+1;oi.set(g,I),i.set(g,C),o.push(g),I===1&&A&&au.set(g,!0),C===1&&g.setAttribute(n,"true"),A||g.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",g,E)}})};return f(e),a.clear(),Ph++,function(){o.forEach(function(m){var g=oi.get(m)-1,w=i.get(m)-1;oi.set(m,g),i.set(m,w),g||(au.has(m)||m.removeAttribute(r),au.delete(m)),w||m.removeAttribute(n)}),Ph--,Ph||(oi=new WeakMap,oi=new WeakMap,au=new WeakMap,lu={})}},r2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e2(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),n2(r,s,n,"aria-hidden")):function(){return null}},id="Dialog",[Px]=ro(id),[s2,bn]=Px(id),Nx=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),u=y.useRef(null),[c,f]=td({prop:r,defaultProp:s??!1,onChange:i,caller:id});return d.jsx(s2,{scope:e,triggerRef:a,contentRef:u,contentId:ia(),titleId:ia(),descriptionId:ia(),open:c,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};Nx.displayName=id;var Dx="DialogTrigger",Ox=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bn(Dx,n),i=pn(e,s.triggerRef);return d.jsx(Ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Dm(s.open),...r,ref:i,onClick:lt(t.onClick,s.onOpenToggle)})});Ox.displayName=Dx;var Pm="DialogPortal",[i2,Mx]=Px(Pm,{forceMount:void 0}),Lx=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=bn(Pm,e);return d.jsx(i2,{scope:e,forceMount:n,children:y.Children.map(r,o=>d.jsx(nl,{present:n||i.open,children:d.jsx(Tx,{asChild:!0,container:s,children:o})}))})};Lx.displayName=Pm;var yc="DialogOverlay",jx=y.forwardRef((t,e)=>{const n=Mx(yc,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=bn(yc,t.__scopeDialog);return i.modal?d.jsx(nl,{present:r||i.open,children:d.jsx(a2,{...s,ref:e})}):null});jx.displayName=yc;var o2=Da("DialogOverlay.RemoveScroll"),a2=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bn(yc,n);return d.jsx(Rx,{as:o2,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Ke.div,{"data-state":Dm(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Os="DialogContent",Vx=y.forwardRef((t,e)=>{const n=Mx(Os,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=bn(Os,t.__scopeDialog);return d.jsx(nl,{present:r||i.open,children:i.modal?d.jsx(l2,{...s,ref:e}):d.jsx(u2,{...s,ref:e})})});Vx.displayName=Os;var l2=y.forwardRef((t,e)=>{const n=bn(Os,t.__scopeDialog),r=y.useRef(null),s=pn(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return r2(i)},[]),d.jsx(Fx,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lt(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:lt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:lt(t.onFocusOutside,i=>i.preventDefault())})}),u2=y.forwardRef((t,e)=>{const n=bn(Os,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return d.jsx(Fx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Fx=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=bn(Os,n),u=y.useRef(null),c=pn(e,u);return yN(),d.jsxs(d.Fragment,{children:[d.jsx(wx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(vx,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Dm(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(c2,{titleId:a.titleId}),d.jsx(h2,{contentRef:u,descriptionId:a.descriptionId})]})]})}),Nm="DialogTitle",Ux=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bn(Nm,n);return d.jsx(Ke.h2,{id:s.titleId,...r,ref:e})});Ux.displayName=Nm;var $x="DialogDescription",zx=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bn($x,n);return d.jsx(Ke.p,{id:s.descriptionId,...r,ref:e})});zx.displayName=$x;var Bx="DialogClose",Wx=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bn(Bx,n);return d.jsx(Ke.button,{type:"button",...r,ref:e,onClick:lt(t.onClick,()=>s.onOpenChange(!1))})});Wx.displayName=Bx;function Dm(t){return t?"open":"closed"}var Hx="DialogTitleWarning",[j5,qx]=AP(Hx,{contentName:Os,titleName:Nm,docsSlug:"dialog"}),c2=({titleId:t})=>{const e=qx(Hx),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},d2="DialogDescriptionWarning",h2=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qx(d2).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},f2=Nx,p2=Ox,m2=Lx,Kx=jx,Gx=Vx,Qx=Ux,Yx=zx,g2=Wx;/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v2=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),g_=t=>{const e=v2(t);return e.charAt(0).toUpperCase()+e.slice(1)},Xx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),_2=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>y.createElement("svg",{ref:u,...w2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Xx("lucide",s),...!i&&!_2(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,f])=>y.createElement(c,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(E2,{ref:i,iconNode:e,className:Xx(`lucide-${y2(g_(t))}`,`lucide-${t}`,r),...s}));return n.displayName=g_(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],x2=de("bell",T2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Oa=de("book-open",I2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Om=de("brain",S2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],C2=de("calendar",k2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Jx=de("chart-column",A2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],b2=de("circle-check-big",R2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],N2=de("circle-x",P2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Zx=de("clock",D2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],y_=de("eye-off",O2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v_=de("eye",M2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],j2=de("flame",L2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],F2=de("hash",V2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],$2=de("house",U2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]],__=de("import",z2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],W2=de("list",B2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ot=de("loader-circle",H2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],w_=de("lock",q2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Jf=de("log-out",K2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],E_=de("mail",G2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Y2=de("menu",Q2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],J2=de("message-square",X2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],eD=de("moon",Z2);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],T_=de("pen",tD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],x_=de("plus",nD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],sD=de("rotate-ccw",rD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eI=de("settings",iD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],I_=de("sun",oD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],tI=de("target",aD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],uD=de("timer",lD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],S_=de("trash-2",cD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],hD=de("trophy",dD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zo=de("user",fD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nI=de("x",pD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],rI=de("zap",mD),Pu=f2,k_=p2,gD=m2,sI=y.forwardRef(({className:t,...e},n)=>d.jsx(Kx,{ref:n,className:Ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));sI.displayName=Kx.displayName;const oa=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(gD,{children:[d.jsx(sI,{}),d.jsxs(Gx,{ref:r,className:Ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(g2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(nI,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oa.displayName=Gx.displayName;const Nu=({className:t,...e})=>d.jsx("div",{className:Ve("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Nu.displayName="DialogHeader";const Du=y.forwardRef(({className:t,...e},n)=>d.jsx(Qx,{ref:n,className:Ve("text-lg font-semibold leading-none tracking-tight",t),...e}));Du.displayName=Qx.displayName;const Ou=y.forwardRef(({className:t,...e},n)=>d.jsx(Yx,{ref:n,className:Ve("text-sm text-muted-foreground",t),...e}));Ou.displayName=Yx.displayName;var iI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},C_=Dt.createContext&&Dt.createContext(iI),yD=["attr","size","title"];function vD(t,e){if(t==null)return{};var n=_D(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _D(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}function A_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A_(Object(n),!0).forEach(function(r){wD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wD(t,e,n){return e=ED(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ED(t){var e=TD(t,"string");return typeof e=="symbol"?e:e+""}function TD(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oI(t){return t&&t.map((e,n)=>Dt.createElement(e.tag,_c({key:n},e.attr),oI(e.child)))}function xD(t){return e=>Dt.createElement(ID,vc({attr:_c({},t.attr)},e),oI(t.child))}function ID(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=vD(t,yD),a=s||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Dt.createElement("svg",vc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:_c(_c({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Dt.createElement("title",null,i),t.children)};return C_!==void 0?Dt.createElement(C_.Consumer,null,n=>e(n)):e(iI)}function SD(t){return xD({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},kD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},lI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,f=i>>2,m=(i&3)<<4|a>>4;let g=(a&15)<<2|c>>6,w=c&63;u||(w=64,o||(g=64)),r.push(n[f],n[m],n[g],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||m==null)throw new CD;const g=i<<2|a>>4;if(r.push(g),c!==64){const w=a<<4&240|c>>2;if(r.push(w),m!==64){const A=c<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AD=function(t){const e=aI(t);return lI.encodeByteArray(e,!0)},wc=function(t){return AD(t).replace(/\./g,"")},uI=function(t){try{return lI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=()=>RD().__FIREBASE_DEFAULTS__,PD=()=>{if(typeof process>"u"||typeof R_>"u")return;const t=R_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ND=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uI(t[1]);return e&&JSON.parse(e)},od=()=>{try{return bD()||PD()||ND()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cI=t=>{var e,n;return(n=(e=od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DD=t=>{const e=cI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dI=()=>{var t;return(t=od())===null||t===void 0?void 0:t.config},hI=t=>{var e;return(e=od())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wc(JSON.stringify(n)),wc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function jD(){var t;const e=(t=od())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UD(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $D(){return!jD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pI(){try{return typeof indexedDB=="object"}catch{return!1}}function mI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function zD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="FirebaseError";class Pn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BD,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ws.prototype.create)}}class Ws{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?WD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pn(s,a,r)}}function WD(t,e){return t.replace(HD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const HD=/\{\$([^}]+)}/g;function qD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ma(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(b_(i)&&b_(o)){if(!Ma(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function b_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Wo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function KD(t,e){const n=new GD(t,e);return n.subscribe.bind(n)}class GD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Nh),s.error===void 0&&(s.error=Nh),s.complete===void 0&&(s.complete=Nh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=1e3,XD=2,JD=4*60*60*1e3,ZD=.5;function P_(t,e=YD,n=XD){const r=e*Math.pow(n,t),s=Math.round(ZD*r*(Math.random()-.5)*2);return Math.min(JD,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t){return t&&t._delegate?t._delegate:t}class An{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nO(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tO(t){return t===vs?void 0:t}function nO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const sO={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},iO=le.INFO,oO={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},aO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=oO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ad{constructor(e){this.name=e,this._logLevel=iO,this._logHandler=aO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const lO=(t,e)=>e.some(n=>t instanceof n);let N_,D_;function uO(){return N_||(N_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cO(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gI=new WeakMap,Zf=new WeakMap,yI=new WeakMap,Dh=new WeakMap,Mm=new WeakMap;function dO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(qr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gI.set(n,t)}).catch(()=>{}),Mm.set(e,t),e}function hO(t){if(Zf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Zf.set(t,e)}let ep={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fO(t){ep=t(ep)}function pO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Oh(this),e,...n);return yI.set(r,e.sort?e.sort():[e]),qr(r)}:cO().includes(t)?function(...e){return t.apply(Oh(this),e),qr(gI.get(this))}:function(...e){return qr(t.apply(Oh(this),e))}}function mO(t){return typeof t=="function"?pO(t):(t instanceof IDBTransaction&&hO(t),lO(t,uO())?new Proxy(t,ep):t)}function qr(t){if(t instanceof IDBRequest)return dO(t);if(Dh.has(t))return Dh.get(t);const e=mO(t);return e!==t&&(Dh.set(t,e),Mm.set(e,t)),e}const Oh=t=>Mm.get(t);function vI(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=qr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(qr(o.result),u.oldVersion,u.newVersion,qr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const gO=["get","getKey","getAll","getAllKeys","count"],yO=["put","add","delete","clear"],Mh=new Map;function O_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mh.get(e))return Mh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=yO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||gO.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return Mh.set(e,i),i}fO(t=>({...t,get:(e,n,r)=>O_(e,n)||t.get(e,n,r),has:(e,n)=>!!O_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_O(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _O(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tp="@firebase/app",M_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new ad("@firebase/app"),wO="@firebase/app-compat",EO="@firebase/analytics-compat",TO="@firebase/analytics",xO="@firebase/app-check-compat",IO="@firebase/app-check",SO="@firebase/auth",kO="@firebase/auth-compat",CO="@firebase/database",AO="@firebase/data-connect",RO="@firebase/database-compat",bO="@firebase/functions",PO="@firebase/functions-compat",NO="@firebase/installations",DO="@firebase/installations-compat",OO="@firebase/messaging",MO="@firebase/messaging-compat",LO="@firebase/performance",jO="@firebase/performance-compat",VO="@firebase/remote-config",FO="@firebase/remote-config-compat",UO="@firebase/storage",$O="@firebase/storage-compat",zO="@firebase/firestore",BO="@firebase/vertexai-preview",WO="@firebase/firestore-compat",HO="firebase",qO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]",KO={[tp]:"fire-core",[wO]:"fire-core-compat",[TO]:"fire-analytics",[EO]:"fire-analytics-compat",[IO]:"fire-app-check",[xO]:"fire-app-check-compat",[SO]:"fire-auth",[kO]:"fire-auth-compat",[CO]:"fire-rtdb",[AO]:"fire-data-connect",[RO]:"fire-rtdb-compat",[bO]:"fire-fn",[PO]:"fire-fn-compat",[NO]:"fire-iid",[DO]:"fire-iid-compat",[OO]:"fire-fcm",[MO]:"fire-fcm-compat",[LO]:"fire-perf",[jO]:"fire-perf-compat",[VO]:"fire-rc",[FO]:"fire-rc-compat",[UO]:"fire-gcs",[$O]:"fire-gcs-compat",[zO]:"fire-fst",[WO]:"fire-fst-compat",[BO]:"fire-vertex","fire-js":"fire-js",[HO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,GO=new Map,rp=new Map;function L_(t,e){try{t.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wn(t){const e=t.name;if(rp.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,t);for(const n of Ec.values())L_(n,t);for(const n of GO.values())L_(n,t);return!0}function Hs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Ws("app","Firebase",QO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new An("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=qO;function _I(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:np,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Kr.create("bad-app-name",{appName:String(s)});if(n||(n=dI()),!n)throw Kr.create("no-options");const i=Ec.get(s);if(i){if(Ma(n,i.options)&&Ma(r,i.config))return i;throw Kr.create("duplicate-app",{appName:s})}const o=new rO(s);for(const u of rp.values())o.addComponent(u);const a=new YO(n,r,o);return Ec.set(s,a),a}function Lm(t=np){const e=Ec.get(t);if(!e&&t===np&&dI())return _I();if(!e)throw Kr.create("no-app",{appName:t});return e}function dn(t,e,n){var r;let s=(r=KO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(a.join(" "));return}Wn(new An(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="firebase-heartbeat-database",JO=1,La="firebase-heartbeat-store";let Lh=null;function wI(){return Lh||(Lh=vI(XO,JO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(La)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),Lh}async function ZO(t){try{const n=(await wI()).transaction(La),r=await n.objectStore(La).get(EI(t));return await n.done,r}catch(e){if(e instanceof Pn)pr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pr.warn(n.message)}}}async function j_(t,e){try{const r=(await wI()).transaction(La,"readwrite");await r.objectStore(La).put(e,EI(t)),await r.done}catch(n){if(n instanceof Pn)pr.warn(n.message);else{const r=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pr.warn(r.message)}}}function EI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=1024,tM=30*24*60*60*1e3;class nM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=V_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=tM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){pr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=V_(),{heartbeatsToSend:r,unsentEntries:s}=rM(this._heartbeatsCache.heartbeats),i=wc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return pr.warn(n),""}}}function V_(){return new Date().toISOString().substring(0,10)}function rM(t,e=eM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),F_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),F_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pI()?mI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return j_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return j_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function F_(t){return wc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){Wn(new An("platform-logger",e=>new vO(e),"PRIVATE")),Wn(new An("heartbeat",e=>new nM(e),"PRIVATE")),dn(tp,M_,t),dn(tp,M_,"esm2017"),dn("fire-js","")}iM("");var oM="firebase",aM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn(oM,aM,"app");const TI="@firebase/installations",jm="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=1e4,II=`w:${jm}`,SI="FIS_v2",lM="https://firebaseinstallations.googleapis.com/v1",uM=60*60*1e3,cM="installations",dM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ms=new Ws(cM,dM,hM);function kI(t){return t instanceof Pn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI({projectId:t}){return`${lM}/projects/${t}/installations`}function AI(t){return{token:t.token,requestStatus:2,expiresIn:pM(t.expiresIn),creationTime:Date.now()}}async function RI(t,e){const r=(await e.json()).error;return Ms.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function bI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function fM(t,{refreshToken:e}){const n=bI(t);return n.append("Authorization",mM(e)),n}async function PI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function pM(t){return Number(t.replace("s","000"))}function mM(t){return`${SI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=CI(t),s=bI(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:SI,appId:t.appId,sdkVersion:II},a={method:"POST",headers:s,body:JSON.stringify(o)},u=await PI(()=>fetch(r,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:AI(c.authToken)}}else throw await RI("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=/^[cdef][\w-]{21}$/,sp="";function _M(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=wM(t);return vM.test(n)?n:sp}catch{return sp}}function wM(t){return yM(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new Map;function OI(t,e){const n=ld(t);MI(n,e),EM(n,e)}function MI(t,e){const n=DI.get(t);if(n)for(const r of n)r(e)}function EM(t,e){const n=TM();n&&n.postMessage({key:t,fid:e}),xM()}let Ts=null;function TM(){return!Ts&&"BroadcastChannel"in self&&(Ts=new BroadcastChannel("[Firebase] FID Change"),Ts.onmessage=t=>{MI(t.data.key,t.data.fid)}),Ts}function xM(){DI.size===0&&Ts&&(Ts.close(),Ts=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="firebase-installations-database",SM=1,Ls="firebase-installations-store";let jh=null;function Vm(){return jh||(jh=vI(IM,SM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ls)}}})),jh}async function Tc(t,e){const n=ld(t),s=(await Vm()).transaction(Ls,"readwrite"),i=s.objectStore(Ls),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&OI(t,e.fid),e}async function LI(t){const e=ld(t),r=(await Vm()).transaction(Ls,"readwrite");await r.objectStore(Ls).delete(e),await r.done}async function ud(t,e){const n=ld(t),s=(await Vm()).transaction(Ls,"readwrite"),i=s.objectStore(Ls),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&OI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fm(t){let e;const n=await ud(t.appConfig,r=>{const s=kM(r),i=CM(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===sp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function kM(t){const e=t||{fid:_M(),registrationStatus:0};return jI(e)}function CM(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ms.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=AM(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:RM(t)}:{installationEntry:e}}async function AM(t,e){try{const n=await gM(t,e);return Tc(t.appConfig,n)}catch(n){throw kI(n)&&n.customData.serverCode===409?await LI(t.appConfig):await Tc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function RM(t){let e=await U_(t.appConfig);for(;e.registrationStatus===1;)await NI(100),e=await U_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Fm(t);return r||n}return e}function U_(t){return ud(t,e=>{if(!e)throw Ms.create("installation-not-found");return jI(e)})}function jI(t){return bM(t)?{fid:t.fid,registrationStatus:0}:t}function bM(t){return t.registrationStatus===1&&t.registrationTime+xI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM({appConfig:t,heartbeatServiceProvider:e},n){const r=NM(t,n),s=fM(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:II,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},u=await PI(()=>fetch(r,a));if(u.ok){const c=await u.json();return AI(c)}else throw await RI("Generate Auth Token",u)}function NM(t,{fid:e}){return`${CI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Um(t,e=!1){let n;const r=await ud(t.appConfig,i=>{if(!VI(i))throw Ms.create("not-registered");const o=i.authToken;if(!e&&MM(o))return i;if(o.requestStatus===1)return n=DM(t,e),i;{if(!navigator.onLine)throw Ms.create("app-offline");const a=jM(i);return n=OM(t,a),a}});return n?await n:r.authToken}async function DM(t,e){let n=await $_(t.appConfig);for(;n.authToken.requestStatus===1;)await NI(100),n=await $_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Um(t,e):r}function $_(t){return ud(t,e=>{if(!VI(e))throw Ms.create("not-registered");const n=e.authToken;return VM(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function OM(t,e){try{const n=await PM(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Tc(t.appConfig,r),n}catch(n){if(kI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await LI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Tc(t.appConfig,r)}throw n}}function VI(t){return t!==void 0&&t.registrationStatus===2}function MM(t){return t.requestStatus===2&&!LM(t)}function LM(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+uM}function jM(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function VM(t){return t.requestStatus===1&&t.requestTime+xI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(t){const e=t,{installationEntry:n,registrationPromise:r}=await Fm(e);return r?r.catch(console.error):Um(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(t,e=!1){const n=t;return await $M(n),(await Um(n,e)).token}async function $M(t){const{registrationPromise:e}=await Fm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t){if(!t||!t.options)throw Vh("App Configuration");if(!t.name)throw Vh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Vh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Vh(t){return Ms.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="installations",BM="installations-internal",WM=t=>{const e=t.getProvider("app").getImmediate(),n=zM(e),r=Hs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},HM=t=>{const e=t.getProvider("app").getImmediate(),n=Hs(e,FI).getImmediate();return{getId:()=>FM(n),getToken:s=>UM(n,s)}};function qM(){Wn(new An(FI,WM,"PUBLIC")),Wn(new An(BM,HM,"PRIVATE"))}qM();dn(TI,jm);dn(TI,jm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="analytics",KM="firebase_id",GM="origin",QM=60*1e3,YM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$m="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt=new ad("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},nn=new Ws("analytics","Analytics",XM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){if(!t.startsWith($m)){const e=nn.create("invalid-gtag-resource",{gtagURL:t});return Gt.warn(e.message),""}return t}function UI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ZM(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function eL(t,e){const n=ZM("firebase-js-sdk-policy",{createScriptURL:JM}),r=document.createElement("script"),s=`${$m}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function tL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function nL(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await UI(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(a){Gt.error(a)}t("config",s,i)}async function rL(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await UI(n);for(const u of o){const c=a.find(m=>m.measurementId===u),f=c&&e[c.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Gt.error(i)}}function sL(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,u]=o;await rL(t,e,n,a,u)}else if(i==="config"){const[a,u]=o;await nL(t,e,n,r,a,u)}else if(i==="consent"){const[a,u]=o;t("consent",a,u)}else if(i==="get"){const[a,u,c]=o;t("get",a,u,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Gt.error(a)}}return s}function iL(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=sL(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function oL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($m)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=30,lL=1e3;class uL{constructor(e={},n=lL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $I=new uL;function cL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function dL(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:cL(r)},i=YM.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw nn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function hL(t,e=$I,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw nn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw nn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new mL;return setTimeout(async()=>{a.abort()},QM),zI({appId:r,apiKey:s,measurementId:i},o,a,e)}async function zI(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=$I){var i;const{appId:o,measurementId:a}=t;try{await fL(r,e)}catch(u){if(a)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await dL(t);return s.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!pL(c)){if(s.deleteThrottleMetadata(o),a)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw u}const f=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?P_(n,s.intervalMillis,aL):P_(n,s.intervalMillis),m={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(o,m),Gt.debug(`Calling attemptFetch again in ${f} millis`),zI(t,m,r,s)}}function fL(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pL(t){if(!(t instanceof Pn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class mL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gL(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(){if(pI())try{await mI()}catch(t){return Gt.warn(nn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Gt.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function vL(t,e,n,r,s,i,o){var a;const u=hL(t);u.then(w=>{n[w.measurementId]=w.appId,t.options.measurementId&&w.measurementId!==t.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>Gt.error(w)),e.push(u);const c=yL().then(w=>{if(w)return r.getId()}),[f,m]=await Promise.all([u,c]);oL(i)||eL(i,f.measurementId),s("js",new Date);const g=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return g[GM]="firebase",g.update=!0,m!=null&&(g[KM]=m),s("config",f.measurementId,g),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.app=e}_delete(){return delete aa[this.app.options.appId],Promise.resolve()}}let aa={},z_=[];const B_={};let Fh="dataLayer",wL="gtag",W_,BI,H_=!1;function EL(){const t=[];if(fI()&&t.push("This is a browser extension environment."),zD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=nn.create("invalid-analytics-context",{errorInfo:e});Gt.warn(n.message)}}function TL(t,e,n){EL();const r=t.options.appId;if(!r)throw nn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw nn.create("no-api-key");if(aa[r]!=null)throw nn.create("already-exists",{id:r});if(!H_){tL(Fh);const{wrappedGtag:i,gtagCore:o}=iL(aa,z_,B_,Fh,wL);BI=i,W_=o,H_=!0}return aa[r]=vL(t,z_,B_,e,W_,Fh,n),new _L(t)}function xL(t=Lm()){t=ze(t);const e=Hs(t,xc);return e.isInitialized()?e.getImmediate():IL(t)}function IL(t,e={}){const n=Hs(t,xc);if(n.isInitialized()){const s=n.getImmediate();if(Ma(e,n.getOptions()))return s;throw nn.create("already-initialized")}return n.initialize({options:e})}function SL(t,e,n,r){t=ze(t),gL(BI,aa[t.app.options.appId],e,n,r).catch(s=>Gt.error(s))}const q_="@firebase/analytics",K_="0.10.8";function kL(){Wn(new An(xc,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return TL(r,s,n)},"PUBLIC")),Wn(new An("analytics-internal",t,"PRIVATE")),dn(q_,K_),dn(q_,K_,"esm2017");function t(e){try{const n=e.getProvider(xc).getImmediate();return{logEvent:(r,s,i)=>SL(n,r,s,i)}}catch(n){throw nn.create("interop-component-reg-failed",{reason:n})}}}kL();function WI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CL=WI,HI=new Ws("auth","Firebase",WI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new ad("@firebase/auth");function AL(t,...e){Ic.logLevel<=le.WARN&&Ic.warn(`Auth (${so}): ${t}`,...e)}function Mu(t,...e){Ic.logLevel<=le.ERROR&&Ic.error(`Auth (${so}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,...e){throw Bm(t,...e)}function kn(t,...e){return Bm(t,...e)}function zm(t,e,n){const r=Object.assign(Object.assign({},CL()),{[e]:n});return new Ws("auth","Firebase",r).create(e,{appName:t.name})}function ar(t){return zm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mn(t,"argument-error"),zm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HI.create(t,...e)}function X(t,e,...n){if(!t)throw Bm(e,...n)}function nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mu(e),new Error(e)}function mr(t,e){t||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bL(){return G_()==="http:"||G_()==="https:"}function G_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bL()||fI()||"connection"in navigator)?navigator.onLine:!0}function NL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=LD()||FD()}get(){return PL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t,e){mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=new ol(3e4,6e4);function ss(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function is(t,e,n,r,s={}){return KI(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=il(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},i);return VD()||(c.referrerPolicy="no-referrer"),qI.fetch()(GI(t,t.config.apiHost,n,a),c)})}async function KI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DL),e);try{const s=new LL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw uu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw uu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw uu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw uu(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw zm(t,f,c);mn(t,f)}}catch(s){if(s instanceof Pn)throw s;mn(t,"network-request-failed",{message:String(s)})}}async function al(t,e,n,r,s={}){const i=await is(t,e,n,r,s);return"mfaPendingCredential"in i&&mn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function GI(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Wm(t.config,s):`${t.config.apiScheme}://${s}`}function ML(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kn(this.auth,"network-request-failed")),OL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=kn(t,e,r);return s.customData._tokenResponse=n,s}function Q_(t){return t!==void 0&&t.enterprise!==void 0}class jL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ML(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function VL(t,e){return is(t,"GET","/v2/recaptchaConfig",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(t,e){return is(t,"POST","/v1/accounts:delete",e)}async function QI(t,e){return is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UL(t,e=!1){const n=ze(t),r=await n.getIdToken(e),s=Hm(r);X(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:la(Uh(s.auth_time)),issuedAtTime:la(Uh(s.iat)),expirationTime:la(Uh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Uh(t){return Number(t)*1e3}function Hm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mu("JWT malformed, contained fewer than 3 sections"),null;try{const s=uI(n);return s?JSON.parse(s):(Mu("Failed to decode base64 JWT payload"),null)}catch(s){return Mu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Y_(t){const e=Hm(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pn&&$L(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $L({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=la(this.lastLoginAt),this.creationTime=la(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ja(t,QI(n,{idToken:r}));X(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?YI(i.providerUserInfo):[],a=WL(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),f=u?c:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new op(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function BL(t){const e=ze(t);await Sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function YI(t){return t.map(e=>{var{providerId:n}=e,r=sl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e){const n=await KI(t,{},async()=>{const r=il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=GI(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qL(t,e){return is(t,"POST","/v2/accounts:revokeToken",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=Y_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await HL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new bi;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(X(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(X(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bi,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=sl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new op(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ja(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UL(this,e)}reload(){return BL(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await ja(this,FL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,u,c,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,w=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:T,emailVerified:b,isAnonymous:L,providerData:M,stsTokenManager:S}=n;X(T&&S,e,"internal-error");const v=bi.fromJSON(this.name,S);X(typeof T=="string",e,"internal-error"),kr(m,e.name),kr(g,e.name),X(typeof b=="boolean",e,"internal-error"),X(typeof L=="boolean",e,"internal-error"),kr(w,e.name),kr(A,e.name),kr(I,e.name),kr(C,e.name),kr(E,e.name),kr(_,e.name);const k=new rr({uid:T,auth:e,email:g,emailVerified:b,displayName:m,isAnonymous:L,photoURL:A,phoneNumber:w,tenantId:I,stsTokenManager:v,createdAt:E,lastLoginAt:_});return M&&Array.isArray(M)&&(k.providerData=M.map(R=>Object.assign({},R))),C&&(k._redirectEventId=C),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new bi;s.updateFromServerResponse(n);const i=new rr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Sc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];X(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?YI(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new bi;a.updateFromIdToken(r);const u=new rr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new op(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;function sr(t){mr(t instanceof Function,"Expected a class definition");let e=X_.get(t);return e?(mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,X_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XI.type="NONE";const J_=XI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t,e,n){return`firebase:${t}:${e}:${n}`}class Pi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Lu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Lu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?rr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pi(sr(J_),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||sr(J_);const o=Lu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(o);if(f){const m=rr._fromJSON(e,f);c!==i&&(a=m),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Pi(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Pi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rS(e))return"Blackberry";if(sS(e))return"Webos";if(ZI(e))return"Safari";if((e.includes("chrome/")||eS(e))&&!e.includes("edge/"))return"Chrome";if(nS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JI(t=Rt()){return/firefox\//i.test(t)}function ZI(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eS(t=Rt()){return/crios\//i.test(t)}function tS(t=Rt()){return/iemobile/i.test(t)}function nS(t=Rt()){return/android/i.test(t)}function rS(t=Rt()){return/blackberry/i.test(t)}function sS(t=Rt()){return/webos/i.test(t)}function qm(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KL(t=Rt()){var e;return qm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GL(){return UD()&&document.documentMode===10}function iS(t=Rt()){return qm(t)||nS(t)||sS(t)||rS(t)||/windows phone/i.test(t)||tS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t,e=[]){let n;switch(t){case"Browser":n=Z_(Rt());break;case"Worker":n=`${Z_(Rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(t,e={}){return is(t,"GET","/v2/passwordPolicy",ss(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=6;class JL{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:XL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ew(this),this.idTokenSubscription=new ew(this),this.beforeStateQueue=new QL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Pi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await QI(this,{idToken:e}),r=await rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(ar(this));const n=e?ze(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YL(this),n=new JL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ws("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await Pi.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&AL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function os(t){return ze(t)}class ew{constructor(e){this.auth=e,this.observer=null,this.addObserver=KD(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ej(t){cd=t}function aS(t){return cd.loadJS(t)}function tj(){return cd.recaptchaEnterpriseScript}function nj(){return cd.gapiScript}function rj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sj="recaptcha-enterprise",ij="NO_RECAPTCHA";class oj{constructor(e){this.type=sj,this.auth=os(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{VL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new jL(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;Q_(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(ij)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Q_(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=tj();u.length!==0&&(u+=a),aS(u).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function tw(t,e,n,r=!1){const s=new oj(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ap(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await tw(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await tw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t,e){const n=Hs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ma(i,e??{}))return s;mn(s,"already-initialized")}return n.initialize({options:e})}function lj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(sr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uj(t,e,n){const r=os(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=lS(e),{host:o,port:a}=cj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),dj()}function lS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cj(t){const e=lS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:nw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:nw(o)}}}function nw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function hj(t,e){return is(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(t,e){return al(t,"POST","/v1/accounts:signInWithPassword",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(t,e){return al(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}async function mj(t,e){return al(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Km{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Va(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Va(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ap(e,n,"signInWithPassword",fj);case"emailLink":return pj(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ap(e,r,"signUpPassword",hj);case"emailLink":return mj(e,{idToken:n,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ni(t,e){return al(t,"POST","/v1/accounts:signInWithIdp",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="http://localhost";class js extends Km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=sl(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new js(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ni(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ni(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ni(e,n)}buildRequest(){const e={requestUri:gj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=il(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vj(t){const e=Bo(Wo(t)).link,n=e?Bo(Wo(e)).deep_link_id:null,r=Bo(Wo(t)).deep_link_id;return(r?Bo(Wo(r)).link:null)||r||n||e||t}class Gm{constructor(e){var n,r,s,i,o,a;const u=Bo(Wo(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,m=yj((s=u.mode)!==null&&s!==void 0?s:null);X(c&&f&&m,"argument-error"),this.apiKey=c,this.operation=m,this.code=f,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=vj(e);try{return new Gm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,n){return Va._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gm.parseLink(n);return X(r,"argument-error"),Va._fromEmailAndCode(e,r.code,r.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Qm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends ll{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return js._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zn.credential(n,r)}catch{return null}}}Zn.GOOGLE_SIGN_IN_METHOD="google.com";Zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends ll{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends ll{constructor(){super("twitter.com")}static credential(e,n){return js._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e){return al(t,"POST","/v1/accounts:signUp",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await rr._fromIdTokenResponse(e,r,s),o=rw(r);return new Vs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=rw(r);return new Vs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function rw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Pn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,kc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new kc(e,n,r,s)}}function uS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?kc._fromErrorAndOperation(t,i,e,r):i})}async function wj(t,e,n=!1){const r=await ja(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(t,e,n=!1){const{auth:r}=t;if(xn(r.app))return Promise.reject(ar(r));const s="reauthenticate";try{const i=await ja(t,uS(r,s,e,t),n);X(i.idToken,r,"internal-error");const o=Hm(i.idToken);X(o,r,"internal-error");const{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),Vs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&mn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(t,e,n=!1){if(xn(t.app))return Promise.reject(ar(t));const r="signIn",s=await uS(t,r,e),i=await Vs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Tj(t,e){return cS(os(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(t){const e=os(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xj(t,e,n){if(xn(t.app))return Promise.reject(ar(t));const r=os(t),o=await ap(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_j).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&dS(t),u}),a=await Vs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Ij(t,e,n){return xn(t.app)?Promise.reject(ar(t)):Tj(ze(t),io.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dS(t),r})}function Sj(t,e,n,r){return ze(t).onIdTokenChanged(e,n,r)}function kj(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}function Cj(t,e,n,r){return ze(t).onAuthStateChanged(e,n,r)}function Aj(t){return ze(t).signOut()}const Cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cc,"1"),this.storage.removeItem(Cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=1e3,bj=10;class fS extends hS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);GL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,bj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Rj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fS.type="LOCAL";const Pj=fS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS extends hS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pS.type="SESSION";const mS=pS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new dd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await Nj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=Ym("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const g=m;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function Oj(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function Mj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Lj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jj(){return gS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="firebaseLocalStorageDb",Vj=1,Ac="firebaseLocalStorage",vS="fbase_key";class ul{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hd(t,e){return t.transaction([Ac],e?"readwrite":"readonly").objectStore(Ac)}function Fj(){const t=indexedDB.deleteDatabase(yS);return new ul(t).toPromise()}function lp(){const t=indexedDB.open(yS,Vj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ac,{keyPath:vS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ac)?e(r):(r.close(),await Fj(),e(await lp()))})})}async function sw(t,e,n){const r=hd(t,!0).put({[vS]:e,value:n});return new ul(r).toPromise()}async function Uj(t,e){const n=hd(t,!1).get(e),r=await new ul(n).toPromise();return r===void 0?null:r.value}function iw(t,e){const n=hd(t,!0).delete(e);return new ul(n).toPromise()}const $j=800,zj=3;class _S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dd._getInstance(jj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Mj(),!this.activeServiceWorker)return;this.sender=new Dj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Lj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await sw(e,Cc,"1"),await iw(e,Cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Uj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=hd(s,!1).getAll();return new ul(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$j)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_S.type="LOCAL";const Bj=_S;new ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e){return e?sr(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends Km{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ni(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ni(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ni(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Wj(t){return cS(t.auth,new Xm(t),t.bypassAuthState)}function Hj(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),Ej(n,new Xm(t),t.bypassAuthState)}async function qj(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),wj(n,new Xm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wj;case"linkViaPopup":case"linkViaRedirect":return qj;case"reauthViaPopup":case"reauthViaRedirect":return Hj;default:mn(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=new ol(2e3,1e4);async function Gj(t,e,n){if(xn(t.app))return Promise.reject(kn(t,"operation-not-supported-in-this-environment"));const r=os(t);RL(t,e,Qm);const s=wS(r,n);return new xs(r,"signInViaPopup",e,s).executeNotNull()}class xs extends ES{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=Ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Kj.get())};e()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="pendingRedirect",ju=new Map;class Yj extends ES{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ju.get(this.auth._key());if(!e){try{const r=await Xj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ju.set(this.auth._key(),e)}return this.bypassAuthState||ju.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xj(t,e){const n=e4(e),r=Zj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Jj(t,e){ju.set(t._key(),e)}function Zj(t){return sr(t._redirectPersistence)}function e4(t){return Lu(Qj,t.config.apiKey,t.name)}async function t4(t,e,n=!1){if(xn(t.app))return Promise.reject(ar(t));const r=os(t),s=wS(r,e),o=await new Yj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=10*60*1e3;class r4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n4&&this.cachedEventUids.clear(),this.cachedEventUids.has(ow(e))}saveEventToCache(e){this.cachedEventUids.add(ow(e)),this.lastProcessedEventTime=Date.now()}}function ow(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function s4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t,e={}){return is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a4=/^https?/;async function l4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await i4(t);for(const n of e)try{if(u4(n))return}catch{}mn(t,"unauthorized-domain")}function u4(t){const e=ip(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!a4.test(n))return!1;if(o4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new ol(3e4,6e4);function aw(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function d4(t){return new Promise((e,n)=>{var r,s,i;function o(){aw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aw(),n(kn(t,"network-request-failed"))},timeout:c4.get()})}if(!((s=(r=Un().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Un().gapi)===null||i===void 0)&&i.load)o();else{const a=rj("iframefcb");return Un()[a]=()=>{gapi.load?o():n(kn(t,"network-request-failed"))},aS(`${nj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Vu=null,e})}let Vu=null;function h4(t){return Vu=Vu||d4(t),Vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new ol(5e3,15e3),p4="__/auth/iframe",m4="emulator/auth/iframe",g4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v4(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wm(e,m4):`https://${t.config.authDomain}/${p4}`,r={apiKey:e.apiKey,appName:t.name,v:so},s=y4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${il(r).slice(1)}`}async function _4(t){const e=await h4(t),n=Un().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:v4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=kn(t,"network-request-failed"),a=Un().setTimeout(()=>{i(o)},f4.get());function u(){Un().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E4=500,T4=600,x4="_blank",I4="http://localhost";class lw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S4(t,e,n,r=E4,s=T4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},w4),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Rt().toLowerCase();n&&(a=eS(c)?x4:n),JI(c)&&(e=e||I4,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[w,A])=>`${g}${w}=${A},`,"");if(KL(c)&&a!=="_self")return k4(e||"",a),new lw(null);const m=window.open(e||"",a,f);X(m,t,"popup-blocked");try{m.focus()}catch{}return new lw(m)}function k4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="__/auth/handler",A4="emulator/auth/handler",R4=encodeURIComponent("fac");async function uw(t,e,n,r,s,i){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:so,eventId:s};if(e instanceof Qm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",qD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof ll){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const u=await t._getAppCheckToken(),c=u?`#${R4}=${encodeURIComponent(u)}`:"";return`${b4(t)}?${il(a).slice(1)}${c}`}function b4({config:t}){return t.emulator?Wm(t,A4):`https://${t.authDomain}/${C4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="webStorageSupport";class P4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mS,this._completeRedirectFn=t4,this._overrideRedirectResult=Jj}async _openPopup(e,n,r,s){var i;mr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await uw(e,n,r,ip(),s);return S4(e,o,Ym())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await uw(e,n,r,ip(),s);return Oj(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(mr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _4(e),r=new r4(e);return n.register("authEvent",s=>(X(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($h,{type:$h},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[$h];o!==void 0&&n(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iS()||ZI()||qm()}}const N4=P4;var cw="@firebase/auth",dw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M4(t){Wn(new An("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oS(t)},c=new ZL(r,s,i,u);return lj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wn(new An("auth-internal",e=>{const n=os(e.getProvider("auth").getImmediate());return(r=>new D4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dn(cw,dw,O4(t)),dn(cw,dw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=5*60,j4=hI("authIdTokenMaxAge")||L4;let hw=null;const V4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j4)return;const s=n==null?void 0:n.token;hw!==s&&(hw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function F4(t=Lm()){const e=Hs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aj(t,{popupRedirectResolver:N4,persistence:[Bj,Pj,mS]}),r=hI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=V4(i.toString());kj(n,o,()=>o(n.currentUser)),Sj(n,a=>o(a))}}const s=cI("auth");return s&&uj(n,`http://${s}`),n}function U4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ej({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=kn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",U4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M4("Browser");var fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,xS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function k(){}k.prototype=v.prototype,S.D=v.prototype,S.prototype=new k,S.prototype.constructor=S,S.C=function(R,N,D){for(var P=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)P[Be-2]=arguments[Be];return v.prototype[N].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,v,k){k||(k=0);var R=Array(16);if(typeof v=="string")for(var N=0;16>N;++N)R[N]=v.charCodeAt(k++)|v.charCodeAt(k++)<<8|v.charCodeAt(k++)<<16|v.charCodeAt(k++)<<24;else for(N=0;16>N;++N)R[N]=v[k++]|v[k++]<<8|v[k++]<<16|v[k++]<<24;v=S.g[0],k=S.g[1],N=S.g[2];var D=S.g[3],P=v+(D^k&(N^D))+R[0]+3614090360&4294967295;v=k+(P<<7&4294967295|P>>>25),P=D+(N^v&(k^N))+R[1]+3905402710&4294967295,D=v+(P<<12&4294967295|P>>>20),P=N+(k^D&(v^k))+R[2]+606105819&4294967295,N=D+(P<<17&4294967295|P>>>15),P=k+(v^N&(D^v))+R[3]+3250441966&4294967295,k=N+(P<<22&4294967295|P>>>10),P=v+(D^k&(N^D))+R[4]+4118548399&4294967295,v=k+(P<<7&4294967295|P>>>25),P=D+(N^v&(k^N))+R[5]+1200080426&4294967295,D=v+(P<<12&4294967295|P>>>20),P=N+(k^D&(v^k))+R[6]+2821735955&4294967295,N=D+(P<<17&4294967295|P>>>15),P=k+(v^N&(D^v))+R[7]+4249261313&4294967295,k=N+(P<<22&4294967295|P>>>10),P=v+(D^k&(N^D))+R[8]+1770035416&4294967295,v=k+(P<<7&4294967295|P>>>25),P=D+(N^v&(k^N))+R[9]+2336552879&4294967295,D=v+(P<<12&4294967295|P>>>20),P=N+(k^D&(v^k))+R[10]+4294925233&4294967295,N=D+(P<<17&4294967295|P>>>15),P=k+(v^N&(D^v))+R[11]+2304563134&4294967295,k=N+(P<<22&4294967295|P>>>10),P=v+(D^k&(N^D))+R[12]+1804603682&4294967295,v=k+(P<<7&4294967295|P>>>25),P=D+(N^v&(k^N))+R[13]+4254626195&4294967295,D=v+(P<<12&4294967295|P>>>20),P=N+(k^D&(v^k))+R[14]+2792965006&4294967295,N=D+(P<<17&4294967295|P>>>15),P=k+(v^N&(D^v))+R[15]+1236535329&4294967295,k=N+(P<<22&4294967295|P>>>10),P=v+(N^D&(k^N))+R[1]+4129170786&4294967295,v=k+(P<<5&4294967295|P>>>27),P=D+(k^N&(v^k))+R[6]+3225465664&4294967295,D=v+(P<<9&4294967295|P>>>23),P=N+(v^k&(D^v))+R[11]+643717713&4294967295,N=D+(P<<14&4294967295|P>>>18),P=k+(D^v&(N^D))+R[0]+3921069994&4294967295,k=N+(P<<20&4294967295|P>>>12),P=v+(N^D&(k^N))+R[5]+3593408605&4294967295,v=k+(P<<5&4294967295|P>>>27),P=D+(k^N&(v^k))+R[10]+38016083&4294967295,D=v+(P<<9&4294967295|P>>>23),P=N+(v^k&(D^v))+R[15]+3634488961&4294967295,N=D+(P<<14&4294967295|P>>>18),P=k+(D^v&(N^D))+R[4]+3889429448&4294967295,k=N+(P<<20&4294967295|P>>>12),P=v+(N^D&(k^N))+R[9]+568446438&4294967295,v=k+(P<<5&4294967295|P>>>27),P=D+(k^N&(v^k))+R[14]+3275163606&4294967295,D=v+(P<<9&4294967295|P>>>23),P=N+(v^k&(D^v))+R[3]+4107603335&4294967295,N=D+(P<<14&4294967295|P>>>18),P=k+(D^v&(N^D))+R[8]+1163531501&4294967295,k=N+(P<<20&4294967295|P>>>12),P=v+(N^D&(k^N))+R[13]+2850285829&4294967295,v=k+(P<<5&4294967295|P>>>27),P=D+(k^N&(v^k))+R[2]+4243563512&4294967295,D=v+(P<<9&4294967295|P>>>23),P=N+(v^k&(D^v))+R[7]+1735328473&4294967295,N=D+(P<<14&4294967295|P>>>18),P=k+(D^v&(N^D))+R[12]+2368359562&4294967295,k=N+(P<<20&4294967295|P>>>12),P=v+(k^N^D)+R[5]+4294588738&4294967295,v=k+(P<<4&4294967295|P>>>28),P=D+(v^k^N)+R[8]+2272392833&4294967295,D=v+(P<<11&4294967295|P>>>21),P=N+(D^v^k)+R[11]+1839030562&4294967295,N=D+(P<<16&4294967295|P>>>16),P=k+(N^D^v)+R[14]+4259657740&4294967295,k=N+(P<<23&4294967295|P>>>9),P=v+(k^N^D)+R[1]+2763975236&4294967295,v=k+(P<<4&4294967295|P>>>28),P=D+(v^k^N)+R[4]+1272893353&4294967295,D=v+(P<<11&4294967295|P>>>21),P=N+(D^v^k)+R[7]+4139469664&4294967295,N=D+(P<<16&4294967295|P>>>16),P=k+(N^D^v)+R[10]+3200236656&4294967295,k=N+(P<<23&4294967295|P>>>9),P=v+(k^N^D)+R[13]+681279174&4294967295,v=k+(P<<4&4294967295|P>>>28),P=D+(v^k^N)+R[0]+3936430074&4294967295,D=v+(P<<11&4294967295|P>>>21),P=N+(D^v^k)+R[3]+3572445317&4294967295,N=D+(P<<16&4294967295|P>>>16),P=k+(N^D^v)+R[6]+76029189&4294967295,k=N+(P<<23&4294967295|P>>>9),P=v+(k^N^D)+R[9]+3654602809&4294967295,v=k+(P<<4&4294967295|P>>>28),P=D+(v^k^N)+R[12]+3873151461&4294967295,D=v+(P<<11&4294967295|P>>>21),P=N+(D^v^k)+R[15]+530742520&4294967295,N=D+(P<<16&4294967295|P>>>16),P=k+(N^D^v)+R[2]+3299628645&4294967295,k=N+(P<<23&4294967295|P>>>9),P=v+(N^(k|~D))+R[0]+4096336452&4294967295,v=k+(P<<6&4294967295|P>>>26),P=D+(k^(v|~N))+R[7]+1126891415&4294967295,D=v+(P<<10&4294967295|P>>>22),P=N+(v^(D|~k))+R[14]+2878612391&4294967295,N=D+(P<<15&4294967295|P>>>17),P=k+(D^(N|~v))+R[5]+4237533241&4294967295,k=N+(P<<21&4294967295|P>>>11),P=v+(N^(k|~D))+R[12]+1700485571&4294967295,v=k+(P<<6&4294967295|P>>>26),P=D+(k^(v|~N))+R[3]+2399980690&4294967295,D=v+(P<<10&4294967295|P>>>22),P=N+(v^(D|~k))+R[10]+4293915773&4294967295,N=D+(P<<15&4294967295|P>>>17),P=k+(D^(N|~v))+R[1]+2240044497&4294967295,k=N+(P<<21&4294967295|P>>>11),P=v+(N^(k|~D))+R[8]+1873313359&4294967295,v=k+(P<<6&4294967295|P>>>26),P=D+(k^(v|~N))+R[15]+4264355552&4294967295,D=v+(P<<10&4294967295|P>>>22),P=N+(v^(D|~k))+R[6]+2734768916&4294967295,N=D+(P<<15&4294967295|P>>>17),P=k+(D^(N|~v))+R[13]+1309151649&4294967295,k=N+(P<<21&4294967295|P>>>11),P=v+(N^(k|~D))+R[4]+4149444226&4294967295,v=k+(P<<6&4294967295|P>>>26),P=D+(k^(v|~N))+R[11]+3174756917&4294967295,D=v+(P<<10&4294967295|P>>>22),P=N+(v^(D|~k))+R[2]+718787259&4294967295,N=D+(P<<15&4294967295|P>>>17),P=k+(D^(N|~v))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var k=v-this.blockSize,R=this.B,N=this.h,D=0;D<v;){if(N==0)for(;D<=k;)s(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<v;)if(R[N++]=S.charCodeAt(D++),N==this.blockSize){s(this,R),N=0;break}}else for(;D<v;)if(R[N++]=S[D++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var k=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=k&255,k/=256;for(this.u(S),S=Array(16),v=k=0;4>v;++v)for(var R=0;32>R;R+=8)S[k++]=this.g[v]>>>R&255;return S};function i(S,v){var k=a;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=v(S)}function o(S,v){this.h=v;for(var k=[],R=!0,N=S.length-1;0<=N;N--){var D=S[N]|0;R&&D==v||(k[N]=D,R=!1)}this.g=k}var a={};function u(S){return-128<=S&&128>S?i(S,function(v){return new o([v|0],0>v?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return m;if(0>S)return C(c(-S));for(var v=[],k=1,R=0;S>=k;R++)v[R]=S/k|0,k*=4294967296;return new o(v,0)}function f(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return C(f(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(v,8)),R=m,N=0;N<S.length;N+=8){var D=Math.min(8,S.length-N),P=parseInt(S.substring(N,N+D),v);8>D?(D=c(Math.pow(v,D)),R=R.j(D).add(c(P))):(R=R.j(k),R=R.add(c(P)))}return R}var m=u(0),g=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-C(this).m();for(var S=0,v=1,k=0;k<this.g.length;k++){var R=this.i(k);S+=(0<=R?R:4294967296+R)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A(this))return"0";if(I(this))return"-"+C(this).toString(S);for(var v=c(Math.pow(S,6)),k=this,R="";;){var N=b(k,v).g;k=E(k,N.j(v));var D=((0<k.g.length?k.g[0]:k.h)>>>0).toString(S);if(k=N,A(k))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function A(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function I(S){return S.h==-1}t.l=function(S){return S=E(this,S),I(S)?-1:A(S)?0:1};function C(S){for(var v=S.g.length,k=[],R=0;R<v;R++)k[R]=~S.g[R];return new o(k,~S.h).add(g)}t.abs=function(){return I(this)?C(this):this},t.add=function(S){for(var v=Math.max(this.g.length,S.g.length),k=[],R=0,N=0;N<=v;N++){var D=R+(this.i(N)&65535)+(S.i(N)&65535),P=(D>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);R=P>>>16,D&=65535,P&=65535,k[N]=P<<16|D}return new o(k,k[k.length-1]&-2147483648?-1:0)};function E(S,v){return S.add(C(v))}t.j=function(S){if(A(this)||A(S))return m;if(I(this))return I(S)?C(this).j(C(S)):C(C(this).j(S));if(I(S))return C(this.j(C(S)));if(0>this.l(w)&&0>S.l(w))return c(this.m()*S.m());for(var v=this.g.length+S.g.length,k=[],R=0;R<2*v;R++)k[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<S.g.length;N++){var D=this.i(R)>>>16,P=this.i(R)&65535,Be=S.i(N)>>>16,et=S.i(N)&65535;k[2*R+2*N]+=P*et,_(k,2*R+2*N),k[2*R+2*N+1]+=D*et,_(k,2*R+2*N+1),k[2*R+2*N+1]+=P*Be,_(k,2*R+2*N+1),k[2*R+2*N+2]+=D*Be,_(k,2*R+2*N+2)}for(R=0;R<v;R++)k[R]=k[2*R+1]<<16|k[2*R];for(R=v;R<2*v;R++)k[R]=0;return new o(k,0)};function _(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function T(S,v){this.g=S,this.h=v}function b(S,v){if(A(v))throw Error("division by zero");if(A(S))return new T(m,m);if(I(S))return v=b(C(S),v),new T(C(v.g),C(v.h));if(I(v))return v=b(S,C(v)),new T(C(v.g),v.h);if(30<S.g.length){if(I(S)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var k=g,R=v;0>=R.l(S);)k=L(k),R=L(R);var N=M(k,1),D=M(R,1);for(R=M(R,2),k=M(k,2);!A(R);){var P=D.add(R);0>=P.l(S)&&(N=N.add(k),D=P),R=M(R,1),k=M(k,1)}return v=E(S,N.j(v)),new T(N,v)}for(N=m;0<=S.l(v);){for(k=Math.max(1,Math.floor(S.m()/v.m())),R=Math.ceil(Math.log(k)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=c(k),P=D.j(v);I(P)||0<P.l(S);)k-=R,D=c(k),P=D.j(v);A(D)&&(D=g),N=N.add(D),S=E(S,P)}return new T(N,S)}t.A=function(S){return b(this,S).h},t.and=function(S){for(var v=Math.max(this.g.length,S.g.length),k=[],R=0;R<v;R++)k[R]=this.i(R)&S.i(R);return new o(k,this.h&S.h)},t.or=function(S){for(var v=Math.max(this.g.length,S.g.length),k=[],R=0;R<v;R++)k[R]=this.i(R)|S.i(R);return new o(k,this.h|S.h)},t.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),k=[],R=0;R<v;R++)k[R]=this.i(R)^S.i(R);return new o(k,this.h^S.h)};function L(S){for(var v=S.g.length+1,k=[],R=0;R<v;R++)k[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(k,S.h)}function M(S,v){var k=v>>5;v%=32;for(var R=S.g.length-k,N=[],D=0;D<R;D++)N[D]=0<v?S.i(D+k)>>>v|S.i(D+k+1)<<32-v:S.i(D+k);return new o(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,Cs=o}).apply(typeof fw<"u"?fw:typeof self<"u"?self:typeof window<"u"?window:{});var cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IS,Ho,SS,Fu,up,kS,CS,AS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof cu=="object"&&cu];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var p=r;l=l.split(".");for(var x=0;x<l.length-1;x++){var O=l[x];if(!(O in p))break e;p=p[O]}l=l[l.length-1],x=p[l],h=h(x),h!=x&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var p=0,x=!1,O={next:function(){if(!x&&p<l.length){var j=p++;return{value:h(j,l[j]),done:!1}}return x=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(l){return l||function(){return i(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function f(l,h,p){return l.call.apply(l.bind,arguments)}function m(l,h,p){if(!l)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,x),l.apply(h,O)}}return function(){return l.apply(h,arguments)}}function g(l,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function w(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var x=p.slice();return x.push.apply(x,arguments),l.apply(this,x)}}function A(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(x,O,j){for(var z=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)z[Ie-2]=arguments[Ie];return h.prototype[O].apply(x,z)}}function I(l){const h=l.length;if(0<h){const p=Array(h);for(let x=0;x<h;x++)p[x]=l[x];return p}return[]}function C(l,h){for(let p=1;p<arguments.length;p++){const x=arguments[p];if(u(x)){const O=l.length||0,j=x.length||0;l.length=O+j;for(let z=0;z<j;z++)l[O+z]=x[z]}else l.push(x)}}class E{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(l){return/^[\s\xa0]*$/.test(l)}function T(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function b(l){return b[" "](l),l}b[" "]=function(){};var L=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(l,h,p){for(const x in l)h.call(p,l[x],x,l)}function S(l,h){for(const p in l)h.call(void 0,l[p],p,l)}function v(l){const h={};for(const p in l)h[p]=l[p];return h}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,h){let p,x;for(let O=1;O<arguments.length;O++){x=arguments[O];for(p in x)l[p]=x[p];for(let j=0;j<k.length;j++)p=k[j],Object.prototype.hasOwnProperty.call(x,p)&&(l[p]=x[p])}}function N(l){var h=1;l=l.split(":");const p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function D(l){a.setTimeout(()=>{throw l},0)}function P(){var l=Y;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Be{constructor(){this.h=this.g=null}add(h,p){const x=et.get();x.set(h,p),this.h?this.h.next=x:this.g=x,this.h=x}}var et=new E(()=>new Ee,l=>l.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,V=!1,Y=new Be,Z=()=>{const l=a.Promise.resolve(void 0);Ge=()=>{l.then(Te)}};var Te=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(p){D(p)}var h=et;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}V=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function st(l,h){if(re.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,x=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(L){e:{try{b(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:vt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&st.aa.h.call(this)}}A(st,re);var vt={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),Xs=0;function _r(l,h,p,x,O){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!x,this.ha=O,this.key=++Xs,this.da=this.fa=!1}function yn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Nn(l){this.src=l,this.g={},this.h=0}Nn.prototype.add=function(l,h,p,x,O){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var z=co(l,h,x,O);return-1<z?(h=l[z],p||(h.fa=!1)):(h=new _r(h,this.src,j,!!x,O),h.fa=p,l.push(h)),h};function Dn(l,h){var p=h.type;if(p in l.g){var x=l.g[p],O=Array.prototype.indexOf.call(x,h,void 0),j;(j=0<=O)&&Array.prototype.splice.call(x,O,1),j&&(yn(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function co(l,h,p,x){for(var O=0;O<l.length;++O){var j=l[O];if(!j.da&&j.listener==h&&j.capture==!!p&&j.ha==x)return O}return-1}var ho="closure_lm_"+(1e6*Math.random()|0),us={};function El(l,h,p,x,O){if(Array.isArray(h)){for(var j=0;j<h.length;j++)El(l,h[j],p,x,O);return null}return p=Ug(p),l&&l[ye]?l.K(h,p,c(x)?!!x.capture:!1,O):B(l,h,p,!1,x,O)}function B(l,h,p,x,O,j){if(!h)throw Error("Invalid event type");var z=c(O)?!!O.capture:!!O,Ie=bd(l);if(Ie||(l[ho]=Ie=new Nn(l)),p=Ie.add(h,p,x,z,j),p.proxy)return p;if(x=ue(),p.proxy=x,x.src=l,x.listener=p,l.addEventListener)xe||(O=z),O===void 0&&(O=!1),l.addEventListener(h.toString(),x,O);else if(l.attachEvent)l.attachEvent(ke(h.toString()),x);else if(l.addListener&&l.removeListener)l.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ue(){function l(p){return h.call(l.src,l.listener,p)}const h=wr;return l}function pe(l,h,p,x,O){if(Array.isArray(h))for(var j=0;j<h.length;j++)pe(l,h[j],p,x,O);else x=c(x)?!!x.capture:!!x,p=Ug(p),l&&l[ye]?(l=l.i,h=String(h).toString(),h in l.g&&(j=l.g[h],p=co(j,p,x,O),-1<p&&(yn(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete l.g[h],l.h--)))):l&&(l=bd(l))&&(h=l.g[h.toString()],l=-1,h&&(l=co(h,p,x,O)),(p=-1<l?h[l]:null)&&ne(p))}function ne(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ye])Dn(h.i,l);else{var p=l.type,x=l.proxy;h.removeEventListener?h.removeEventListener(p,x,l.capture):h.detachEvent?h.detachEvent(ke(p),x):h.addListener&&h.removeListener&&h.removeListener(x),(p=bd(h))?(Dn(p,l),p.h==0&&(p.src=null,h[ho]=null)):yn(l)}}}function ke(l){return l in us?us[l]:us[l]="on"+l}function wr(l,h){if(l.da)l=!0;else{h=new st(h,this);var p=l.listener,x=l.ha||l.src;l.fa&&ne(l),l=p.call(x,h)}return l}function bd(l){return l=l[ho],l instanceof Nn?l:null}var Pd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ug(l){return typeof l=="function"?l:(l[Pd]||(l[Pd]=function(h){return l.handleEvent(h)}),l[Pd])}function _t(){ie.call(this),this.i=new Nn(this),this.M=this,this.F=null}A(_t,ie),_t.prototype[ye]=!0,_t.prototype.removeEventListener=function(l,h,p,x){pe(this,l,h,p,x)};function bt(l,h){var p,x=l.F;if(x)for(p=[];x;x=x.F)p.push(x);if(l=l.M,x=h.type||h,typeof h=="string")h=new re(h,l);else if(h instanceof re)h.target=h.target||l;else{var O=h;h=new re(x,l),R(h,O)}if(O=!0,p)for(var j=p.length-1;0<=j;j--){var z=h.g=p[j];O=Tl(z,x,!0,h)&&O}if(z=h.g=l,O=Tl(z,x,!0,h)&&O,O=Tl(z,x,!1,h)&&O,p)for(j=0;j<p.length;j++)z=h.g=p[j],O=Tl(z,x,!1,h)&&O}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],x=0;x<p.length;x++)yn(p[x]);delete l.g[h],l.h--}}this.F=null},_t.prototype.K=function(l,h,p,x){return this.i.add(String(l),h,!1,p,x)},_t.prototype.L=function(l,h,p,x){return this.i.add(String(l),h,!0,p,x)};function Tl(l,h,p,x){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,j=0;j<h.length;++j){var z=h[j];if(z&&!z.da&&z.capture==p){var Ie=z.listener,ut=z.ha||z.src;z.fa&&Dn(l.i,z),O=Ie.call(ut,x)!==!1&&O}}return O&&!x.defaultPrevented}function $g(l,h,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function zg(l){l.g=$g(()=>{l.g=null,l.i&&(l.i=!1,zg(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class fk extends ie{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:zg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fo(l){ie.call(this),this.h=l,this.g={}}A(fo,ie);var Bg=[];function Wg(l){M(l.g,function(h,p){this.g.hasOwnProperty(p)&&ne(h)},l),l.g={}}fo.prototype.N=function(){fo.aa.N.call(this),Wg(this)},fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nd=a.JSON.stringify,pk=a.JSON.parse,mk=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Dd(){}Dd.prototype.h=null;function Hg(l){return l.h||(l.h=l.i())}function qg(){}var po={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Od(){re.call(this,"d")}A(Od,re);function Md(){re.call(this,"c")}A(Md,re);var cs={},Kg=null;function xl(){return Kg=Kg||new _t}cs.La="serverreachability";function Gg(l){re.call(this,cs.La,l)}A(Gg,re);function mo(l){const h=xl();bt(h,new Gg(h))}cs.STAT_EVENT="statevent";function Qg(l,h){re.call(this,cs.STAT_EVENT,l),this.stat=h}A(Qg,re);function Pt(l){const h=xl();bt(h,new Qg(h,l))}cs.Ma="timingevent";function Yg(l,h){re.call(this,cs.Ma,l),this.size=h}A(Yg,re);function go(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function yo(){this.g=!0}yo.prototype.xa=function(){this.g=!1};function gk(l,h,p,x,O,j){l.info(function(){if(l.g)if(j)for(var z="",Ie=j.split("&"),ut=0;ut<Ie.length;ut++){var me=Ie[ut].split("=");if(1<me.length){var wt=me[0];me=me[1];var Et=wt.split("_");z=2<=Et.length&&Et[1]=="type"?z+(wt+"="+me+"&"):z+(wt+"=redacted&")}}else z=null;else z=j;return"XMLHTTP REQ ("+x+") [attempt "+O+"]: "+h+`
`+p+`
`+z})}function yk(l,h,p,x,O,j,z){l.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+O+"]: "+h+`
`+p+`
`+j+" "+z})}function Js(l,h,p,x){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+_k(l,p)+(x?" "+x:"")})}function vk(l,h){l.info(function(){return"TIMEOUT: "+h})}yo.prototype.info=function(){};function _k(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var x=p[l];if(!(2>x.length)){var O=x[1];if(Array.isArray(O)&&!(1>O.length)){var j=O[0];if(j!="noop"&&j!="stop"&&j!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return Nd(p)}catch{return h}}var Il={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ld;function Sl(){}A(Sl,Dd),Sl.prototype.g=function(){return new XMLHttpRequest},Sl.prototype.i=function(){return{}},Ld=new Sl;function Er(l,h,p,x){this.j=l,this.i=h,this.l=p,this.R=x||1,this.U=new fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jg}function Jg(){this.i=null,this.g="",this.h=!1}var Zg={},jd={};function Vd(l,h,p){l.L=1,l.v=Rl(Gn(h)),l.m=p,l.P=!0,ey(l,null)}function ey(l,h){l.F=Date.now(),kl(l),l.A=Gn(l.v);var p=l.A,x=l.R;Array.isArray(x)||(x=[String(x)]),py(p.i,"t",x),l.C=0,p=l.j.J,l.h=new Jg,l.g=Ny(l.j,p?h:null,!l.m),0<l.O&&(l.M=new fk(g(l.Y,l,l.g),l.O)),h=l.U,p=l.g,x=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Bg[0]=O.toString()),O=Bg);for(var j=0;j<O.length;j++){var z=El(p,O[j],x||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),mo(),gk(l.i,l.u,l.A,l.l,l.R,l.m)}Er.prototype.ca=function(l){l=l.target;const h=this.M;h&&Qn(l)==3?h.j():this.Y(l)},Er.prototype.Y=function(l){try{if(l==this.g)e:{const Et=Qn(this.g);var h=this.g.Ba();const ti=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Ey(this.g)))){this.J||Et!=4||h==7||(h==8||0>=ti?mo(3):mo(2)),Fd(this);var p=this.g.Z();this.X=p;t:if(ty(this)){var x=Ey(this.g);l="";var O=x.length,j=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),vo(this);var z="";break t}this.h.i=new a.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,l+=this.h.i.decode(x[h],{stream:!(j&&h==O-1)});x.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=p==200,yk(this.i,this.u,this.A,this.l,this.R,Et,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,ut=this.g;if((Ie=ut.g?ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ie)){var me=Ie;break t}}me=null}if(p=me)Js(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ud(this,p);else{this.o=!1,this.s=3,Pt(12),ds(this),vo(this);break e}}if(this.P){p=!0;let vn;for(;!this.J&&this.C<z.length;)if(vn=wk(this,z),vn==jd){Et==4&&(this.s=4,Pt(14),p=!1),Js(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==Zg){this.s=4,Pt(15),Js(this.i,this.l,z,"[Invalid Chunk]"),p=!1;break}else Js(this.i,this.l,vn,null),Ud(this,vn);if(ty(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||z.length!=0||this.h.h||(this.s=1,Pt(16),p=!1),this.o=this.o&&p,!p)Js(this.i,this.l,z,"[Invalid Chunked Response]"),ds(this),vo(this);else if(0<z.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),qd(wt),wt.M=!0,Pt(11))}}else Js(this.i,this.l,z,null),Ud(this,z);Et==4&&ds(this),this.o&&!this.J&&(Et==4?Ay(this.j,this):(this.o=!1,kl(this)))}else jk(this.g),p==400&&0<z.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),ds(this),vo(this)}}}catch{}finally{}};function ty(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function wk(l,h){var p=l.C,x=h.indexOf(`
`,p);return x==-1?jd:(p=Number(h.substring(p,x)),isNaN(p)?Zg:(x+=1,x+p>h.length?jd:(h=h.slice(x,x+p),l.C=x+p,h)))}Er.prototype.cancel=function(){this.J=!0,ds(this)};function kl(l){l.S=Date.now()+l.I,ny(l,l.I)}function ny(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=go(g(l.ba,l),h)}function Fd(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Er.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(vk(this.i,this.A),this.L!=2&&(mo(),Pt(17)),ds(this),this.s=2,vo(this)):ny(this,this.S-l)};function vo(l){l.j.G==0||l.J||Ay(l.j,l)}function ds(l){Fd(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Wg(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Ud(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||$d(p.h,l))){if(!l.K&&$d(p.h,l)&&p.G==3){try{var x=p.Da.g.parse(h)}catch{x=null}if(Array.isArray(x)&&x.length==3){var O=x;if(O[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Ml(p),Dl(p);else break e;Hd(p),Pt(18)}}else p.za=O[1],0<p.za-p.T&&37500>O[2]&&p.F&&p.v==0&&!p.C&&(p.C=go(g(p.Za,p),6e3));if(1>=iy(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else fs(p,11)}else if((l.K||p.g==l)&&Ml(p),!_(h))for(O=p.Da.g.parse(h),h=0;h<O.length;h++){let me=O[h];if(p.T=me[0],me=me[1],p.G==2)if(me[0]=="c"){p.K=me[1],p.ia=me[2];const wt=me[3];wt!=null&&(p.la=wt,p.j.info("VER="+p.la));const Et=me[4];Et!=null&&(p.Aa=Et,p.j.info("SVER="+p.Aa));const ti=me[5];ti!=null&&typeof ti=="number"&&0<ti&&(x=1.5*ti,p.L=x,p.j.info("backChannelRequestTimeoutMs_="+x)),x=p;const vn=l.g;if(vn){const jl=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jl){var j=x.h;j.g||jl.indexOf("spdy")==-1&&jl.indexOf("quic")==-1&&jl.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(zd(j,j.h),j.h=null))}if(x.D){const Kd=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Kd&&(x.ya=Kd,Ce(x.I,x.D,Kd))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),x=p;var z=l;if(x.qa=Py(x,x.J?x.ia:null,x.W),z.K){oy(x.h,z);var Ie=z,ut=x.L;ut&&(Ie.I=ut),Ie.B&&(Fd(Ie),kl(Ie)),x.g=z}else ky(x);0<p.i.length&&Ol(p)}else me[0]!="stop"&&me[0]!="close"||fs(p,7);else p.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?fs(p,7):Wd(p):me[0]!="noop"&&p.l&&p.l.ta(me),p.v=0)}}mo(4)}catch{}}var Ek=class{constructor(l,h){this.g=l,this.map=h}};function ry(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function iy(l){return l.h?1:l.g?l.g.size:0}function $d(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function zd(l,h){l.g?l.g.add(h):l.h=h}function oy(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}ry.prototype.cancel=function(){if(this.i=ay(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ay(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const p of l.g.values())h=h.concat(p.D);return h}return I(l.i)}function Tk(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],p=l.length,x=0;x<p;x++)h.push(l[x]);return h}h=[],p=0;for(x in l)h[p++]=l[x];return h}function xk(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(const x in l)h[p++]=x;return h}}}function ly(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=xk(l),x=Tk(l),O=x.length,j=0;j<O;j++)h.call(void 0,x[j],p&&p[j],l)}var uy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ik(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var x=l[p].indexOf("="),O=null;if(0<=x){var j=l[p].substring(0,x);O=l[p].substring(x+1)}else j=l[p];h(j,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function hs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof hs){this.h=l.h,Cl(this,l.j),this.o=l.o,this.g=l.g,Al(this,l.s),this.l=l.l;var h=l.i,p=new Eo;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),cy(this,p),this.m=l.m}else l&&(h=String(l).match(uy))?(this.h=!1,Cl(this,h[1]||"",!0),this.o=_o(h[2]||""),this.g=_o(h[3]||"",!0),Al(this,h[4]),this.l=_o(h[5]||"",!0),cy(this,h[6]||"",!0),this.m=_o(h[7]||"")):(this.h=!1,this.i=new Eo(null,this.h))}hs.prototype.toString=function(){var l=[],h=this.j;h&&l.push(wo(h,dy,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(wo(h,dy,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(wo(p,p.charAt(0)=="/"?Ck:kk,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",wo(p,Rk)),l.join("")};function Gn(l){return new hs(l)}function Cl(l,h,p){l.j=p?_o(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Al(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function cy(l,h,p){h instanceof Eo?(l.i=h,bk(l.i,l.h)):(p||(h=wo(h,Ak)),l.i=new Eo(h,l.h))}function Ce(l,h,p){l.i.set(h,p)}function Rl(l){return Ce(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function _o(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function wo(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,Sk),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Sk(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var dy=/[#\/\?@]/g,kk=/[#\?:]/g,Ck=/[#\?]/g,Ak=/[#\?@]/g,Rk=/#/g;function Eo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Tr(l){l.g||(l.g=new Map,l.h=0,l.i&&Ik(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Eo.prototype,t.add=function(l,h){Tr(this),this.i=null,l=Zs(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function hy(l,h){Tr(l),h=Zs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function fy(l,h){return Tr(l),h=Zs(l,h),l.g.has(h)}t.forEach=function(l,h){Tr(this),this.g.forEach(function(p,x){p.forEach(function(O){l.call(h,O,x,this)},this)},this)},t.na=function(){Tr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let x=0;x<h.length;x++){const O=l[x];for(let j=0;j<O.length;j++)p.push(h[x])}return p},t.V=function(l){Tr(this);let h=[];if(typeof l=="string")fy(this,l)&&(h=h.concat(this.g.get(Zs(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return Tr(this),this.i=null,l=Zs(this,l),fy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function py(l,h,p){hy(l,h),0<p.length&&(l.i=null,l.g.set(Zs(l,h),I(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var x=h[p];const j=encodeURIComponent(String(x)),z=this.V(x);for(x=0;x<z.length;x++){var O=j;z[x]!==""&&(O+="="+encodeURIComponent(String(z[x]))),l.push(O)}}return this.i=l.join("&")};function Zs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function bk(l,h){h&&!l.j&&(Tr(l),l.i=null,l.g.forEach(function(p,x){var O=x.toLowerCase();x!=O&&(hy(this,x),py(this,O,p))},l)),l.j=h}function Pk(l,h){const p=new yo;if(a.Image){const x=new Image;x.onload=w(xr,p,"TestLoadImage: loaded",!0,h,x),x.onerror=w(xr,p,"TestLoadImage: error",!1,h,x),x.onabort=w(xr,p,"TestLoadImage: abort",!1,h,x),x.ontimeout=w(xr,p,"TestLoadImage: timeout",!1,h,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=l}else h(!1)}function Nk(l,h){const p=new yo,x=new AbortController,O=setTimeout(()=>{x.abort(),xr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:x.signal}).then(j=>{clearTimeout(O),j.ok?xr(p,"TestPingServer: ok",!0,h):xr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),xr(p,"TestPingServer: error",!1,h)})}function xr(l,h,p,x,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),x(p)}catch{}}function Dk(){this.g=new mk}function Ok(l,h,p){const x=p||"";try{ly(l,function(O,j){let z=O;c(O)&&(z=Nd(O)),h.push(x+j+"="+encodeURIComponent(z))})}catch(O){throw h.push(x+"type="+encodeURIComponent("_badmap")),O}}function bl(l){this.l=l.Ub||null,this.j=l.eb||!1}A(bl,Dd),bl.prototype.g=function(){return new Pl(this.l,this.j)},bl.prototype.i=function(l){return function(){return l}}({});function Pl(l,h){_t.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Pl,_t),t=Pl.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,xo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,To(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,xo(this)),this.g&&(this.readyState=3,xo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;my(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function my(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?To(this):xo(this),this.readyState==3&&my(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,To(this))},t.Qa=function(l){this.g&&(this.response=l,To(this))},t.ga=function(){this.g&&To(this)};function To(l){l.readyState=4,l.l=null,l.j=null,l.v=null,xo(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function xo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function gy(l){let h="";return M(l,function(p,x){h+=x,h+=":",h+=p,h+=`\r
`}),h}function Bd(l,h,p){e:{for(x in p){var x=!1;break e}x=!0}x||(p=gy(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ce(l,h,p))}function Ue(l){_t.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ue,_t);var Mk=/^https?$/i,Lk=["POST","PUT"];t=Ue.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ld.g(),this.v=this.o?Hg(this.o):Hg(Ld),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(j){yy(this,j);return}if(l=p||"",p=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var O in x)p.set(O,x[O]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const j of x.keys())p.set(j,x.get(j));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),O=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Lk,h,void 0))||x||O||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,z]of p)this.g.setRequestHeader(j,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wy(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){yy(this,j)}};function yy(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,vy(l),Nl(l)}function vy(l){l.A||(l.A=!0,bt(l,"complete"),bt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,bt(this,"complete"),bt(this,"abort"),Nl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nl(this,!0)),Ue.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_y(this):this.bb())},t.bb=function(){_y(this)};function _y(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Qn(l)!=4||l.Z()!=2)){if(l.u&&Qn(l)==4)$g(l.Ea,0,l);else if(bt(l,"readystatechange"),Qn(l)==4){l.h=!1;try{const z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var x;if(x=z===0){var O=String(l.D).match(uy)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),x=!Mk.test(O?O.toLowerCase():"")}p=x}if(p)bt(l,"complete"),bt(l,"success");else{l.m=6;try{var j=2<Qn(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",vy(l)}}finally{Nl(l)}}}}function Nl(l,h){if(l.g){wy(l);const p=l.g,x=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||bt(l,"ready");try{p.onreadystatechange=x}catch{}}}function wy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Qn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),pk(h)}};function Ey(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function jk(l){const h={};l=(l.g&&2<=Qn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<l.length;x++){if(_(l[x]))continue;var p=N(l[x]);const O=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=h[O]||[];h[O]=j,j.push(p)}S(h,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Io(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function Ty(l){this.Aa=0,this.i=[],this.j=new yo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Io("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Io("baseRetryDelayMs",5e3,l),this.cb=Io("retryDelaySeedMs",1e4,l),this.Wa=Io("forwardChannelMaxRetries",2,l),this.wa=Io("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ry(l&&l.concurrentRequestLimit),this.Da=new Dk,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ty.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,x){Pt(0),this.W=l,this.H=h||{},p&&x!==void 0&&(this.H.OSID=p,this.H.OAID=x),this.F=this.X,this.I=Py(this,null,this.W),Ol(this)};function Wd(l){if(xy(l),l.G==3){var h=l.U++,p=Gn(l.I);if(Ce(p,"SID",l.K),Ce(p,"RID",h),Ce(p,"TYPE","terminate"),So(l,p),h=new Er(l,l.j,h),h.L=2,h.v=Rl(Gn(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=Ny(h.j,null),h.g.ea(h.v)),h.F=Date.now(),kl(h)}by(l)}function Dl(l){l.g&&(qd(l),l.g.cancel(),l.g=null)}function xy(l){Dl(l),l.u&&(a.clearTimeout(l.u),l.u=null),Ml(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ol(l){if(!sy(l.h)&&!l.s){l.s=!0;var h=l.Ga;Ge||Z(),V||(Ge(),V=!0),Y.add(h,l),l.B=0}}function Vk(l,h){return iy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=go(g(l.Ga,l,h),Ry(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Er(this,this.j,l);let j=this.o;if(this.S&&(j?(j=v(j),R(j,this.S)):j=this.S),this.m!==null||this.O||(O.H=j,j=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var x=this.i[p];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(h+=x,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=Sy(this,O,h),p=Gn(this.I),Ce(p,"RID",l),Ce(p,"CVER",22),this.D&&Ce(p,"X-HTTP-Session-Id",this.D),So(this,p),j&&(this.O?h="headers="+encodeURIComponent(String(gy(j)))+"&"+h:this.m&&Bd(p,this.m,j)),zd(this.h,O),this.Ua&&Ce(p,"TYPE","init"),this.P?(Ce(p,"$req",h),Ce(p,"SID","null"),O.T=!0,Vd(O,p,null)):Vd(O,p,h),this.G=2}}else this.G==3&&(l?Iy(this,l):this.i.length==0||sy(this.h)||Iy(this))};function Iy(l,h){var p;h?p=h.l:p=l.U++;const x=Gn(l.I);Ce(x,"SID",l.K),Ce(x,"RID",p),Ce(x,"AID",l.T),So(l,x),l.m&&l.o&&Bd(x,l.m,l.o),p=new Er(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Sy(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),zd(l.h,p),Vd(p,x,h)}function So(l,h){l.H&&M(l.H,function(p,x){Ce(h,x,p)}),l.l&&ly({},function(p,x){Ce(h,x,p)})}function Sy(l,h,p){p=Math.min(l.i.length,p);var x=l.l?g(l.l.Na,l.l,l):null;e:{var O=l.i;let j=-1;for(;;){const z=["count="+p];j==-1?0<p?(j=O[0].g,z.push("ofs="+j)):j=0:z.push("ofs="+j);let Ie=!0;for(let ut=0;ut<p;ut++){let me=O[ut].g;const wt=O[ut].map;if(me-=j,0>me)j=Math.max(0,O[ut].g-100),Ie=!1;else try{Ok(wt,z,"req"+me+"_")}catch{x&&x(wt)}}if(Ie){x=z.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,x}function ky(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Ge||Z(),V||(Ge(),V=!0),Y.add(h,l),l.v=0}}function Hd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=go(g(l.Fa,l),Ry(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Cy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=go(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Dl(this),Cy(this))};function qd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Cy(l){l.g=new Er(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Gn(l.qa);Ce(h,"RID","rpc"),Ce(h,"SID",l.K),Ce(h,"AID",l.T),Ce(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ce(h,"TO",l.ja),Ce(h,"TYPE","xmlhttp"),So(l,h),l.m&&l.o&&Bd(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Rl(Gn(h)),p.m=null,p.P=!0,ey(p,l)}t.Za=function(){this.C!=null&&(this.C=null,Dl(this),Hd(this),Pt(19))};function Ml(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Ay(l,h){var p=null;if(l.g==h){Ml(l),qd(l),l.g=null;var x=2}else if($d(l.h,h))p=h.D,oy(l.h,h),x=1;else return;if(l.G!=0){if(h.o)if(x==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var O=l.B;x=xl(),bt(x,new Yg(x,p)),Ol(l)}else ky(l);else if(O=h.s,O==3||O==0&&0<h.X||!(x==1&&Vk(l,h)||x==2&&Hd(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),O){case 1:fs(l,5);break;case 4:fs(l,10);break;case 3:fs(l,6);break;default:fs(l,2)}}}function Ry(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function fs(l,h){if(l.j.info("Error code "+h),h==2){var p=g(l.fb,l),x=l.Xa;const O=!x;x=new hs(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Cl(x,"https"),Rl(x),O?Pk(x.toString(),p):Nk(x.toString(),p)}else Pt(2);l.G=0,l.l&&l.l.sa(h),by(l),xy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function by(l){if(l.G=0,l.ka=[],l.l){const h=ay(l.h);(h.length!=0||l.i.length!=0)&&(C(l.ka,h),C(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function Py(l,h,p){var x=p instanceof hs?Gn(p):new hs(p);if(x.g!="")h&&(x.g=h+"."+x.g),Al(x,x.s);else{var O=a.location;x=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var j=new hs(null);x&&Cl(j,x),h&&(j.g=h),O&&Al(j,O),p&&(j.l=p),x=j}return p=l.D,h=l.ya,p&&h&&Ce(x,p,h),Ce(x,"VER",l.la),So(l,x),x}function Ny(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Ue(new bl({eb:p})):new Ue(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dy(){}t=Dy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ll(){}Ll.prototype.g=function(l,h){return new Qt(l,h)};function Qt(l,h){_t.call(this),this.g=new Ty(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!_(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ei(this)}A(Qt,_t),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Wd(this.g)},Qt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Nd(l),l=p);h.i.push(new Ek(h.Ya++,l)),h.G==3&&Ol(h)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Wd(this.g),delete this.g,Qt.aa.N.call(this)};function Oy(l){Od.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}A(Oy,Od);function My(){Md.call(this),this.status=1}A(My,Md);function ei(l){this.g=l}A(ei,Dy),ei.prototype.ua=function(){bt(this.g,"a")},ei.prototype.ta=function(l){bt(this.g,new Oy(l))},ei.prototype.sa=function(l){bt(this.g,new My)},ei.prototype.ra=function(){bt(this.g,"b")},Ll.prototype.createWebChannel=Ll.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,AS=function(){return new Ll},CS=function(){return xl()},kS=cs,up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Il.NO_ERROR=0,Il.TIMEOUT=8,Il.HTTP_ERROR=6,Fu=Il,Xg.COMPLETE="complete",SS=Xg,qg.EventType=po,po.OPEN="a",po.CLOSE="b",po.ERROR="c",po.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Ho=qg,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,IS=Ue}).apply(typeof cu<"u"?cu:typeof self<"u"?self:typeof window<"u"?window:{});const pw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new ad("@firebase/firestore");function Lo(){return Fs.logLevel}function G(t,...e){if(Fs.logLevel<=le.DEBUG){const n=e.map(Jm);Fs.debug(`Firestore (${oo}): ${t}`,...n)}}function gr(t,...e){if(Fs.logLevel<=le.ERROR){const n=e.map(Jm);Fs.error(`Firestore (${oo}): ${t}`,...n)}}function Bi(t,...e){if(Fs.logLevel<=le.WARN){const n=e.map(Jm);Fs.warn(`Firestore (${oo}): ${t}`,...n)}}function Jm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+t;throw gr(e),new Error(e)}function we(t,e){t||J()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class z4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class B4{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new lr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new lr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new RS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new St(e)}}class W4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class H4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new W4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){we(this.o===void 0);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new q4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=G4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Wi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ne.fromMillis(Date.now())}static fromDate(e){return Ne.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ne(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Ne(0,0))}static max(){return new ee(new Ne(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Re extends Fa{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const Q4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Fa{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return Q4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Re.fromString(e))}static fromName(e){return new Q(Re.fromString(e).popFirst(5))}static empty(){return new Q(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Re(e.slice()))}}function Y4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ee.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new Xr(s,Q.empty(),e)}function X4(t){return new Xr(t.readTime,t.key,-1)}class Xr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xr(ee.min(),Q.empty(),-1)}static max(){return new Xr(ee.max(),Q.empty(),-1)}}function J4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==Z4)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++a,a===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function tV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Zm.oe=-1;function fd(t){return t==null}function Rc(t){return t===0&&1/t==-1/0}function nV(t){return typeof t=="number"&&Number.isInteger(t)&&!Rc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new du(this.root,e,this.comparator,!1)}getReverseIterator(){return new du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new du(this.root,e,this.comparator,!0)}}class du{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??dt.RED,this.left=s??dt.EMPTY,this.right=i??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new dt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,s,i){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gw(this.data.getIterator())}getIteratorFrom(e){return new gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new en([])}unionWith(e){let n=new mt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new en(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NS("Invalid base64 string: "+i):i}}(e);return new yt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const rV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(t){if(we(!!t),typeof t=="string"){let e=0;const n=rV.exec(t);if(we(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function tg(t){const e=t.mapValue.fields.__previous_value__;return eg(e)?tg(e):e}function Ua(t){const e=Jr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n,r,s,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class $a{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu={mapValue:{}};function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eg(t)?4:oV(t)?9007199254740991:iV(t)?10:11:J()}function Hn(t,e){if(t===e)return!0;const n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ua(t).isEqual(Ua(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Jr(s.timestampValue),a=Jr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Us(s.bytesValue).isEqual(Us(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return We(s.geoPointValue.latitude)===We(i.geoPointValue.latitude)&&We(s.geoPointValue.longitude)===We(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return We(s.integerValue)===We(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=We(s.doubleValue),a=We(i.doubleValue);return o===a?Rc(o)===Rc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wi(t.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(mw(o)!==mw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Hn(o[u],a[u])))return!1;return!0}(t,e);default:return J()}}function za(t,e){return(t.values||[]).find(n=>Hn(n,e))!==void 0}function Hi(t,e){if(t===e)return 0;const n=$s(t),r=$s(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=We(i.integerValue||i.doubleValue),u=We(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return yw(t.timestampValue,e.timestampValue);case 4:return yw(Ua(t),Ua(e));case 5:return ge(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Us(i),u=Us(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const f=ge(a[c],u[c]);if(f!==0)return f}return ge(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ge(We(i.latitude),We(o.latitude));return a!==0?a:ge(We(i.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,f;const m=i.fields||{},g=o.fields||{},w=(a=m.value)===null||a===void 0?void 0:a.arrayValue,A=(u=g.value)===null||u===void 0?void 0:u.arrayValue,I=ge(((c=w==null?void 0:w.values)===null||c===void 0?void 0:c.length)||0,((f=A==null?void 0:A.values)===null||f===void 0?void 0:f.length)||0);return I!==0?I:vw(w,A)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===hu.mapValue&&o===hu.mapValue)return 0;if(i===hu.mapValue)return 1;if(o===hu.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=ge(u[m],f[m]);if(g!==0)return g;const w=Hi(a[u[m]],c[f[m]]);if(w!==0)return w}return ge(u.length,f.length)}(t.mapValue,e.mapValue);default:throw J()}}function yw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Jr(t),r=Jr(e),s=ge(n.seconds,r.seconds);return s!==0?s:ge(n.nanos,r.nanos)}function vw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Hi(n[s],r[s]);if(i)return i}return ge(n.length,r.length)}function qi(t){return cp(t)}function cp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Jr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Us(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=cp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${cp(n.fields[o])}`;return s+"}"}(t.mapValue):J()}function _w(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dp(t){return!!t&&"integerValue"in t}function ng(t){return!!t&&"arrayValue"in t}function ww(t){return!!t&&"nullValue"in t}function Ew(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uu(t){return!!t&&"mapValue"in t}function iV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ua(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ua(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ua(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ua(n)}setAll(e){let n=ft.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ua(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Uu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){qs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Bt(ua(this.value))}}function DS(t){const e=[];return qs(t.fields,(n,r)=>{const s=new ft([n]);if(Uu(r)){const i=DS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new en(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,ee.min(),ee.min(),ee.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,s){return new Ct(e,1,n,ee.min(),r,s,0)}static newNoDocument(e,n){return new Ct(e,2,n,ee.min(),ee.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,ee.min(),ee.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.position=e,this.inclusive=n}}function Tw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Hi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function xw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n="asc"){this.field=e,this.dir=n}}function aV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{}class Ze extends OS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uV(e,n,r):n==="array-contains"?new hV(e,r):n==="in"?new fV(e,r):n==="not-in"?new pV(e,r):n==="array-contains-any"?new mV(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cV(e,r):new dV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hi(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(Hi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends OS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Rn(e,n)}matches(e){return MS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function MS(t){return t.op==="and"}function LS(t){return lV(t)&&MS(t)}function lV(t){for(const e of t.filters)if(e instanceof Rn)return!1;return!0}function hp(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+qi(t.value);if(LS(t))return t.filters.map(e=>hp(e)).join(",");{const e=t.filters.map(n=>hp(n)).join(",");return`${t.op}(${e})`}}function jS(t,e){return t instanceof Ze?function(r,s){return s instanceof Ze&&r.op===s.op&&r.field.isEqual(s.field)&&Hn(r.value,s.value)}(t,e):t instanceof Rn?function(r,s){return s instanceof Rn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&jS(o,s.filters[a]),!0):!1}(t,e):void J()}function VS(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${qi(n.value)}`}(t):t instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(VS).join(" ,")+"}"}(t):"Filter"}class uV extends Ze{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class cV extends Ze{constructor(e,n){super(e,"in",n),this.keys=FS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dV extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=FS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class hV extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ng(n)&&za(n.arrayValue,this.value)}}class fV extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&za(this.value.arrayValue,n)}}class pV extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!za(this.value.arrayValue,n)}}class mV extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>za(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Iw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new gV(t,e,n,r,s,i,o)}function rg(t){const e=te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),fd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qi(r)).join(",")),e.ue=n}return e.ue}function sg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xw(t.startAt,e.startAt)&&xw(t.endAt,e.endAt)}function fp(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yV(t,e,n,r,s,i,o,a){return new ao(t,e,n,r,s,i,o,a)}function ig(t){return new ao(t)}function Sw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function US(t){return t.collectionGroup!==null}function ca(t){const e=te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt(ft.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Ba(i,r))}),n.has(ft.keyField().canonicalString())||e.ce.push(new Ba(ft.keyField(),r))}return e.ce}function $n(t){const e=te(t);return e.le||(e.le=vV(e,ca(t))),e.le}function vV(t,e){if(t.limitType==="F")return Iw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ba(s.field,i)});const n=t.endAt?new bc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bc(t.startAt.position,t.startAt.inclusive):null;return Iw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pp(t,e){const n=t.filters.concat([e]);return new ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mp(t,e,n){return new ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pd(t,e){return sg($n(t),$n(e))&&t.limitType===e.limitType}function $S(t){return`${rg($n(t))}|lt:${t.limitType}`}function ai(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>VS(s)).join(", ")}]`),fd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>qi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>qi(s)).join(",")),`Target(${r})`}($n(t))}; limitType=${t.limitType})`}function md(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ca(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=Tw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,ca(r),s)||r.endAt&&!function(o,a,u){const c=Tw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,ca(r),s))}(t,e)}function _V(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zS(t){return(e,n)=>{let r=!1;for(const s of ca(t)){const i=wV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function wV(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Hi(u,c):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return PS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=new Fe(Q.comparator);function yr(){return EV}const BS=new Fe(Q.comparator);function qo(...t){let e=BS;for(const n of t)e=e.insert(n.key,n);return e}function WS(t){let e=BS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Is(){return da()}function HS(){return da()}function da(){return new lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const TV=new Fe(Q.comparator),xV=new mt(Q.comparator);function ae(...t){let e=xV;for(const n of t)e=e.add(n);return e}const IV=new mt(ge);function SV(){return IV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rc(e)?"-0":e}}function qS(t){return{integerValue:""+t}}function KS(t,e){return nV(e)?qS(e):og(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this._=void 0}}function kV(t,e,n){return t instanceof Pc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&eg(i)&&(i=tg(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Wa?QS(t,e):t instanceof Ha?YS(t,e):function(s,i){const o=GS(s,i),a=kw(o)+kw(s.Pe);return dp(o)&&dp(s.Pe)?qS(a):og(s.serializer,a)}(t,e)}function CV(t,e,n){return t instanceof Wa?QS(t,e):t instanceof Ha?YS(t,e):n}function GS(t,e){return t instanceof qa?function(r){return dp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Pc extends gd{}class Wa extends gd{constructor(e){super(),this.elements=e}}function QS(t,e){const n=XS(e);for(const r of t.elements)n.some(s=>Hn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ha extends gd{constructor(e){super(),this.elements=e}}function YS(t,e){let n=XS(e);for(const r of t.elements)n=n.filter(s=>!Hn(s,r));return{arrayValue:{values:n}}}class qa extends gd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function kw(t){return We(t.integerValue||t.doubleValue)}function XS(t){return ng(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n){this.field=e,this.transform=n}}function RV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Wa&&s instanceof Wa||r instanceof Ha&&s instanceof Ha?Wi(r.elements,s.elements,Hn):r instanceof qa&&s instanceof qa?Hn(r.Pe,s.Pe):r instanceof Pc&&s instanceof Pc}(t.transform,e.transform)}class bV{constructor(e,n){this.version=e,this.transformResults=n}}class Lt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lt}static exists(e){return new Lt(void 0,e)}static updateTime(e){return new Lt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yd{}function JS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vd(t.key,Lt.none()):new hl(t.key,t.data,Lt.none());{const n=t.data,r=Bt.empty();let s=new mt(ft.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new as(t.key,r,new en(s.toArray()),Lt.none())}}function PV(t,e,n){t instanceof hl?function(s,i,o){const a=s.value.clone(),u=Aw(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof as?function(s,i,o){if(!$u(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Aw(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(ZS(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ha(t,e,n,r){return t instanceof hl?function(i,o,a,u){if(!$u(i.precondition,o))return a;const c=i.value.clone(),f=Rw(i.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof as?function(i,o,a,u){if(!$u(i.precondition,o))return a;const c=Rw(i.fieldTransforms,u,o),f=o.data;return f.setAll(ZS(i)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,a){return $u(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function NV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=GS(r.transform,s||null);i!=null&&(n===null&&(n=Bt.empty()),n.set(r.field,i))}return n||null}function Cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wi(r,s,(i,o)=>RV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hl extends yd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class as extends yd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ZS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Aw(t,e,n){const r=new Map;we(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,CV(o,a,n[s]))}return r}function Rw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,kV(i,o,e))}return r}class vd extends yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DV extends yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&PV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ha(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ha(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=JS(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Wi(this.mutations,e.mutations,(n,r)=>Cw(n,r))&&Wi(this.baseMutations,e.baseMutations,(n,r)=>Cw(n,r))}}class ag{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){we(e.mutations.length===r.length);let s=function(){return TV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new ag(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,ce;function jV(t){switch(t){default:return J();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function e1(t){if(t===void 0)return gr("GRPC error has no .code"),F.UNKNOWN;switch(t){case Qe.OK:return F.OK;case Qe.CANCELLED:return F.CANCELLED;case Qe.UNKNOWN:return F.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return F.INTERNAL;case Qe.UNAVAILABLE:return F.UNAVAILABLE;case Qe.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Qe.NOT_FOUND:return F.NOT_FOUND;case Qe.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Qe.ABORTED:return F.ABORTED;case Qe.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Qe.DATA_LOSS:return F.DATA_LOSS;default:return J()}}(ce=Qe||(Qe={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=new Cs([4294967295,4294967295],0);function bw(t){const e=VV().encode(t),n=new xS;return n.update(e),new Uint8Array(n.digest())}function Pw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Cs([n,r],0),new Cs([s,i],0)]}class lg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ko(`Invalid padding: ${n}`);if(r<0)throw new Ko(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ko(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ko(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Cs.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Cs.fromNumber(r)));return s.compare(FV)===1&&(s=new Cs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=bw(e),[r,s]=Pw(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new lg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=bw(e),[r,s]=Pw(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,fl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _d(ee.min(),s,new Fe(ge),yr(),ae())}}class fl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fl(r,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class t1{constructor(e,n){this.targetId=e,this.me=n}}class n1{constructor(e,n,r=yt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Nw{constructor(){this.fe=0,this.ge=Ow(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ae(),n=ae(),r=ae();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:J()}}),new fl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Ow()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,we(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class UV{constructor(e){this.Le=e,this.Be=new Map,this.ke=yr(),this.qe=Dw(),this.Qe=new Fe(ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(fp(i))if(r===0){const o=new Q(i.path);this.Ue(n,o,Ct.newNoDocument(o,ee.min()))}else we(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Us(r).toUint8Array()}catch(u){if(u instanceof NS)return Bi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new lg(o,s,i)}catch(u){return Bi(u instanceof Ko?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&fp(a.target)){const u=new Q(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Ct.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ae();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new _d(e,n,this.Qe,this.ke,r);return this.ke=yr(),this.qe=Dw(),this.Qe=new Fe(ge),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Nw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Nw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Dw(){return new Fe(Q.comparator)}function Ow(){return new Fe(Q.comparator)}const $V={asc:"ASCENDING",desc:"DESCENDING"},zV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BV={and:"AND",or:"OR"};class WV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gp(t,e){return t.useProto3Json||fd(e)?e:{value:e}}function Nc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HV(t,e){return Nc(t,e.toTimestamp())}function zn(t){return we(!!t),ee.fromTimestamp(function(n){const r=Jr(n);return new Ne(r.seconds,r.nanos)}(t))}function ug(t,e){return yp(t,e).canonicalString()}function yp(t,e){const n=function(s){return new Re(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function s1(t){const e=Re.fromString(t);return we(u1(e)),e}function vp(t,e){return ug(t.databaseId,e.path)}function zh(t,e){const n=s1(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(o1(n))}function i1(t,e){return ug(t.databaseId,e)}function qV(t){const e=s1(t);return e.length===4?Re.emptyPath():o1(e)}function _p(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o1(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Mw(t,e,n){return{name:vp(t,e),fields:n.value.mapValue.fields}}function KV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,f){return c.useProto3Json?(we(f===void 0||typeof f=="string"),yt.fromBase64String(f||"")):(we(f===void 0||f instanceof Buffer||f instanceof Uint8Array),yt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const f=c.code===void 0?F.UNKNOWN:e1(c.code);return new W(f,c.message||"")}(o);n=new n1(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zh(t,r.document.name),i=zn(r.document.updateTime),o=r.document.createTime?zn(r.document.createTime):ee.min(),a=new Bt({mapValue:{fields:r.document.fields}}),u=Ct.newFoundDocument(s,i,o,a),c=r.targetIds||[],f=r.removedTargetIds||[];n=new zu(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zh(t,r.document),i=r.readTime?zn(r.readTime):ee.min(),o=Ct.newNoDocument(s,i),a=r.removedTargetIds||[];n=new zu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zh(t,r.document),i=r.removedTargetIds||[];n=new zu([],i,s,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new LV(s,i),a=r.targetId;n=new t1(a,o)}}return n}function GV(t,e){let n;if(e instanceof hl)n={update:Mw(t,e.key,e.value)};else if(e instanceof vd)n={delete:vp(t,e.key)};else if(e instanceof as)n={update:Mw(t,e.key,e.data),updateMask:rF(e.fieldMask)};else{if(!(e instanceof DV))return J();n={verify:vp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Pc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qa)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:HV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J()}(t,e.precondition)),n}function QV(t,e){return t&&t.length>0?(we(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?zn(s.updateTime):zn(i);return o.isEqual(ee.min())&&(o=zn(i)),new bV(o,s.transformResults||[])}(n,e))):[]}function YV(t,e){return{documents:[i1(t,e.path)]}}function XV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=i1(t,s);const i=function(c){if(c.length!==0)return l1(Rn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(f=>function(g){return{field:li(g.field),direction:eF(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=gp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function JV(t){let e=qV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){we(r===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(m){const g=a1(m);return g instanceof Rn&&LS(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(A){return new Ba(ui(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(m){let g;return g=typeof m=="object"?m.value:m,fd(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,w=m.values||[];return new bc(w,g)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const g=!m.before,w=m.values||[];return new bc(w,g)}(n.endAt)),yV(e,s,o,i,a,"F",u,c)}function ZV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function a1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ui(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ui(n.unaryFilter.field);return Ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ui(n.unaryFilter.field);return Ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ui(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(ui(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(r=>a1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function eF(t){return $V[t]}function tF(t){return zV[t]}function nF(t){return BV[t]}function li(t){return{fieldPath:t.canonicalString()}}function ui(t){return ft.fromServerFormat(t.fieldPath)}function l1(t){return t instanceof Ze?function(n){if(n.op==="=="){if(Ew(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NAN"}};if(ww(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ew(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NOT_NAN"}};if(ww(n.value))return{unaryFilter:{field:li(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:li(n.field),op:tF(n.op),value:n.value}}}(t):t instanceof Rn?function(n){const r=n.getFilters().map(s=>l1(s));return r.length===1?r[0]:{compositeFilter:{op:nF(n.op),filters:r}}}(t):J()}function rF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function u1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,r,s,i=ee.min(),o=ee.min(),a=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.ct=e}}function iF(t){const e=JV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(){this.un=new aF}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Xr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class aF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new mt(Re.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mt(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ki(0)}static kn(){return new Ki(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(){this.changes=new lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ha(r.mutation,s,en.empty(),Ne.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const s=Is();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=qo();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=yr();const o=da(),a=function(){return da()}();return n.forEach((u,c)=>{const f=r.get(c.key);s.has(c.key)&&(f===void 0||f.mutation instanceof as)?i=i.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),ha(f.mutation,c,f.mutation.getFieldMask(),Ne.now())):o.set(c.key,en.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var m;return a.set(c,new uF(f,(m=o.get(c))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=da();let s=new Fe((o,a)=>o-a),i=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||en.empty();f=a.applyToLocalView(c,f),r.set(u,f);const m=(s.get(a.batchId)||ae()).add(u);s=s.insert(a.batchId,m)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,f=u.value,m=HS();f.forEach(g=>{if(!i.has(g)){const w=JS(n.get(g),r.get(g));w!==null&&m.set(g,w),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):US(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Is());let a=-1,u=i;return o.next(c=>U.forEach(c,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),i.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,ae())).next(f=>({batchId:a,changes:WS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let s=qo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=qo();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,u=>{const c=function(m,g){return new ao(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(f=>{f.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,Ct.newInvalidDocument(f)))});let a=qo();return o.forEach((u,c)=>{const f=i.get(u);f!==void 0&&ha(f.mutation,c,en.empty(),Ne.now()),md(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:zn(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:iF(s.bundledQuery),readTime:zn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(){this.overlays=new Fe(Q.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Is();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Is(),i=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Fe((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=i.get(c.largestBatchId);f===null&&(f=Is(),i=i.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=Is(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=s)););return U.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new MV(n,r));let i=this.Ir.get(n);i===void 0&&(i=ae(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this.Tr=new mt(it.Er),this.dr=new mt(it.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new it(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new it(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Q(new Re([])),r=new it(n,e),s=new it(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Q(new Re([])),r=new it(n,e),s=new it(n,e+1);let i=ae();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new it(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class it{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Q.comparator(e.key,n.key)||ge(e.wr,n.wr)}static Ar(e,n){return ge(e.wr,n.wr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new mt(it.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new it(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new it(n,0),s=new it(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(ge);return n.forEach(s=>{const i=new it(s,0),o=new it(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Q.isDocumentKey(i)||(i=i.child(""));const o=new it(new Q(i),0);let a=new mt(ge);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){we(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,s=>{const i=new it(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new it(n,0),s=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e){this.Mr=e,this.docs=function(){return new Fe(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=yr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ct.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=yr();const o=n.path,a=new Q(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||J4(X4(f),r)<=0||(s.has(f.key)||md(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){J()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gF(this)}getSize(e){return U.resolve(this.size)}}class gF extends lF{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.persistence=e,this.Nr=new lo(n=>rg(n),sg),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new cg,this.targetCount=0,this.kr=Ki.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ki(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Zm(0),this.Kr=!1,this.Kr=!0,this.$r=new fF,this.referenceDelegate=e(this),this.Ur=new yF(this),this.indexManager=new oF,this.remoteDocumentCache=function(s){return new mF(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new sF(n),this.Gr=new dF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new pF(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new _F(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class _F extends eV{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Jr=new cg,this.Yr=null}static Zr(e){return new dg(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const s=Q.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ae(),s=ae();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new hg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $D()?8:tV(Rt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new wF;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Lo()<=le.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ai(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(Lo()<=le.DEBUG&&G("QueryEngine","Query:",ai(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Lo()<=le.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ai(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):U.resolve())}Yi(e,n){if(Sw(n))return U.resolve(null);let r=$n(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=mp(n,null,"F"),r=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ae(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,mp(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,s){return Sw(n)||s.isEqual(ee.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?U.resolve(null):(Lo()<=le.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ai(n)),this.rs(e,o,n,Y4(s,-1)).next(a=>a))})}ts(e,n){let r=new mt(zS(e));return n.forEach((s,i)=>{md(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Lo()<=le.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ai(n)),this.Ji.getDocumentsMatchingQuery(e,n,Xr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Fe(ge),this._s=new lo(i=>rg(i),sg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function xF(t,e,n,r){return new TF(t,e,n,r)}async function c1(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=ae();for(const c of s){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of i){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function IF(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,f){const m=c.batch,g=m.keys();let w=U.resolve();return g.forEach(A=>{w=w.next(()=>f.getEntry(u,A)).next(I=>{const C=c.docVersions.get(A);we(C!==null),I.version.compareTo(C)<0&&(m.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),f.addEntry(I)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function d1(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function SF(t,e){const n=te(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((f,m)=>{const g=s.get(m);if(!g)return;a.push(n.Ur.removeMatchingKeys(i,f.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(i,f.addedDocuments,m)));let w=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?w=w.withResumeToken(yt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),s=s.insert(m,w),function(I,C,E){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,w,f)&&a.push(n.Ur.updateTargetData(i,w))});let u=yr(),c=ae();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),a.push(kF(i,o,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(ee.min())){const f=n.Ur.getLastRemoteSnapshotVersion(i).next(m=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(f)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.os=s,i))}function kF(t,e,n){let r=ae(),s=ae();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=yr();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function CF(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AF(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new jr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function wp(t,e,n){const r=te(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!dl(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Lw(t,e,n){const r=te(t);let s=ee.min(),i=ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const m=te(u),g=m._s.get(f);return g!==void 0?U.resolve(m.os.get(g)):m.Ur.getTargetData(c,f)}(r,o,$n(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ee.min(),n?i:ae())).next(a=>(RF(r,_V(e),a),{documents:a,Ts:i})))}function RF(t,e,n){let r=t.us.get(e)||ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class jw{constructor(){this.activeTargetIds=SV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bF{constructor(){this.so=new jw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new jw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu=null;function Bh(){return fu===null?fu=function(){return 268435456+Math.round(2147483648*Math.random())}():fu++,"0x"+fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="WebChannelConnection";class OF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Bh(),u=this.xo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,u,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,u,c,s).then(f=>(G("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Bi("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",s),f})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=NF[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Bh();return new Promise((o,a)=>{const u=new IS;u.setWithCredentials(!0),u.listenOnce(SS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Fu.NO_ERROR:const f=u.getResponseJson();G(It,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),o(f);break;case Fu.TIMEOUT:G(It,`RPC '${e}' ${i} timed out`),a(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const m=u.getStatus();if(G(It,`RPC '${e}' ${i} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const A=function(C){const E=C.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(E)>=0?E:F.UNKNOWN}(w.status);a(new W(A,w.message))}else a(new W(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(F.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{G(It,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);G(It,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Bh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=AS(),a=CS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=i.join("");G(It,`Creating RPC '${e}' stream ${s}: ${f}`,u);const m=o.createWebChannel(f,u);let g=!1,w=!1;const A=new DF({Io:C=>{w?G(It,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(g||(G(It,`Opening RPC '${e}' stream ${s} transport.`),m.open(),g=!0),G(It,`RPC '${e}' stream ${s} sending:`,C),m.send(C))},To:()=>m.close()}),I=(C,E,_)=>{C.listen(E,T=>{try{_(T)}catch(b){setTimeout(()=>{throw b},0)}})};return I(m,Ho.EventType.OPEN,()=>{w||(G(It,`RPC '${e}' stream ${s} transport opened.`),A.yo())}),I(m,Ho.EventType.CLOSE,()=>{w||(w=!0,G(It,`RPC '${e}' stream ${s} transport closed`),A.So())}),I(m,Ho.EventType.ERROR,C=>{w||(w=!0,Bi(It,`RPC '${e}' stream ${s} transport errored:`,C),A.So(new W(F.UNAVAILABLE,"The operation could not be completed")))}),I(m,Ho.EventType.MESSAGE,C=>{var E;if(!w){const _=C.data[0];we(!!_);const T=_,b=T.error||((E=T[0])===null||E===void 0?void 0:E.error);if(b){G(It,`RPC '${e}' stream ${s} received error:`,b);const L=b.status;let M=function(k){const R=Qe[k];if(R!==void 0)return e1(R)}(L),S=b.message;M===void 0&&(M=F.INTERNAL,S="Unknown error status: "+L+" with message "+b.message),w=!0,A.So(new W(M,S)),m.close()}else G(It,`RPC '${e}' stream ${s} received:`,_),A.bo(_)}}),I(a,kS.STAT_EVENT,C=>{C.stat===up.PROXY?G(It,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===up.NOPROXY&&G(It,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}}function Wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t){return new WV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,r,s,i,o,a,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new h1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new W(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MF extends f1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=KV(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?zn(o.readTime):ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=_p(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=fp(u)?{documents:YV(i,u)}:{query:XV(i,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=r1(i,o.resumeToken);const c=gp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=Nc(i,o.snapshotVersion.toTimestamp());const c=gp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=ZV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=_p(this.serializer),n.removeTarget=e,this.a_(n)}}class LF extends f1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return we(!!e.streamToken),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=QV(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=_p(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>GV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,yp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(F.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,yp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class VF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gr(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ks(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=te(u);c.L_.add(4),await pl(c),c.q_.set("Unknown"),c.L_.delete(4),await Ed(c)}(this))})}),this.q_=new VF(r,s)}}async function Ed(t){if(Ks(t))for(const e of t.B_)await e(!0)}async function pl(t){for(const e of t.B_)await e(!1)}function p1(t,e){const n=te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),gg(n)?mg(n):uo(n).r_()&&pg(n,e))}function fg(t,e){const n=te(t),r=uo(n);n.N_.delete(e),r.r_()&&m1(n,e),n.N_.size===0&&(r.r_()?r.o_():Ks(n)&&n.q_.set("Unknown"))}function pg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uo(t).A_(e)}function m1(t,e){t.Q_.xe(e),uo(t).R_(e)}function mg(t){t.Q_=new UV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),uo(t).start(),t.q_.v_()}function gg(t){return Ks(t)&&!uo(t).n_()&&t.N_.size>0}function Ks(t){return te(t).L_.size===0}function g1(t){t.Q_=void 0}async function UF(t){t.q_.set("Online")}async function $F(t){t.N_.forEach((e,n)=>{pg(t,e)})}async function zF(t,e){g1(t),gg(t)?(t.q_.M_(e),mg(t)):t.q_.set("Unknown")}async function BF(t,e,n){if(t.q_.set("Online"),e instanceof n1&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dc(t,r)}else if(e instanceof zu?t.Q_.Ke(e):e instanceof t1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ee.min()))try{const r=await d1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.N_.get(c);f&&i.N_.set(c,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const f=i.N_.get(u);if(!f)return;i.N_.set(u,f.withResumeToken(yt.EMPTY_BYTE_STRING,f.snapshotVersion)),m1(i,u);const m=new jr(f.target,u,c,f.sequenceNumber);pg(i,m)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Dc(t,r)}}async function Dc(t,e,n){if(!dl(e))throw e;t.L_.add(1),await pl(t),t.q_.set("Offline"),n||(n=()=>d1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ed(t)})}function y1(t,e){return e().catch(n=>Dc(t,n,e))}async function Td(t){const e=te(t),n=Zr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;WF(e);)try{const s=await CF(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,HF(e,s)}catch(s){await Dc(e,s)}v1(e)&&_1(e)}function WF(t){return Ks(t)&&t.O_.length<10}function HF(t,e){t.O_.push(e);const n=Zr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function v1(t){return Ks(t)&&!Zr(t).n_()&&t.O_.length>0}function _1(t){Zr(t).start()}async function qF(t){Zr(t).p_()}async function KF(t){const e=Zr(t);for(const n of t.O_)e.m_(n.mutations)}async function GF(t,e,n){const r=t.O_.shift(),s=ag.from(r,e,n);await y1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Td(t)}async function QF(t,e){e&&Zr(t).V_&&await async function(r,s){if(function(o){return jV(o)&&o!==F.ABORTED}(s.code)){const i=r.O_.shift();Zr(r).s_(),await y1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Td(r)}}(t,e),v1(t)&&_1(t)}async function Fw(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Ks(n);n.L_.add(3),await pl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ed(n)}async function YF(t,e){const n=te(t);e?(n.L_.delete(2),await Ed(n)):e||(n.L_.add(2),await pl(n),n.q_.set("Unknown"))}function uo(t){return t.K_||(t.K_=function(n,r,s){const i=te(n);return i.w_(),new MF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:UF.bind(null,t),Ro:$F.bind(null,t),mo:zF.bind(null,t),d_:BF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),gg(t)?mg(t):t.q_.set("Unknown")):(await t.K_.stop(),g1(t))})),t.K_}function Zr(t){return t.U_||(t.U_=function(n,r,s){const i=te(n);return i.w_(),new LF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:qF.bind(null,t),mo:QF.bind(null,t),f_:KF.bind(null,t),g_:GF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Td(t)):(await t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new yg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(t,e){if(gr("AsyncQueue",`${e}: ${t}`),dl(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=qo(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new Di(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Di)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Di;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.W_=new Fe(Q.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):J():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Gi{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Gi(e,n,Di.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class JF{constructor(){this.queries=$w(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=te(n),i=s.queries;s.queries=$w(),i.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function $w(){return new lo(t=>$S(t),pd)}async function w1(t,e){const n=te(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new XF,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=vg(o,`Initialization of query '${ai(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&_g(n)}async function E1(t,e){const n=te(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ZF(t,e){const n=te(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&_g(n)}function e3(t,e,n){const r=te(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function _g(t){t.Y_.forEach(e=>{e.next()})}var Ep,zw;(zw=Ep||(Ep={})).ea="default",zw.Cache="cache";class T1{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Gi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Gi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.key=e}}class I1{constructor(e){this.key=e}}class t3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ae(),this.mutatedKeys=ae(),this.Aa=zS(e),this.Ra=new Di(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Uw,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,m)=>{const g=s.get(f),w=md(this.query,m)?m:null,A=!!g&&this.mutatedKeys.has(g.key),I=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let C=!1;g&&w?g.data.isEqual(w.data)?A!==I&&(r.track({type:3,doc:w}),C=!0):this.ga(g,w)||(r.track({type:2,doc:w}),C=!0,(u&&this.Aa(w,u)>0||c&&this.Aa(w,c)<0)&&(a=!0)):!g&&w?(r.track({type:0,doc:w}),C=!0):g&&!w&&(r.track({type:1,doc:g}),C=!0,(u||c)&&(a=!0)),C&&(w?(o=o.add(w),i=I?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,m)=>function(w,A){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return I(w)-I(A)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Gi(this.query,e.Ra,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Uw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new I1(r))}),this.da.forEach(r=>{e.has(r)||n.push(new x1(r))}),n}ba(e){this.Ta=e.Ts,this.da=ae();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Gi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class n3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class r3{constructor(e){this.key=e,this.va=!1}}class s3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new lo(a=>$S(a),pd),this.Ma=new Map,this.xa=new Set,this.Oa=new Fe(Q.comparator),this.Na=new Map,this.La=new cg,this.Ba={},this.ka=new Map,this.qa=Ki.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function i3(t,e,n=!0){const r=b1(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await S1(r,e,n,!0),s}async function o3(t,e){const n=b1(t);await S1(n,e,!0,!1)}async function S1(t,e,n,r){const s=await AF(t.localStore,$n(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await a3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&p1(t.remoteStore,s),a}async function a3(t,e,n,r,s){t.Ka=(m,g,w)=>async function(I,C,E,_){let T=C.view.ma(E);T.ns&&(T=await Lw(I.localStore,C.query,!1).then(({documents:S})=>C.view.ma(S,T)));const b=_&&_.targetChanges.get(C.targetId),L=_&&_.targetMismatches.get(C.targetId)!=null,M=C.view.applyChanges(T,I.isPrimaryClient,b,L);return Ww(I,C.targetId,M.wa),M.snapshot}(t,m,g,w);const i=await Lw(t.localStore,e,!0),o=new t3(e,i.Ts),a=o.ma(i.documents),u=fl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);Ww(t,n,c.wa);const f=new n3(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function l3(t,e,n){const r=te(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!pd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await wp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&fg(r.remoteStore,s.targetId),Tp(r,s.targetId)}).catch(cl)):(Tp(r,s.targetId),await wp(r.localStore,s.targetId,!0))}async function u3(t,e){const n=te(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fg(n.remoteStore,r.targetId))}async function c3(t,e,n){const r=y3(t);try{const s=await function(o,a){const u=te(o),c=Ne.now(),f=a.reduce((w,A)=>w.add(A.key),ae());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=yr(),I=ae();return u.cs.getEntries(w,f).next(C=>{A=C,A.forEach((E,_)=>{_.isValidDocument()||(I=I.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,A)).next(C=>{m=C;const E=[];for(const _ of a){const T=NV(_,m.get(_.key).overlayedDocument);T!=null&&E.push(new as(_.key,T,DS(T.value.mapValue),Lt.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,E,a)}).next(C=>{g=C;const E=C.applyToLocalDocumentSet(m,I);return u.documentOverlayCache.saveOverlays(w,C.batchId,E)})}).then(()=>({batchId:g.batchId,changes:WS(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Fe(ge)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await ml(r,s.changes),await Td(r.remoteStore)}catch(s){const i=vg(s,"Failed to persist write");n.reject(i)}}async function k1(t,e){const n=te(t);try{const r=await SF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(we(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?we(o.va):s.removedDocuments.size>0&&(we(o.va),o.va=!1))}),await ml(n,r,e)}catch(r){await cl(r)}}function Bw(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=te(o);u.onlineState=a;let c=!1;u.queries.forEach((f,m)=>{for(const g of m.j_)g.Z_(a)&&(c=!0)}),c&&_g(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d3(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Fe(Q.comparator);o=o.insert(i,Ct.newNoDocument(i,ee.min()));const a=ae().add(i),u=new _d(ee.min(),new Map,new Fe(ge),o,a);await k1(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),wg(r)}else await wp(r.localStore,e,!1).then(()=>Tp(r,e,n)).catch(cl)}async function h3(t,e){const n=te(t),r=e.batch.batchId;try{const s=await IF(n.localStore,e);A1(n,r,null),C1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ml(n,s)}catch(s){await cl(s)}}async function f3(t,e,n){const r=te(t);try{const s=await function(o,a){const u=te(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,a).next(m=>(we(m!==null),f=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);A1(r,e,n),C1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ml(r,s)}catch(s){await cl(s)}}function C1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function A1(t,e,n){const r=te(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Tp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||R1(t,r)})}function R1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(fg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),wg(t))}function Ww(t,e,n){for(const r of n)r instanceof x1?(t.La.addReference(r.key,e),p3(t,r)):r instanceof I1?(G("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||R1(t,r.key)):J()}function p3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(r),wg(t))}function wg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Q(Re.fromString(e)),r=t.qa.next();t.Na.set(r,new r3(n)),t.Oa=t.Oa.insert(n,r),p1(t.remoteStore,new jr($n(ig(n.path)),r,"TargetPurposeLimboResolution",Zm.oe))}}async function ml(t,e,n){const r=te(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){s.push(c);const m=hg.Wi(u.targetId,c);i.push(m)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,c){const f=te(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>U.forEach(c,g=>U.forEach(g.$i,w=>f.persistence.referenceDelegate.addReference(m,g.targetId,w)).next(()=>U.forEach(g.Ui,w=>f.persistence.referenceDelegate.removeReference(m,g.targetId,w)))))}catch(m){if(!dl(m))throw m;G("LocalStore","Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const w=f.os.get(g),A=w.snapshotVersion,I=w.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(g,I)}}}(r.localStore,i))}async function m3(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await c1(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(u=>{u.reject(new W(F.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ml(n,r.hs)}}function g3(t,e){const n=te(t),r=n.Na.get(e);if(r&&r.va)return ae().add(r.key);{let s=ae();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function b1(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=k1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d3.bind(null,e),e.Ca.d_=ZF.bind(null,e.eventManager),e.Ca.$a=e3.bind(null,e.eventManager),e}function y3(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f3.bind(null,e),e}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return xF(this.persistence,new EF,e.initialUser,this.serializer)}Ga(e){return new vF(dg.Zr,this.serializer)}Wa(e){return new bF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class xp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=m3.bind(null,this.syncEngine),await YF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JF}()}createDatastore(e){const n=wd(e.databaseInfo.databaseId),r=function(i){return new OF(i)}(e.databaseInfo);return function(i,o,a,u){return new jF(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new FF(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Bw(this.syncEngine,n,0),function(){return Vw.D()?new Vw:new PF}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,f){const m=new s3(s,i,o,a,u,c);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=te(s);G("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await pl(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xp.provider={build:()=>new xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=St.UNAUTHENTICATED,this.clientId=bS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hh(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await c1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Hw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _3(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Fw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Fw(e.remoteStore,s)),t._onlineComponents=e}async function _3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Bi("Error using user provided cache. Falling back to memory cache: "+n),await Hh(t,new Oc)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await Hh(t,new Oc);return t._offlineComponents}async function N1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await Hw(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await Hw(t,new xp))),t._onlineComponents}function w3(t){return N1(t).then(e=>e.syncEngine)}async function D1(t){const e=await N1(t),n=e.eventManager;return n.onListen=i3.bind(null,e.syncEngine),n.onUnlisten=l3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=o3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=u3.bind(null,e.syncEngine),n}function E3(t,e,n={}){const r=new lr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const f=new P1({next:g=>{f.Za(),o.enqueueAndForget(()=>E1(i,m));const w=g.docs.has(a);!w&&g.fromCache?c.reject(new W(F.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&g.fromCache&&u&&u.source==="server"?c.reject(new W(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new T1(ig(a.path),f,{includeMetadataChanges:!0,_a:!0});return w1(i,m)}(await D1(t),t.asyncQueue,e,n,r)),r.promise}function T3(t,e,n={}){const r=new lr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const f=new P1({next:g=>{f.Za(),o.enqueueAndForget(()=>E1(i,m)),g.fromCache&&u.source==="server"?c.reject(new W(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new T1(a,f,{includeMetadataChanges:!0,_a:!0});return w1(i,m)}(await D1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function x3(t,e,n,r){if(e===!0&&r===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Kw(t){if(!Q.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Gw(t){if(Q.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xd(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}x3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $4;switch(r.type){case"firstParty":return new H4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qw.get(n);r&&(G("ComponentProvider","Removing Datastore"),qw.delete(n),r.terminate())}(this),Promise.resolve()}}function I3(t,e,n,r={}){var s;const i=(t=gn(t,Id))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=St.MOCK_USER;else{a=MD(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new St(c)}t._authCredentials=new z4(new RS(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gs(this.firestore,e,this._query)}}class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}}class Gr extends Gs{constructor(e,n,r){super(e,n,ig(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new Q(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function Qs(t,e,...n){if(t=ze(t),M1("collection","path",e),t instanceof Id){const r=Re.fromString(e,...n);return Gw(r),new Gr(t,null,r)}{if(!(t instanceof jt||t instanceof Gr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return Gw(r),new Gr(t.firestore,null,r)}}function Vt(t,e,...n){if(t=ze(t),arguments.length===1&&(e=bS.newId()),M1("doc","path",e),t instanceof Id){const r=Re.fromString(e,...n);return Kw(r),new jt(t,null,new Q(r))}{if(!(t instanceof jt||t instanceof Gr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return Kw(r),new jt(t.firestore,t instanceof Gr?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new h1(this,"async_queue_retry"),this.Vu=()=>{const r=Wh();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Wh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Wh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new lr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!dl(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw gr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=yg.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&J()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ls extends Id{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Yw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yw(e),this._firestoreClient=void 0,await e}}}function S3(t,e){const n=typeof t=="object"?t:Lm(),r=typeof t=="string"?t:"(default)",s=Hs(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=DD("firestore");i&&I3(s,...i)}return s}function Sd(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k3(t),t._firestoreClient}function k3(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,c,f){return new sV(a,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,O1(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new v3(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qi(yt.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qi(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=/^__.*__$/;class A3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,n,this.fieldTransforms):new hl(e,this.data,n,this.fieldTransforms)}}class L1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new as(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function j1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class xg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Mc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(j1(this.Cu)&&C3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class R3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wd(e)}Qu(e,n,r,s=!1){return new xg({Cu:e,methodName:n,qu:r,path:ft.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yl(t){const e=t._freezeSettings(),n=wd(t._databaseId);return new R3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ig(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);kg("Data must be an object, but it was:",o,r);const a=U1(r,o);let u,c;if(i.merge)u=new en(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const m of i.mergeFields){const g=Ip(e,m,n);if(!o.contains(g))throw new W(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);z1(f,g)||f.push(g)}u=new en(f),c=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=o.fieldTransforms;return new A3(new Bt(a),u,c)}class Cd extends kd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cd}}class Sg extends kd{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new qa(e.serializer,KS(e.serializer,this.$u));return new AV(e.path,n)}isEqual(e){return e instanceof Sg&&this.$u===e.$u}}function V1(t,e,n,r){const s=t.Qu(1,e,n);kg("Data must be an object, but it was:",s,r);const i=[],o=Bt.empty();qs(r,(u,c)=>{const f=Cg(e,u,n);c=ze(c);const m=s.Nu(f);if(c instanceof Cd)i.push(f);else{const g=vl(c,m);g!=null&&(i.push(f),o.set(f,g))}});const a=new en(i);return new L1(o,a,s.fieldTransforms)}function F1(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[Ip(e,r,n)],u=[s];if(i.length%2!=0)throw new W(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(Ip(e,i[g])),u.push(i[g+1]);const c=[],f=Bt.empty();for(let g=a.length-1;g>=0;--g)if(!z1(c,a[g])){const w=a[g];let A=u[g];A=ze(A);const I=o.Nu(w);if(A instanceof Cd)c.push(w);else{const C=vl(A,I);C!=null&&(c.push(w),f.set(w,C))}}const m=new en(c);return new L1(f,m,o.fieldTransforms)}function b3(t,e,n,r=!1){return vl(n,t.Qu(r?4:3,e))}function vl(t,e){if($1(t=ze(t)))return kg("Unsupported field value:",e,t),U1(t,e);if(t instanceof kd)return function(r,s){if(!j1(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=vl(a,s.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KS(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ne.fromDate(r);return{timestampValue:Nc(s.serializer,i)}}if(r instanceof Ne){const i=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nc(s.serializer,i)}}if(r instanceof Eg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qi)return{bytesValue:r1(s.serializer,r._byteString)};if(r instanceof jt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ug(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Tg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return og(a.serializer,u)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${xd(r)}`)}(t,e)}function U1(t,e){const n={};return PS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(t,(r,s)=>{const i=vl(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function $1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof Eg||t instanceof Qi||t instanceof jt||t instanceof kd||t instanceof Tg)}function kg(t,e,n){if(!$1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=xd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ip(t,e,n){if((e=ze(e))instanceof gl)return e._internalPath;if(typeof e=="string")return Cg(t,e);throw Mc("Field path arguments must be of type string or ",t,!1,void 0,n)}const P3=new RegExp("[~\\*/\\[\\]]");function Cg(t,e,n){if(e.search(P3)>=0)throw Mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gl(...e.split("."))._internalPath}catch{throw Mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new W(F.INVALID_ARGUMENT,a+t+u)}function z1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ag("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N3 extends B1{data(){return super.data()}}function Ag(t,e){return typeof e=="string"?Cg(t,e):e instanceof gl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rg{}class W1 extends Rg{}function O3(t,e,...n){let r=[];e instanceof Rg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof Pg).length,a=i.filter(u=>u instanceof bg).length;if(o>1||o>0&&a>0)throw new W(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class bg extends W1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bg(e,n,r)}_apply(e){const n=this._parse(e);return H1(e._query,n),new Gs(e.firestore,e.converter,pp(e._query,n))}_parse(e){const n=yl(e.firestore);return function(i,o,a,u,c,f,m){let g;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new W(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Jw(m,f);const w=[];for(const A of m)w.push(Xw(u,i,A));g={arrayValue:{values:w}}}else g=Xw(u,i,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Jw(m,f),g=b3(a,o,m,f==="in"||f==="not-in");return Ze.create(c,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Pg extends Rg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Pg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)H1(o,u),o=pp(o,u)}(e._query,n),new Gs(e.firestore,e.converter,pp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ng extends W1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ng(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new W(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new W(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ba(i,o)}(e._query,this._field,this._direction);return new Gs(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ao(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function M3(t,e="asc"){const n=e,r=Ag("orderBy",t);return Ng._create(r,n)}function Xw(t,e,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new W(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!US(e)&&n.indexOf("/")!==-1)throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Re.fromString(n));if(!Q.isDocumentKey(r))throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _w(t,new Q(r))}if(n instanceof jt)return _w(t,n._key);throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xd(n)}.`)}function Jw(t,e){if(!Array.isArray(t)||t.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H1(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class L3{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>We(o.doubleValue));return new Tg(i)}convertGeoPoint(e){return new Eg(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ua(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);we(u1(r));const s=new $a(r.get(1),r.get(3)),i=new Q(r.popFirst(5));return s.isEqual(n)||gr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class q1 extends B1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ag("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bu extends q1{data(e={}){return super.data(e)}}class j3{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Go(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bu(this._firestore,this._userDataWriter,r.key,r,new Go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Bu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Go(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Bu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Go(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,f=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:V3(a.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function V3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t){t=gn(t,jt);const e=gn(t.firestore,ls);return E3(Sd(e),t._key).then(n=>U3(e,t,n))}class G1 extends L3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function Og(t){t=gn(t,Gs);const e=gn(t.firestore,ls),n=Sd(e),r=new G1(e);return D3(t._query),T3(n,t._query).then(s=>new j3(e,r,t,s))}function F3(t,e,n){t=gn(t,jt);const r=gn(t.firestore,ls),s=Dg(t.converter,e,n);return wl(r,[Ig(yl(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Lt.none())])}function _l(t,e,n,...r){t=gn(t,jt);const s=gn(t.firestore,ls),i=yl(s);let o;return o=typeof(e=ze(e))=="string"||e instanceof gl?F1(i,"updateDoc",t._key,e,n,r):V1(i,"updateDoc",t._key,e),wl(s,[o.toMutation(t._key,Lt.exists(!0))])}function Q1(t){return wl(gn(t.firestore,ls),[new vd(t._key,Lt.none())])}function Y1(t,e){const n=gn(t.firestore,ls),r=Vt(t),s=Dg(t.converter,e);return wl(n,[Ig(yl(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Lt.exists(!1))]).then(()=>r)}function wl(t,e){return function(r,s){const i=new lr;return r.asyncQueue.enqueueAndForget(async()=>c3(await w3(r),s,i)),i.promise}(Sd(t),e)}function U3(t,e,n){const r=n.docs.get(e._key),s=new G1(t);return new q1(t,s,e._key,r,new Go(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=yl(e)}set(e,n,r){this._verifyNotCommitted();const s=qh(e,this._firestore),i=Dg(s.converter,n,r),o=Ig(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,Lt.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=qh(e,this._firestore);let o;return o=typeof(n=ze(n))=="string"||n instanceof gl?F1(this._dataReader,"WriteBatch.update",i._key,n,r,s):V1(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,Lt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=qh(e,this._firestore);return this._mutations=this._mutations.concat(new vd(n._key,Lt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new W(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qh(t,e){if((t=ze(t)).firestore!==e)throw new W(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ad(t){return new Sg("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t){return Sd(t=gn(t,ls)),new $3(t,e=>wl(t,e))}(function(e,n=!0){(function(s){oo=s})(so),Wn(new An("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ls(new B4(r.getProvider("auth-internal")),new K4(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(c.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),dn(pw,"4.7.3",e),dn(pw,"4.7.3","esm2017")})();const z3={apiKey:"AIzaSyBk_wQreKzw0zKQtl7IBYge-W9RPoF1z7U",authDomain:"fghy-44958.firebaseapp.com",projectId:"fghy-44958",storageBucket:"fghy-44958.appspot.com",messagingSenderId:"360098045610",appId:"1:360098045610:web:10e5882e5b7e3f895c1f6b",measurementId:"G-J98FJH88S"},Mg=_I(z3),jo=F4(Mg),qe=S3(Mg);xL(Mg);const B3=new Zn,Zw=async(t,e,n,r)=>{try{const s=Vt(qe,"users",t);await F3(s,{email:e,name:n,photoURL:r||null,totalPoints:0,streak:0,totalWords:0,createdAt:Ne.now()},{merge:!0})}catch(s){throw console.error("Save user data error:",s),new Error("Lưu dữ liệu người dùng thất bại")}},Kh=async t=>{try{const e=Vt(qe,"users",t),n=await K1(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Get user data error:",e),new Error("Tải dữ liệu người dùng thất bại")}},W3=async t=>{try{const e=Qs(qe,"users",t,"vocabularySets");return(await Og(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting vocabulary sets:",e),new Error("Tải bộ từ thất bại")}},H3=async(t,e,n)=>{try{const r={name:e,description:n,userId:t,createdAt:Ne.now(),totalWords:0};return{id:(await Y1(Qs(qe,"users",t,"vocabularySets"),r)).id,...r}}catch(r){throw console.error("Error adding vocabulary set:",r),new Error("Tạo bộ từ thất bại")}},q3=async(t,e,n)=>{try{const r=Vt(qe,"users",t,"vocabularySets",e);await _l(r,n)}catch(r){throw console.error("Error updating vocabulary set:",r),new Error("Cập nhật bộ từ thất bại")}},K3=async(t,e)=>{try{const n=Vt(qe,"users",t,"vocabularySets",e);await Q1(n)}catch(n){throw console.error("Error deleting vocabulary set:",n),new Error("Xóa bộ từ thất bại")}},J1=async(t,e)=>{try{const n=Qs(qe,"users",t,"vocabularySets",e,"words");return(await Og(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Error getting vocabulary words:",n),new Error("Tải từ vựng thất bại")}},Sp=async(t,e,n)=>{try{const r={...n,difficulty:0,lastReviewed:Ne.now()},s=Qs(qe,"users",t,"vocabularySets",e,"words"),i=await Y1(s,r),o=Vt(qe,"users",t,"vocabularySets",e);return await _l(o,{totalWords:Ad(1)}),{id:i.id,...r}}catch(r){throw console.error("Error adding vocabulary word:",r),new Error("Thêm từ vựng thất bại")}};Sp.bulk=async(t,e,n)=>{if(n.length===0)return[];const r=X1(qe),s=Qs(qe,"users",t,"vocabularySets",e,"words"),i=[],o=Ne.now();n.forEach(a=>{const u=Vt(s),c={...a,difficulty:0,lastReviewed:o};r.set(u,c),i.push({id:u.id,...c})});try{await r.commit();const a=Vt(qe,"users",t,"vocabularySets",e);return await _l(a,{totalWords:Ad(n.length)}),i}catch(a){throw console.error("Error during bulk import:",a),new Error("Nhập từ vựng số lượng lớn thất bại")}};const G3=async(t,e,n,r)=>{try{const s=Vt(qe,"users",t,"vocabularySets",e,"words",n);await _l(s,r)}catch(s){throw console.error("Error updating vocabulary word:",s),new Error("Cập nhật từ vựng thất bại")}},Q3=async(t,e,n)=>{try{const r=Vt(qe,"users",t,"vocabularySets",e,"words",n);await Q1(r);const s=Vt(qe,"users",t,"vocabularySets",e);await _l(s,{totalWords:Ad(-1)})}catch(r){throw console.error("Error deleting vocabulary word:",r),new Error("Xóa từ vựng thất bại")}},Y3=async(t,e,n)=>{const r=X1(qe),s=Ne.now();try{const i=Qs(qe,"users",t,"learningSessions"),o=Vt(i);r.set(o,{...n,date:s}),n.wordUpdates.forEach(c=>{const f=Vt(qe,"users",t,"vocabularySets",e,"words",c.wordId);r.update(f,{difficulty:c.newDifficulty,lastReviewed:s})});const a=n.correctAnswers,u=Vt(qe,"users",t);r.update(u,{totalPoints:Ad(a),lastUpdated:s}),await r.commit()}catch(i){throw console.error("Error saving learning session:",i),new Error("Lưu phiên học thất bại")}},X3=async t=>{try{const e=Qs(qe,"users",t,"learningSessions"),n=O3(e,M3("date","desc"));return(await Og(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting learning sessions:",e),new Error("Tải phiên học thất bại")}},J3=async t=>{try{const e=Vt(qe,"users",t),n=await K1(e);return n.exists()?n.data():null}catch(e){throw console.error("Get user statistics error:",e),new Error("Tải thống kê thất bại")}},Z1=y.createContext(void 0);function Ys(){const t=y.useContext(Z1);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function Z3({children:t}){const[e,n]=y.useState(null),[r,s]=y.useState(!0),[i,o]=y.useState(null),a=xm(),[u,c]=y.useState(!1),f=C=>c(C),m=async(C,E)=>{try{o(null);const _=await Ij(jo,C,E),T=await Kh(_.user.uid),b={id:_.user.uid,email:_.user.email||"",name:(T==null?void 0:T.name)||"Người dùng",photoURL:_.user.photoURL||void 0,totalPoints:T==null?void 0:T.totalPoints,streak:T==null?void 0:T.streak,totalWords:(T==null?void 0:T.totalWords)||0};n(b),c(!1),a("/")}catch(_){const T=_.code?"Đăng nhập thất bại. Vui lòng kiểm tra email và mật khẩu.":"Lỗi không xác định.";throw o(T),new Error(T)}},g=async(C,E,_)=>{try{o(null);const b={id:(await xj(jo,E,_)).user.uid,email:E,name:C,totalWords:0};await Zw(b.id,{name:b.name,email:b.email,totalPoints:0,streak:0,totalWords:0}),n(b),c(!1),a("/")}catch(T){const b=T.code?"Đăng ký thất bại. Email đã được sử dụng hoặc mật khẩu quá yếu (dưới 6 ký tự).":"Lỗi không xác định.";throw o(b),new Error(b)}},w=async()=>{try{o(null);const E=(await Gj(jo,B3)).user;let _=await Kh(E.uid);if(_)n({id:E.uid,email:E.email||"",name:_.name,photoURL:E.photoURL||void 0,totalPoints:_.totalPoints,streak:_.streak,totalWords:_.totalWords});else{const T={id:E.uid,email:E.email||"",name:E.displayName||"Người dùng",photoURL:E.photoURL||void 0,totalWords:0};await Zw(T.id,{name:T.name,email:T.email,photoURL:T.photoURL,totalPoints:0,streak:0,totalWords:0}),n(T)}c(!1),a("/")}catch{throw o("Đăng nhập bằng Google thất bại."),new Error("Đăng nhập bằng Google thất bại.")}},A=()=>{Aj(jo),n(null),a("/")};y.useEffect(()=>{const C=Cj(jo,async E=>{if(E){const _=await Kh(E.uid);n({id:E.uid,email:E.email||"",name:(_==null?void 0:_.name)||E.displayName||"Người dùng",photoURL:E.photoURL||void 0,totalPoints:_==null?void 0:_.totalPoints,streak:_==null?void 0:_.streak,totalWords:(_==null?void 0:_.totalWords)||0})}else n(null);s(!1)});return()=>C()},[]);const I=y.useMemo(()=>({user:e,loading:r,login:m,register:g,loginWithGoogle:w,logout:A,showAuthModal:f,showAuthForm:u}),[e,r,u]);return r?d.jsxs("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-gray-900",children:[d.jsx(Ot,{className:"h-8 w-8 animate-spin text-primary"}),d.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-300",children:"Đang kiểm tra phiên..."})]}):d.jsxs(Z1.Provider,{value:I,children:[t,d.jsx(Pu,{open:u,onOpenChange:c,children:d.jsx(oa,{className:"sm:max-w-[425px] p-0 border-none bg-transparent shadow-none",onPointerDownOutside:C=>{const E=["/learn","/vocabulary","/statistics","/settings"],_=window.location.pathname;E.includes(_)&&!e&&C.preventDefault()},children:d.jsx(e5,{})})})]})}function e5(){const{login:t,register:e,loginWithGoogle:n}=Ys(),[r,s]=y.useState(""),[i,o]=y.useState(""),[a,u]=y.useState(""),[c,f]=y.useState(null),[m,g]=y.useState(!1),[w,A]=y.useState("login"),[I,C]=y.useState(!1),E=async b=>{b.preventDefault(),C(!0),f(null);try{await t(r,i)}catch(L){f(L.message)}finally{C(!1)}},_=async b=>{if(b.preventDefault(),C(!0),f(null),!a.trim()){f("Vui lòng nhập tên của bạn."),C(!1);return}try{await e(a,r,i)}catch(L){f(L.message)}finally{C(!1)}},T=async()=>{C(!0),f(null);try{await n()}catch(b){f(b.message)}finally{C(!1)}};return d.jsxs(Oe,{className:"w-full max-w-sm mx-auto shadow-2xl border-0",children:[d.jsxs(zt,{className:"p-6",children:[d.jsx(ht,{className:"text-2xl font-bold text-center",children:w==="login"?"Chào mừng trở lại":"Tạo tài khoản mới"}),d.jsx(Ds,{className:"text-center",children:w==="login"?"Đăng nhập để tiếp tục hành trình học tiếng Nhật":"Tham gia cùng cộng đồng học từ vựng ngay bây giờ!"}),d.jsxs(he,{variant:"outline",className:"w-full mt-4 flex items-center",onClick:T,disabled:I,children:[d.jsx(SD,{className:"h-5 w-5 mr-2"}),"Đăng nhập với Google"]})]}),d.jsxs(Je,{className:"px-6 pb-6 pt-0",children:[d.jsxs("div",{className:"relative mb-4",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("span",{className:"w-full border-t dark:border-gray-700"})}),d.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:d.jsx("span",{className:"bg-white dark:bg-gray-900 px-2 text-muted-foreground",children:"Hoặc dùng email"})})]}),d.jsxs(rd,{defaultValue:"login",className:"w-full",onValueChange:b=>{A(b),f(null)},children:[d.jsxs(rl,{className:"grid w-full grid-cols-2 h-10",children:[d.jsx(Jt,{value:"login",children:"Đăng nhập"}),d.jsx(Jt,{value:"register",children:"Đăng ký"})]}),d.jsx(Zt,{value:"login",className:"pt-4",children:d.jsxs("form",{onSubmit:E,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ve,{htmlFor:"login-email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(E_,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),d.jsx(Ye,{id:"login-email",type:"email",value:r,onChange:b=>s(b.target.value),className:"pl-10",placeholder:"tenban@example.com",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ve,{htmlFor:"login-password",children:"Mật khẩu"}),d.jsxs("div",{className:"relative",children:[d.jsx(w_,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),d.jsx(Ye,{id:"login-password",type:m?"text":"password",value:i,onChange:b=>o(b.target.value),className:"pl-10 pr-10",placeholder:"••••••••",required:!0}),d.jsx("button",{type:"button",className:"absolute right-3 top-3",onClick:()=>g(!m),children:m?d.jsx(y_,{className:"h-4 w-4 text-gray-400"}):d.jsx(v_,{className:"h-4 w-4 text-gray-400"})})]})]}),c&&d.jsx("div",{className:"text-red-600 text-sm text-center",children:c}),d.jsx(he,{type:"submit",className:"w-full",disabled:I,children:I?d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"}):"Đăng nhập"})]})}),d.jsx(Zt,{value:"register",className:"pt-4",children:d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ve,{htmlFor:"register-name",children:"Tên hiển thị"}),d.jsxs("div",{className:"relative",children:[d.jsx(zo,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),d.jsx(Ye,{id:"register-name",type:"text",value:a,onChange:b=>u(b.target.value),className:"pl-10",placeholder:"Ví dụ: Sensei Ken",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ve,{htmlFor:"register-email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(E_,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),d.jsx(Ye,{id:"register-email",type:"email",value:r,onChange:b=>s(b.target.value),className:"pl-10",placeholder:"tenban@example.com",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ve,{htmlFor:"register-password",children:"Mật khẩu"}),d.jsxs("div",{className:"relative",children:[d.jsx(w_,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),d.jsx(Ye,{id:"register-password",type:m?"text":"password",value:i,onChange:b=>o(b.target.value),className:"pl-10 pr-10",placeholder:"•••••••• (tối thiểu 6 ký tự)",required:!0}),d.jsx("button",{type:"button",className:"absolute right-3 top-3",onClick:()=>g(!m),children:m?d.jsx(y_,{className:"h-4 w-4 text-gray-400"}):d.jsx(v_,{className:"h-4 w-4 text-gray-400"})})]})]}),c&&d.jsx("div",{className:"text-red-600 text-sm text-center",children:c}),d.jsx(he,{type:"submit",className:"w-full",disabled:I,children:I?d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"}):"Đăng ký"})]})})]})]})]})}function t5(){const{user:t}=Ys();return d.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-50 dark:bg-gray-900",children:d.jsx(Oe,{className:"w-full max-w-xl text-center shadow-lg transition-all duration-300 transform hover:scale-105",children:d.jsxs(Je,{className:"p-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Chào mừng bạn đến với Ứng dụng Học tiếng Nhật"}),t?d.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:["Chào mừng trở lại, **",t.name||t.email,"**!",d.jsx("br",{}),"Hãy bắt đầu buổi học từ vựng ngay bây giờ."]}):d.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Vui lòng đăng nhập hoặc đăng ký để bắt đầu hành trình học từ vựng của bạn."})]})})})}function n5(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function r5(t){const[e,n]=y.useState(void 0);return $i(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Rd="Switch",[s5]=ro(Rd),[i5,o5]=s5(Rd),ek=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:u="on",onCheckedChange:c,form:f,...m}=t,[g,w]=y.useState(null),A=pn(e,T=>w(T)),I=y.useRef(!1),C=g?f||!!g.closest("form"):!0,[E,_]=td({prop:s,defaultProp:i??!1,onChange:c,caller:Rd});return d.jsxs(i5,{scope:n,checked:E,disabled:a,children:[d.jsx(Ke.button,{type:"button",role:"switch","aria-checked":E,"aria-required":o,"data-state":sk(E),"data-disabled":a?"":void 0,disabled:a,value:u,...m,ref:A,onClick:lt(t.onClick,T=>{_(b=>!b),C&&(I.current=T.isPropagationStopped(),I.current||T.stopPropagation())})}),C&&d.jsx(rk,{control:g,bubbles:!I.current,name:r,value:u,checked:E,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});ek.displayName=Rd;var tk="SwitchThumb",nk=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=o5(tk,n);return d.jsx(Ke.span,{"data-state":sk(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});nk.displayName=tk;var a5="SwitchBubbleInput",rk=y.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=y.useRef(null),a=pn(o,i),u=n5(n),c=r5(e);return y.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&w){const A=new Event("click",{bubbles:r});w.call(f,n),f.dispatchEvent(A)}},[u,n,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});rk.displayName=a5;function sk(t){return t?"checked":"unchecked"}var ik=ek,l5=nk;const Qo=y.forwardRef(({className:t,...e},n)=>d.jsx(ik,{className:Ve("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:d.jsx(l5,{className:Ve("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Qo.displayName=ik.displayName;var u5="Separator",e0="horizontal",c5=["horizontal","vertical"],ok=y.forwardRef((t,e)=>{const{decorative:n,orientation:r=e0,...s}=t,i=d5(r)?r:e0,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(Ke.div,{"data-orientation":i,...a,...s,ref:e})});ok.displayName=u5;function d5(t){return c5.includes(t)}var ak=ok;const kp=y.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>d.jsx(ak,{ref:s,decorative:n,orientation:e,className:Ve("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));kp.displayName=ak.displayName;function h5(){const{user:t,logout:e}=Ys(),[n,r]=y.useState({timer:15,wordsPerSession:10,dailyGoal:50,reminderEnabled:!0,reminderTime:"20:00",soundEnabled:!0,vibrationEnabled:!0,darkMode:!1});y.useEffect(()=>{},[]);const s=(o,a)=>{r(u=>({...u,[o]:a}))},i=()=>{e()};return t?d.jsxs("div",{className:"min-h-full p-4 sm:p-6 max-w-3xl mx-auto",children:[d.jsxs("header",{className:"mb-8",children:[d.jsxs("h1",{className:"text-3xl font-bold flex items-center",children:[d.jsx(eI,{className:"h-6 w-6 mr-2 text-primary"})," Cài đặt ứng dụng"]}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Quản lý tài khoản và tùy chỉnh trải nghiệm học tập của bạn."})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs(rd,{defaultValue:"account",className:"w-full",children:[d.jsxs(rl,{className:"grid w-full grid-cols-3 md:grid-cols-4",children:[d.jsx(Jt,{value:"account",children:"Tài khoản"}),d.jsx(Jt,{value:"learning",children:"Học tập"}),d.jsx(Jt,{value:"notifications",children:"Thông báo"}),d.jsx(Jt,{value:"appearance",children:"Giao diện"})]}),d.jsx(Zt,{value:"account",className:"mt-6",children:d.jsxs(Oe,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg",children:[d.jsxs(zt,{children:[d.jsx(ht,{children:"Thông tin Cá nhân"}),d.jsx(Ds,{children:"Cập nhật tên và địa chỉ email của bạn."})]}),d.jsxs(Je,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ve,{htmlFor:"name",children:"Tên"}),d.jsx(Ye,{id:"name",defaultValue:t.name||"",placeholder:"Tên của bạn",disabled:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ve,{htmlFor:"email",children:"Email"}),d.jsx(Ye,{id:"email",defaultValue:t.email,placeholder:"Email",type:"email",disabled:!0})]})]})]})}),d.jsx(Zt,{value:"learning",className:"mt-6 space-y-6",children:d.jsxs(Oe,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg",children:[d.jsx(zt,{children:d.jsxs(ht,{className:"flex items-center",children:[d.jsx(uD,{className:"h-5 w-5 mr-2 text-secondary"})," Cấu hình Bài học"]})}),d.jsxs(Je,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ve,{htmlFor:"words-per-session",children:"Số từ mỗi phiên"}),d.jsx(Ye,{id:"words-per-session",type:"number",value:n.wordsPerSession,onChange:o=>s("wordsPerSession",parseInt(o.target.value)),min:5,max:50}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Số lượng từ vựng bạn sẽ học trong mỗi phiên."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ve,{htmlFor:"timer",children:"Giới hạn thời gian mỗi câu (giây)"}),d.jsx(Ye,{id:"timer",type:"number",value:n.timer,onChange:o=>s("timer",parseInt(o.target.value)),min:5,max:60}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Đặt thành 0 để không giới hạn thời gian."})]}),d.jsx(kp,{}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ve,{htmlFor:"daily-goal",children:"Mục tiêu từ vựng hàng ngày"}),d.jsx(Ye,{id:"daily-goal",type:"number",value:n.dailyGoal,onChange:o=>s("dailyGoal",parseInt(o.target.value)),min:1}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Số từ bạn muốn học hoặc ôn tập mỗi ngày."})]})]})]})}),d.jsx(Zt,{value:"notifications",className:"mt-6 space-y-6",children:d.jsxs(Oe,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg",children:[d.jsx(zt,{children:d.jsxs(ht,{className:"flex items-center",children:[d.jsx(x2,{className:"h-5 w-5 mr-2 text-secondary"})," Cài đặt Thông báo"]})}),d.jsxs(Je,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(ve,{htmlFor:"reminder-enabled",className:"flex flex-col space-y-1",children:[d.jsx("span",{children:"Nhắc nhở học hàng ngày"}),d.jsx("span",{className:"font-normal text-muted-foreground",children:"Nhận thông báo để duy trì streak."})]}),d.jsx(Qo,{id:"reminder-enabled",checked:n.reminderEnabled,onCheckedChange:o=>s("reminderEnabled",o)})]}),n.reminderEnabled&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(ve,{htmlFor:"reminder-time",children:"Thời gian nhắc nhở"}),d.jsx(Ye,{id:"reminder-time",type:"time",value:n.reminderTime,onChange:o=>s("reminderTime",o.target.value)})]}),d.jsx(kp,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(ve,{htmlFor:"sound-enabled",className:"flex flex-col space-y-1",children:[d.jsx("span",{children:"Âm thanh trong ứng dụng"}),d.jsx("span",{className:"font-normal text-muted-foreground",children:"Bật/tắt âm thanh phản hồi."})]}),d.jsx(Qo,{id:"sound-enabled",checked:n.soundEnabled,onCheckedChange:o=>s("soundEnabled",o)})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(ve,{htmlFor:"vibration-enabled",className:"flex flex-col space-y-1",children:[d.jsx("span",{children:"Rung (chỉ dành cho thiết bị di động)"}),d.jsx("span",{className:"font-normal text-muted-foreground",children:"Phản hồi rung cho các hành động quan trọng."})]}),d.jsx(Qo,{id:"vibration-enabled",checked:n.vibrationEnabled,onCheckedChange:o=>s("vibrationEnabled",o)})]})]})]})}),d.jsxs(Zt,{value:"appearance",className:"mt-6 space-y-6",children:[d.jsxs(Oe,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg",children:[d.jsxs(zt,{children:[d.jsxs(ht,{className:"flex items-center",children:[d.jsx(I_,{className:"h-5 w-5 mr-2 text-secondary"})," Tùy chỉnh Giao diện"]}),d.jsx(Ds,{children:"Thay đổi giao diện ứng dụng giữa Sáng và Tối."})]}),d.jsx(Je,{className:"space-y-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(ve,{htmlFor:"dark-mode",className:"flex items-center space-x-2",children:[n.darkMode?d.jsx(eD,{className:"h-5 w-5"}):d.jsx(I_,{className:"h-5 w-5"}),d.jsx("span",{children:"Chế độ Tối (Dark Mode)"})]}),d.jsx(Qo,{id:"dark-mode",checked:n.darkMode,onCheckedChange:o=>s("darkMode",o)})]})})]}),d.jsxs(Oe,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg",children:[d.jsx(zt,{children:d.jsx(ht,{children:"Kích thước chữ"})}),d.jsx(Je,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(he,{variant:"outline",className:"w-full justify-start bg-transparent",children:d.jsx("span",{className:"text-sm",children:"Nhỏ"})}),d.jsx(he,{variant:"outline",className:"w-full justify-start bg-transparent",children:d.jsx("span",{className:"text-base",children:"Vừa (mặc định)"})}),d.jsx(he,{variant:"outline",className:"w-full justify-start bg-transparent",children:d.jsx("span",{className:"text-lg",children:"Lớn"})})]})})]})]})]}),d.jsxs(he,{variant:"outline",className:"w-full mt-6 bg-transparent hover:bg-red-50 dark:hover:bg-red-900/50 text-red-600 dark:text-red-400 border-red-300 dark:border-red-700",onClick:i,children:[d.jsx(Jf,{className:"h-4 w-4 mr-2"}),"Đăng xuất khỏi Nihongo Navigator"]})]})]}):d.jsxs("div",{className:"flex items-center justify-center h-full p-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"}),d.jsx("p",{className:"ml-3 text-lg text-primary",children:"Đang tải cài đặt..."})]})}var Lg="Progress",jg=100,[f5]=ro(Lg),[p5,m5]=f5(Lg),lk=y.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=g5,...o}=t;(s||s===0)&&!t0(s)&&console.error(y5(`${s}`,"Progress"));const a=t0(s)?s:jg;r!==null&&!n0(r,a)&&console.error(v5(`${r}`,"Progress"));const u=n0(r,a)?r:null,c=Lc(u)?i(u,a):void 0;return d.jsx(p5,{scope:n,value:u,max:a,children:d.jsx(Ke.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Lc(u)?u:void 0,"aria-valuetext":c,role:"progressbar","data-state":dk(u,a),"data-value":u??void 0,"data-max":a,...o,ref:e})})});lk.displayName=Lg;var uk="ProgressIndicator",ck=y.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=m5(uk,n);return d.jsx(Ke.div,{"data-state":dk(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});ck.displayName=uk;function g5(t,e){return`${Math.round(t/e*100)}%`}function dk(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Lc(t){return typeof t=="number"}function t0(t){return Lc(t)&&!isNaN(t)&&t>0}function n0(t,e){return Lc(t)&&!isNaN(t)&&t<=e&&t>=0}function y5(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jg}\`.`}function v5(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var hk=lk,_5=ck;const Vg=y.forwardRef(({className:t,value:e,...n},r)=>d.jsx(hk,{ref:r,className:Ve("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:d.jsx(_5,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Vg.displayName=hk.displayName;const w5=Rm("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Fg({className:t,variant:e,...n}){return d.jsx("div",{className:Ve(w5({variant:e}),t),...n})}const E5=[{id:"1",title:"Người học đầu tiên",description:"Hoàn thành phiên học đầu tiên",icon:"⭐",unlocked:!1,progress:1,maxProgress:1},{id:"2",title:"100 từ vựng",description:"Đã học được 100 từ",icon:"💯",unlocked:!1,progress:50,maxProgress:100},{id:"3",title:"5 ngày liên tục",description:"Học liên tục trong 5 ngày",icon:"🔥",unlocked:!1,progress:3,maxProgress:5},{id:"4",title:"Chính xác 90%",description:"Đạt độ chính xác 90% trong 5 phiên học",icon:"🎯",unlocked:!1,progress:0,maxProgress:5},{id:"5",title:"Hàng ngàn điểm",description:"Đạt 1000 điểm tích lũy",icon:"🏆",unlocked:!1,progress:0,maxProgress:1e3}];function T5(){const{user:t}=Ys(),[e,n]=y.useState(null),[r,s]=y.useState(!0),[i,o]=y.useState([]),[a,u]=y.useState(!0),[c,f]=y.useState(E5);y.useEffect(()=>{if(!(t!=null&&t.id))return;(async()=>{s(!0);try{const w=await J3(t.id);w&&n(w)}catch(w){console.error("Error loading stats:",w)}finally{s(!1)}})()},[t==null?void 0:t.id]),y.useEffect(()=>{if(!(t!=null&&t.id))return;(async()=>{u(!0);try{const w=await X3(t.id,10);o(w)}catch(w){console.error("Error loading learning sessions:",w)}finally{u(!1)}})()},[t==null?void 0:t.id]);const m=g=>new Date(g).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"});return d.jsxs("div",{className:"p-4 md:p-0",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900 dark:text-white",children:"📊 Thống kê Học tập"}),r?d.jsx("div",{className:"flex justify-center items-center h-20",children:d.jsx(Ot,{className:"h-6 w-6 animate-spin text-primary"})}):d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[d.jsx(pu,{icon:d.jsx(hD,{className:"h-5 w-5 text-yellow-500"}),title:"Tổng điểm",value:(e==null?void 0:e.totalPoints)||0}),d.jsx(pu,{icon:d.jsx(Om,{className:"h-5 w-5 text-primary"}),title:"Từ đã học",value:(e==null?void 0:e.totalWordsLearned)||0}),d.jsx(pu,{icon:d.jsx(j2,{className:"h-5 w-5 text-red-500"}),title:"Streak hiện tại",value:(e==null?void 0:e.currentStreak)||0}),d.jsx(pu,{icon:d.jsx(C2,{className:"h-5 w-5 text-green-500"}),title:"Streak tốt nhất",value:(e==null?void 0:e.bestStreak)||0})]}),d.jsx("div",{className:"mt-8",children:d.jsxs(rd,{defaultValue:"chart",className:"w-full",children:[d.jsxs(rl,{className:"grid w-full grid-cols-3",children:[d.jsx(Jt,{value:"chart",children:"Biểu đồ"}),d.jsx(Jt,{value:"history",children:"Lịch sử"}),d.jsx(Jt,{value:"achievements",children:"Thành tựu"})]}),d.jsx(Zt,{value:"chart",className:"mt-4",children:d.jsxs(Oe,{className:"bg-white dark:bg-gray-800 shadow-lg p-6 min-h-[300px]",children:[d.jsx(ht,{className:"text-xl mb-4",children:"Tiến trình học tập (7 ngày)"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"// TODO: Tích hợp thư viện recharts để vẽ biểu đồ từ dữ liệu LearningSessionHistory."}),d.jsxs("div",{className:"flex justify-center items-center h-40",children:[d.jsx(Jx,{className:"h-10 w-10 text-gray-400 opacity-50"}),d.jsx("p",{className:"ml-4 text-gray-500",children:"Biểu đồ đang được xây dựng..."})]})]})}),d.jsx(Zt,{value:"history",className:"mt-4",children:a?d.jsxs("div",{className:"flex justify-center items-center h-40",children:[d.jsx(Ot,{className:"h-6 w-6 animate-spin mr-2 text-primary"}),d.jsx("p",{className:"text-gray-500",children:"Đang tải lịch sử phiên học..."})]}):i.length===0?d.jsxs(Oe,{className:"text-center p-6 bg-white/80 dark:bg-gray-800/80",children:[d.jsx(ht,{className:"text-lg",children:"Chưa có phiên học nào"}),d.jsx(Ds,{className:"mt-2",children:"Hãy bắt đầu học từ vựng để thấy lịch sử tiến trình của bạn ở đây!"})]}):d.jsx("div",{className:"space-y-4",children:i.map((g,w)=>d.jsx(Oe,{className:"bg-white dark:bg-gray-800 shadow-sm transition-shadow hover:shadow-md",children:d.jsxs(Je,{className:"p-4 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(Zx,{className:"h-6 w-6 text-indigo-500"}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-medium text-gray-800 dark:text-white",children:["Phiên học ngày ",m(g.date)]}),d.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.wordsLearned," từ | ",g.timeSpent,"s"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:["+",g.points," điểm"]}),d.jsxs(Fg,{variant:"secondary",className:"mt-1",children:[Math.round(g.accuracy*100),"% Chính xác"]})]})]})},g.id||w))})}),d.jsx(Zt,{value:"achievements",className:"mt-4",children:d.jsxs(Oe,{className:"shadow-lg",children:[d.jsx(zt,{children:d.jsx(ht,{children:"Đang tiến hành"})}),d.jsx(Je,{children:d.jsx("div",{className:"space-y-3",children:c.filter(g=>!g.unlocked&&g.progress).map(g=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[d.jsx("span",{className:"text-2xl opacity-50",children:g.icon}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:g.title}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:g.description}),d.jsx(Vg,{value:g.progress/g.maxProgress*100,className:"h-2 mt-2"}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.progress,"/",g.maxProgress]})]})]},g.id))})})]})})]})})]})}const pu=({icon:t,title:e,value:n})=>d.jsx(Oe,{className:"text-center shadow-md bg-white dark:bg-gray-800",children:d.jsxs(Je,{className:"p-4",children:[d.jsx("div",{className:"flex items-center justify-center mb-2",children:t}),d.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.toLocaleString()}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e})]})}),x5=({session:t,onRestart:e,onNavigate:n})=>{const r=t.sessionPoints,s=t.words.length,i=s>0?Math.round(t.correctAnswers/t.totalAttempts*100):0;return d.jsxs(Oe,{className:"max-w-xl mx-auto mt-10 p-8 shadow-2xl bg-white dark:bg-gray-800 border-t-4 border-primary",children:[d.jsxs(zt,{className:"text-center",children:[d.jsx(Oa,{className:"h-12 w-12 text-primary mx-auto mb-4"}),d.jsx(ht,{className:"text-3xl font-extrabold text-primary",children:"Hoàn thành Buổi Học!"}),d.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Bạn đã hoàn thành **",s,"** từ vựng trong phiên này."]})]}),d.jsxs(Je,{className:"mt-4 space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50/50 dark:bg-green-900/50 rounded-lg",children:[d.jsx(rI,{className:"h-5 w-5 text-green-600"}),d.jsxs("span",{className:"text-lg font-bold text-green-700 dark:text-green-300",children:["+",r," Điểm"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[d.jsx(r0,{icon:d.jsx(tI,{className:"h-5 w-5 text-blue-500"}),label:"Chính xác",value:`${i}%`}),d.jsx(r0,{icon:d.jsx(Zx,{className:"h-5 w-5 text-indigo-500"}),label:"Thời gian",value:`${t.timeSpent}s`})]}),d.jsxs("div",{className:"flex flex-col space-y-3 pt-4",children:[d.jsxs(he,{onClick:e,className:"w-full",children:[d.jsx(sD,{className:"h-4 w-4 mr-2"})," Học lại bộ từ này"]}),d.jsxs(he,{variant:"outline",onClick:()=>n("/statistics"),className:"w-full",children:[d.jsx(BarChart3,{className:"h-4 w-4 mr-2"})," Xem Thống kê"]}),d.jsxs(he,{variant:"outline",onClick:()=>n("/vocabulary"),className:"w-full",children:[d.jsx(Oa,{className:"h-4 w-4 mr-2"})," Quản lý Từ vựng"]})]})]})]})},r0=({icon:t,label:e,value:n})=>d.jsxs("div",{className:"p-3 border rounded-lg flex flex-col items-center",children:[t,d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e}),d.jsx("p",{className:"text-xl font-semibold mt-1",children:n})]});function I5(){const{user:t}=Ys(),e=xm(),[n,r]=y.useState("SET_ID_PLACEHOLDER"),[s,i]=y.useState([]),[o,a]=y.useState(!0),[u,c]=y.useState(null),[f,m]=y.useState(!1),g=y.useMemo(()=>({words:s,currentIndex:0,correctAnswers:0,totalAttempts:0,sessionPoints:0,timeSpent:0,startTime:Date.now()}),[s]),[w,A]=y.useState(g);y.useEffect(()=>{A(g)},[g]),y.useEffect(()=>{if(!(t!=null&&t.id)||!n||s.length>0)return;(async()=>{a(!0);try{const v=(await J1(t.id,n)).sort(()=>.5-Math.random()).slice(0,10);i(v)}catch(S){console.error(S)}finally{a(!1)}})()},[t==null?void 0:t.id,n]);const I=w.words[w.currentIndex],C=y.useMemo(()=>{if(!I)return[];const M=w.words.filter(v=>v.id!==I.id).sort(()=>.5-Math.random()).slice(0,3).map(v=>v.meaning);return[I.meaning,...M].sort(()=>.5-Math.random()).slice(0,4)},[I,w.words]),E=M=>{if(u)return;const S=M===I.meaning;A(v=>({...v,totalAttempts:v.totalAttempts+1,correctAnswers:S?v.correctAnswers+1:v.correctAnswers,sessionPoints:S?v.sessionPoints+10:v.sessionPoints})),c(S?"correct":"incorrect")},_=y.useCallback(()=>{c(null),w.currentIndex>=w.words.length-1?T():A(S=>({...S,currentIndex:S.currentIndex+1}))},[w.currentIndex,w.words.length]),T=async()=>{if(!t)return;const M=Math.round((Date.now()-w.startTime)/1e3),S={id:"",userId:t.id,wordsLearned:w.totalAttempts,points:w.sessionPoints,accuracy:w.totalAttempts>0?w.correctAnswers/w.totalAttempts:0,timeSpent:M,date:new Date().toISOString(),setId:n};try{await Y3({...S,date:new Date(S.date)}),A(v=>({...v,timeSpent:M}))}catch(v){console.error("Lưu phiên học thất bại:",v)}m(!0)},b=()=>{A(M=>({...g,words:M.words.sort(()=>.5-Math.random()),startTime:Date.now()})),m(!1)},L=()=>{const M=w.totalAttempts>0?w.correctAnswers/w.totalAttempts:0;return M>=.75?"text-green-500 dark:text-green-400":M>=.5?"text-yellow-500 dark:text-yellow-400":"text-red-500 dark:text-red-400"};return o?d.jsxs("div",{className:"flex h-96 items-center justify-center",children:[d.jsx(Ot,{className:"h-8 w-8 animate-spin mr-2 text-primary"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Đang tải từ vựng cho phiên học..."})]}):!o&&s.length===0?d.jsxs(Oe,{className:"max-w-xl mx-auto mt-10",children:[d.jsx(zt,{children:d.jsx(ht,{children:"Không tìm thấy từ vựng"})}),d.jsx(Je,{children:d.jsxs("p",{children:["Bộ từ này chưa có từ vựng nào, hoặc bạn chưa chọn bộ từ. Vui lòng thêm từ vựng hoặc ",d.jsx(Na,{to:"/vocabulary",className:"text-primary hover:underline",children:"quay lại trang Quản lý Từ vựng"}),"."]})})]}):f?d.jsx(x5,{session:w,onRestart:b,onNavigate:e}):d.jsxs("div",{className:"max-w-xl mx-auto p-4 md:p-0",children:[d.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-900 dark:text-white",children:"Chế độ Học tập"}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between text-sm font-medium mb-1 text-gray-600 dark:text-gray-400",children:[d.jsx("span",{children:"Tiến trình"}),d.jsxs("span",{children:[w.currentIndex+1," / ",w.words.length]})]}),d.jsx(Vg,{value:(w.currentIndex+1)/w.words.length*100,className:"h-2"})]}),d.jsxs(Oe,{className:"bg-white dark:bg-gray-800 shadow-xl border-t-4 border-primary",children:[d.jsxs(zt,{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(ht,{className:"text-2xl md:text-3xl font-extrabold text-primary",children:(I==null?void 0:I.kanji)||(I==null?void 0:I.kana)}),d.jsxs(Fg,{variant:"secondary",className:"text-md",children:[d.jsx(rI,{className:"h-4 w-4 mr-1 fill-yellow-400 stroke-yellow-500"})," +10 XP"]})]}),d.jsx(CardDescription,{className:"text-lg mt-1",children:I!=null&&I.kana&&I.kana!==I.kanji?I.kana:""})]}),d.jsxs(Je,{className:"space-y-4",children:[d.jsx("div",{className:"space-y-3",children:C.map((M,S)=>d.jsxs(he,{variant:"outline",className:`w-full h-auto py-3 text-left justify-start text-base font-normal transition-colors
                  ${u==="correct"&&M===I.meaning?"bg-green-100 dark:bg-green-900/50 border-green-500 hover:bg-green-100 dark:hover:bg-green-900/50":""}
                  ${u==="incorrect"&&M===selectedAnswer?"bg-red-100 dark:bg-red-900/50 border-red-500 hover:bg-red-100 dark:hover:bg-red-900/50":""}
                  ${u&&M===I.meaning&&u!=="correct"?"border-green-500":""}
                `,onClick:()=>E(M),disabled:!!u,children:[u&&d.jsx("span",{className:"mr-3",children:M===I.meaning?d.jsx(b2,{className:"h-5 w-5 text-green-500 fill-green-100 dark:fill-green-900"}):M===selectedAnswer?d.jsx(N2,{className:"h-5 w-5 text-red-500 fill-red-100 dark:fill-red-900"}):d.jsx(Om,{className:"h-5 w-5 text-gray-400"})}),d.jsx("span",{className:"flex-1",children:M})]},S))}),d.jsxs("div",{className:"space-y-3 pt-2",children:[u&&d.jsx(he,{className:"w-full",onClick:_,disabled:w.currentIndex===w.words.length,children:w.currentIndex<w.words.length-1?"Câu tiếp theo":"Hoàn thành"}),!u&&d.jsx(he,{variant:"outline",className:"w-full bg-transparent",onClick:()=>{E("Chưa biết - câu trả lời sai")},children:"Chưa biết"})]}),d.jsx(Oe,{className:"mt-6 bg-white/80 dark:bg-gray-800/80 border-0 shadow-lg",children:d.jsx(Je,{className:"p-4",children:d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(tI,{className:"h-4 w-4 text-gray-500"}),d.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Chính xác: ",w.correctAnswers,"/",w.totalAttempts]})]}),d.jsxs("span",{className:`font-medium ${L()}`,children:[w.totalAttempts>0?Math.round(w.correctAnswers/w.totalAttempts*100):0,"%"]})]})})})]})]})]})}const Ti=y.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:Ve("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Ti.displayName="Textarea";const S5=1,k5=1e6;let Gh=0;function C5(){return Gh=(Gh+1)%Number.MAX_SAFE_INTEGER,Gh.toString()}const Qh=new Map,s0=t=>{if(Qh.has(t))return;const e=setTimeout(()=>{Qh.delete(t),fa({type:"REMOVE_TOAST",toastId:t})},k5);Qh.set(t,e)},A5=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,S5)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?s0(n):t.toasts.forEach(r=>{s0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Wu=[];let Hu={toasts:[]};function fa(t){Hu=A5(Hu,t),Wu.forEach(e=>{e(Hu)})}function R5({...t}){const e=C5(),n=s=>fa({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>fa({type:"DISMISS_TOAST",toastId:e});return fa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function b5(){const[t,e]=y.useState(Hu);return y.useEffect(()=>(Wu.push(e),()=>{const n=Wu.indexOf(e);n>-1&&Wu.splice(n,1)}),[t]),{...t,toast:R5,dismiss:n=>fa({type:"DISMISS_TOAST",toastId:n})}}function P5(){const{user:t}=Ys(),{toast:e}=b5(),[n,r]=y.useState([]),[s,i]=y.useState(null),[o,a]=y.useState([]),[u,c]=y.useState(!1),[f,m]=y.useState(!1),[g,w]=y.useState(""),[A,I]=y.useState(""),[C,E]=y.useState(""),[_,T]=y.useState(""),[b,L]=y.useState(""),[M,S]=y.useState(""),[v,k]=y.useState(!1),[R,N]=y.useState(null),[D,P]=y.useState(""),[Be,et]=y.useState(""),[Ee,Ge]=y.useState(""),[V,Y]=y.useState(""),[Z,Te]=y.useState(!1),[ie,re]=y.useState(""),[xe,st]=y.useState(null),vt=y.useCallback(async()=>{if(t){c(!0);try{const B=await W3(t.id);r(B),!s&&B.length>0&&i(B[0])}catch(B){console.error("Error fetching vocabulary sets:",B),e({title:"Lỗi",description:"Không thể tải danh sách bộ từ.",variant:"destructive"})}finally{c(!1)}}},[t,s,e]),ye=y.useCallback(async B=>{c(!0);try{const ue=await J1(t.id,B);a(ue)}catch(ue){console.error("Error fetching vocabulary words:",ue),e({title:"Lỗi",description:"Không thể tải từ vựng.",variant:"destructive"}),a([])}finally{c(!1)}},[t,e]);y.useEffect(()=>{vt()},[vt]),y.useEffect(()=>{s?ye(s.id):a([])},[s,ye]);const Xs=y.useCallback(async B=>{if(B.preventDefault(),!(!g.trim()||!t)){c(!0);try{const ue=await H3(t.id,g.trim(),A.trim());r(pe=>[...pe,ue]),i(ue),w(""),I(""),m(!1),e({title:"Thành công!",description:`Đã tạo bộ từ "${ue.name}". Bộ từ đã được chọn.`})}catch(ue){console.error("Error creating vocabulary set:",ue),e({title:"Lỗi",description:"Không thể tạo bộ từ. Vui lòng thử lại.",variant:"destructive"})}finally{c(!1)}}},[t,g,A,e]),_r=y.useCallback(async(B,ue)=>{if(!(!t||!confirm(`Bạn có chắc chắn muốn xóa bộ từ "${ue}" và tất cả từ vựng của nó?`))){c(!0);try{await K3(t.id,B),r(pe=>pe.filter(ne=>ne.id!==B)),s&&s.id===B&&(i(null),a([])),e({title:"Thành công!",description:`Đã xóa bộ từ "${ue}".`})}catch(pe){console.error("Error deleting vocabulary set:",pe),e({title:"Lỗi",description:"Không thể xóa bộ từ. Vui lòng thử lại.",variant:"destructive"})}finally{c(!1)}}},[t,s,e]),yn=y.useCallback(async(B,ue,pe)=>{if(t){c(!0);try{await q3(t.id,B,{name:ue,description:pe}),r(ne=>ne.map(ke=>ke.id===B?{...ke,name:ue,description:pe}:ke)),s&&s.id===B&&i(ne=>ne?{...ne,name:ue,description:pe}:null),e({title:"Thành công!",description:"Đã cập nhật bộ từ."})}catch(ne){console.error("Error updating vocabulary set:",ne),e({title:"Lỗi",description:"Không thể cập nhật bộ từ.",variant:"destructive"})}finally{c(!1)}}},[t,s,e]),Nn=y.useCallback(async B=>{if(B.preventDefault(),!(!s||!t||!C.trim()||!b.trim())){c(!0);try{const ue={kanji:C.trim(),kana:_.trim(),meaning:b.trim(),notes:M.trim()},pe=await Sp(t.id,s.id,ue);a(ne=>[pe,...ne]),s&&(i(ne=>ne?{...ne,totalWords:(ne.totalWords||0)+1}:null),r(ne=>ne.map(ke=>ke.id===s.id?{...ke,totalWords:(ke.totalWords||0)+1}:ke))),E(""),T(""),L(""),S(""),e({title:"Thành công!",description:`Đã thêm từ: ${pe.kanji}`})}catch(ue){console.error("Error adding vocabulary word:",ue),e({title:"Lỗi",description:"Không thể thêm từ vựng.",variant:"destructive"})}finally{c(!1)}}},[t,s,C,_,b,M,e]),Dn=y.useCallback(async B=>{if(B.preventDefault(),!(!s||!t||!R)){c(!0);try{const ue={kanji:D.trim(),kana:Be.trim(),meaning:Ee.trim(),notes:V.trim()};await G3(t.id,s.id,R.id,ue),a(pe=>pe.map(ne=>ne.id===R.id?{...ne,...ue}:ne)),k(!1),N(null),e({title:"Thành công!",description:`Đã cập nhật từ: ${D}`})}catch(ue){console.error("Error updating vocabulary word:",ue),e({title:"Lỗi",description:"Không thể cập nhật từ vựng.",variant:"destructive"})}finally{c(!1)}}},[t,s,R,D,Be,Ee,V,e]),co=y.useCallback(async(B,ue)=>{if(!(!t||!confirm("Bạn có chắc chắn muốn xóa từ vựng này?"))){c(!0);try{await Q3(t.id,B,ue),a(pe=>pe.filter(ne=>ne.id!==ue)),s&&s.id===B&&(i(pe=>pe?{...pe,totalWords:Math.max(0,(pe.totalWords||0)-1)}:null),r(pe=>pe.map(ne=>ne.id===B?{...ne,totalWords:Math.max(0,(ne.totalWords||0)-1)}:ne))),e({title:"Thành công!",description:"Đã xóa từ vựng."})}catch(pe){console.error("Error deleting vocabulary word:",pe),e({title:"Lỗi",description:"Không thể xóa từ vựng. Vui lòng thử lại.",variant:"destructive"})}finally{c(!1)}}},[t,s,e]),ho=y.useCallback(async B=>{if(B.preventDefault(),!s||!t||!ie.trim())return;const ue=ie.trim().split(`
`).filter(ne=>ne.trim()!==""),pe=[];for(const ne of ue){const ke=ne.split(",").map(wr=>wr.trim());ke.length>=3&&pe.push({kanji:ke[0],kana:ke[1]||"",meaning:ke[2],notes:ke[3]||""})}if(pe.length===0){e({title:"Lỗi định dạng",description:"Không tìm thấy từ vựng hợp lệ. Vui lòng sử dụng định dạng: Kanji,Kana,Meaning",variant:"destructive"});return}st(`Đang nhập ${pe.length} từ...`);try{const ne=await Sp.bulk(t.id,s.id,pe);a(ke=>[...ne,...ke]),s&&(i(ke=>ke?{...ke,totalWords:(ke.totalWords||0)+ne.length}:null),r(ke=>ke.map(wr=>wr.id===s.id?{...wr,totalWords:(wr.totalWords||0)+ne.length}:wr))),e({title:"Thành công!",description:`Đã nhập thành công ${ne.length} từ vào bộ từ "${s.name}".`}),re(""),Te(!1)}catch(ne){console.error("Error during bulk import:",ne),e({title:"Lỗi",description:"Không thể nhập từ vựng số lượng lớn. Vui lòng thử lại.",variant:"destructive"})}finally{st(null)}},[t,s,ie,e]),us=o.length,El=B=>{N(B),P(B.kanji),et(B.kana),Ge(B.meaning),Y(B.notes||""),k(!0)};return t?d.jsxs("div",{className:"space-y-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Quản lý Từ vựng"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Tạo, chỉnh sửa và sắp xếp các bộ từ vựng cá nhân của bạn."}),d.jsxs(Pu,{open:f,onOpenChange:m,children:[d.jsx(k_,{asChild:!0,children:d.jsxs(he,{className:"w-full md:w-auto",onClick:()=>{w(""),I(""),m(!0)},children:[d.jsx(x_,{className:"h-4 w-4 mr-2"})," Tạo Bộ Từ Mới"]})}),d.jsxs(oa,{className:"sm:max-w-[425px]",children:[d.jsxs(Nu,{children:[d.jsx(Du,{children:"Tạo Bộ Từ Vựng Mới"}),d.jsx(Ou,{children:"Đặt tên và mô tả cho bộ từ mới của bạn."})]}),d.jsxs("form",{onSubmit:Xs,className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsxs(ve,{htmlFor:"setName",children:["Tên bộ từ ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Ye,{id:"setName",value:g,onChange:B=>w(B.target.value),placeholder:"Ví dụ: N3 Từ vựng, Từ chuyên ngành IT",required:!0})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(ve,{htmlFor:"setDescription",children:"Mô tả (Tùy chọn)"}),d.jsx(Ti,{id:"setDescription",value:A,onChange:B=>I(B.target.value),placeholder:"Mô tả ngắn gọn về bộ từ này"})]}),d.jsx(he,{type:"submit",disabled:u||!g.trim(),children:u?d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"}):"Tạo Bộ Từ"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-[70vh]",children:[d.jsxs("div",{className:"md:col-span-1 flex flex-col space-y-4",children:[d.jsxs("h2",{className:"text-xl font-semibold border-b pb-2 text-gray-800 dark:text-white",children:["Danh sách Bộ Từ (",n.length,")"]}),d.jsx("div",{className:"space-y-2 overflow-y-auto pr-2",children:u&&n.length===0?d.jsx("div",{className:"flex justify-center items-center h-24",children:d.jsx(Ot,{className:"h-6 w-6 animate-spin text-primary"})}):n.length===0?d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center p-4",children:"Chưa có bộ từ nào."}):n.map(B=>d.jsx(Oe,{className:`cursor-pointer transition-all ${s&&s.id===B.id?"border-primary shadow-lg bg-primary/10 dark:bg-primary/20":"hover:border-primary/50 dark:hover:border-gray-600 bg-white dark:bg-gray-800"}`,onClick:()=>i(B),children:d.jsxs(Je,{className:"p-4 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx(ht,{className:"text-lg font-medium",children:B.name}),d.jsx(Ds,{className:"text-sm",children:B.description||"Không có mô tả"}),d.jsxs(Fg,{variant:"secondary",className:"mt-2",children:[d.jsx(F2,{className:"h-3 w-3 mr-1"})," ",B.totalWords||0," từ"]})]}),d.jsx(he,{variant:"ghost",size:"icon",className:"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/50",onClick:ue=>{ue.stopPropagation(),_r(B.id,B.name)},children:d.jsx(S_,{className:"h-4 w-4"})})]})},B.id))})]}),d.jsx("div",{className:"md:col-span-2",children:s?d.jsxs(Oe,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg h-full",children:[d.jsxs(zt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Oa,{className:"h-6 w-6 text-primary"}),d.jsx(ht,{className:"text-2xl font-bold",children:s.name})]}),d.jsxs(Pu,{children:[d.jsx(k_,{asChild:!0,children:d.jsxs(he,{variant:"outline",size:"sm",children:[d.jsx(T_,{className:"h-4 w-4 mr-2"})," Chỉnh sửa"]})}),d.jsxs(oa,{className:"sm:max-w-[425px]",children:[d.jsxs(Nu,{children:[d.jsx(Du,{children:"Chỉnh sửa Bộ Từ Vựng"}),d.jsx(Ou,{children:"Thay đổi tên và mô tả của bộ từ này."})]}),d.jsx(N5,{set:s,onSave:yn,isLoading:u})]})]})]}),d.jsx(Ds,{className:"px-6 pb-4",children:s.description||"Không có mô tả"}),d.jsx(Je,{className:"p-6 pt-0",children:d.jsxs(rd,{defaultValue:"addWord",className:"w-full",children:[d.jsxs(rl,{className:"grid w-full grid-cols-3",children:[d.jsxs(Jt,{value:"addWord",children:[d.jsx(x_,{className:"h-4 w-4 mr-1"})," Thêm Từ"]}),d.jsxs(Jt,{value:"wordList",children:[d.jsx(W2,{className:"h-4 w-4 mr-1"})," Danh sách (",us,")"]}),d.jsxs(Jt,{value:"bulkImport",onClick:()=>{re(""),st(null)},children:[d.jsx(__,{className:"h-4 w-4 mr-1"})," Nhập SL"]})]}),d.jsx(Zt,{value:"addWord",className:"mt-4",children:d.jsxs("form",{onSubmit:Nn,className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ve,{htmlFor:"kanji",children:["Kanji/Từ ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Ye,{id:"kanji",value:C,onChange:B=>E(B.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ve,{htmlFor:"kana",children:"Kana/Phiên âm"}),d.jsx(Ye,{id:"kana",value:_,onChange:B=>T(B.target.value)})]}),d.jsxs("div",{className:"space-y-2 col-span-2",children:[d.jsxs(ve,{htmlFor:"meaning",children:["Nghĩa ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Ye,{id:"meaning",value:b,onChange:B=>L(B.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2 col-span-2",children:[d.jsx(ve,{htmlFor:"notes",children:"Ghi chú (Tùy chọn)"}),d.jsx(Ti,{id:"notes",value:M,onChange:B=>S(B.target.value)})]}),d.jsx(he,{type:"submit",className:"col-span-2",disabled:u||!C.trim()||!b.trim(),children:u?d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"}):"Thêm Từ Vựng"})]})}),d.jsx(Zt,{value:"wordList",className:"mt-4",children:d.jsx("div",{className:"space-y-3 max-h-[30vh] overflow-y-auto pr-2",children:u&&us===0?d.jsx("div",{className:"flex justify-center items-center h-24",children:d.jsx(Ot,{className:"h-6 w-6 animate-spin text-primary"})}):us===0?d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center p-4",children:"Bộ từ này chưa có từ vựng nào."}):o.map(B=>d.jsx(Oe,{className:"bg-gray-50 dark:bg-gray-900 shadow-sm",children:d.jsxs(Je,{className:"p-3 flex justify-between items-center",children:[d.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[d.jsx("p",{className:"font-semibold text-lg truncate text-gray-900 dark:text-white",children:B.kanji}),d.jsx("p",{className:"text-sm text-primary dark:text-primary-light truncate",children:B.kana}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 truncate mt-1",children:B.meaning}),B.notes&&d.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mt-1",children:[d.jsx(J2,{className:"h-3 w-3 mr-1"}),d.jsx("span",{className:"truncate",children:B.notes})]})]}),d.jsxs("div",{className:"flex space-x-1",children:[d.jsx(he,{variant:"ghost",size:"icon",onClick:()=>El(B),title:"Chỉnh sửa từ",children:d.jsx(T_,{className:"h-4 w-4 text-primary"})}),d.jsx(he,{variant:"ghost",size:"icon",onClick:()=>co(s.id,B.id),title:"Xóa từ",children:d.jsx(S_,{className:"h-4 w-4 text-red-500"})})]})]})},B.id))})}),d.jsx(Zt,{value:"bulkImport",className:"mt-4",children:d.jsxs("form",{onSubmit:ho,className:"grid gap-4",children:[d.jsx(ve,{htmlFor:"bulkData",className:"text-sm font-medium",children:"Nhập từ vựng (mỗi từ một dòng, phân tách bằng dấu phẩy)"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-2",children:"Định dạng: **Kanji/Từ, Kana/Phiên âm, Nghĩa, Ghi chú (tùy chọn)**"}),d.jsx(Ti,{id:"bulkData",rows:8,value:ie,onChange:B=>re(B.target.value),placeholder:`Ví dụ:
食べる, たべる, Ăn
日本語, にほんご, Tiếng Nhật, Ghi chú quan trọng`,required:!0}),xe&&d.jsxs("div",{className:"flex items-center text-sm text-blue-500",children:[d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"})," ",xe]}),d.jsxs(he,{type:"submit",disabled:u||xe!==null||!ie.trim(),children:[d.jsx(__,{className:"h-4 w-4 mr-2"})," Nhập ",ie.trim().split(`
`).filter(B=>B.trim()!=="").length," Từ"]})]})})]})})]}):d.jsxs(Oe,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg text-center p-8 h-full flex flex-col justify-center items-center",children:[d.jsx(Oa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"Chọn một bộ từ"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Vui lòng chọn một bộ từ từ danh sách bên trái hoặc tạo bộ từ mới."}),d.jsx(he,{variant:"outline",onClick:vt,disabled:u,children:u?d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"}):"Tải lại danh sách bộ từ"})]})})]}),d.jsx("p",{className:"mt-8 text-sm text-center text-gray-500 dark:text-gray-500",children:"* Độ khó (Difficulty) sẽ được cập nhật tự động sau mỗi buổi học."}),d.jsx(Pu,{open:v,onOpenChange:k,children:d.jsxs(oa,{className:"sm:max-w-[425px]",children:[d.jsxs(Nu,{children:[d.jsx(Du,{children:"Chỉnh sửa Từ Vựng"}),d.jsxs(Ou,{children:['Cập nhật thông tin cho từ "',R==null?void 0:R.kanji,'".']})]}),d.jsxs("form",{onSubmit:Dn,className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsxs(ve,{htmlFor:"editKanji",children:["Kanji/Từ ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Ye,{id:"editKanji",value:D,onChange:B=>P(B.target.value),required:!0})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(ve,{htmlFor:"editKana",children:"Kana/Phiên âm"}),d.jsx(Ye,{id:"editKana",value:Be,onChange:B=>et(B.target.value)})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsxs(ve,{htmlFor:"editMeaning",children:["Nghĩa ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Ye,{id:"editMeaning",value:Ee,onChange:B=>Ge(B.target.value),required:!0})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(ve,{htmlFor:"editNotes",children:"Ghi chú (Tùy chọn)"}),d.jsx(Ti,{id:"editNotes",value:V,onChange:B=>Y(B.target.value)})]}),d.jsx(he,{type:"submit",disabled:u||!D.trim()||!Ee.trim(),children:u?d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"}):"Lưu Thay Đổi"})]})]})})]}):d.jsxs(Oe,{className:"text-center shadow-lg w-full max-w-sm mx-auto",children:[d.jsx(zt,{children:d.jsx(ht,{children:"Yêu cầu Đăng nhập"})}),d.jsx(Je,{children:d.jsx("p",{className:"text-gray-500 mb-4",children:"Bạn cần đăng nhập để quản lý từ vựng."})})]})}const N5=({set:t,onSave:e,isLoading:n})=>{const[r,s]=y.useState(t.name),[i,o]=y.useState(t.description||""),a=u=>{u.preventDefault(),e(t.id,r,i)};return d.jsxs("form",{onSubmit:a,className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsxs(ve,{htmlFor:"editSetName",children:["Tên bộ từ ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Ye,{id:"editSetName",value:r,onChange:u=>s(u.target.value),required:!0})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(ve,{htmlFor:"editSetDescription",children:"Mô tả"}),d.jsx(Ti,{id:"editSetDescription",value:i,onChange:u=>o(u.target.value),placeholder:"Mô tả ngắn gọn về bộ từ này"})]}),d.jsx(he,{type:"submit",disabled:n||!r.trim(),children:n?d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"}):"Lưu Bộ Từ"})]})},Yh=768;function D5(){const[t,e]=y.useState(void 0);return y.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Yh-1}px)`),r=()=>{e(window.innerWidth<Yh)};return n.addEventListener("change",r),e(window.innerWidth<Yh),()=>n.removeEventListener("change",r)},[]),!!t}function O5(){const{user:t,logout:e,showAuthModal:n,loading:r,showAuthForm:s}=Ys(),i=D5(),[o,a]=y.useState(!1),u=rs(),c=()=>{e(),a(!1)},m=["/learn","/vocabulary","/statistics","/settings"].includes(u.pathname);y.useEffect(()=>{!r&&!t&&m?n(!0):t&&m&&s&&n(!1),!m&&s&&n(!1)},[r,t,m,n,u.pathname,s]);const g=[{to:"/",label:"Trang chủ",icon:$2,isProtected:!1},{to:"/learn",label:"Chế độ học",icon:Om,isProtected:!0},{to:"/vocabulary",label:"Quản lý từ vựng",icon:Oa,isProtected:!0},{to:"/statistics",label:"Thống kê",icon:Jx,isProtected:!0},{to:"/settings",label:"Cài đặt",icon:eI,isProtected:!0}],w=!r&&(!m||t),A=({navItems:E,isMenuOpen:_,setIsMenuOpen:T,handleLogout:b,user:L})=>d.jsxs("div",{className:`fixed inset-0 z-40 lg:hidden transition-opacity duration-300 ${_?"opacity-100 visible":"opacity-0 invisible"}`,"aria-hidden":!_,children:[d.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>T(!1)}),d.jsx("div",{className:`absolute left-0 top-0 h-full w-64 bg-white dark:bg-gray-900 shadow-2xl transition-transform duration-300 transform ${_?"translate-x-0":"-translate-x-full"} p-4`,children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-xl font-bold text-primary",children:"Nihongo App"}),d.jsx(he,{variant:"ghost",size:"icon",onClick:()=>T(!1),children:d.jsx(nI,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"mb-4 p-3 bg-accent dark:bg-gray-800 rounded-lg",children:L?d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(zo,{className:"h-6 w-6 text-primary"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-sm truncate",children:L.name||L.email}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Điểm: ",L.totalPoints||0]})]})]}):d.jsxs(he,{onClick:()=>{n(!0),T(!1)},className:"w-full",children:[d.jsx(zo,{className:"h-4 w-4 mr-2"})," Đăng nhập"]})}),d.jsx("nav",{className:"flex-1 space-y-1",children:E.map(M=>d.jsxs(Na,{to:M.to,onClick:()=>T(!1),className:`flex items-center p-3 rounded-lg transition-colors ${u.pathname===M.to?"bg-primary text-primary-foreground font-semibold":"text-foreground hover:bg-accent dark:hover:bg-gray-700"}`,children:[d.jsx(M.icon,{className:"h-5 w-5 mr-3 shrink-0"}),d.jsx("span",{className:"text-sm",children:M.label})]},M.to))}),L&&d.jsx("div",{className:"mt-auto pt-4 border-t dark:border-gray-700",children:d.jsxs(he,{variant:"outline",className:"w-full bg-transparent hover:bg-red-50 dark:hover:bg-red-900/50",onClick:b,children:[d.jsx(Jf,{className:"h-4 w-4 mr-2"}),"Đăng xuất"]})})]})})]}),I=({navItems:E,handleLogout:_,user:T})=>d.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:d.jsx("div",{className:"flex flex-col w-64 border-r dark:border-gray-800 bg-white dark:bg-gray-900",children:d.jsxs("div",{className:"flex flex-col flex-1 h-0",children:[d.jsxs("div",{className:"flex flex-col flex-1 overflow-y-auto pt-5 pb-4 px-4",children:[d.jsx("div",{className:"flex items-center flex-shrink-0 px-2 mb-6",children:d.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Nihongo App"})}),d.jsx("div",{className:"mb-6 p-3 bg-accent dark:bg-gray-800 rounded-lg",children:T?d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:T.photoURL||`https://api.dicebear.com/7.x/initials/svg?seed=${T.name||"User"}`,alt:"Avatar",className:"h-8 w-8 rounded-full object-cover"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-sm truncate",children:T.name||T.email}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Điểm: ",T.totalPoints||0]})]})]}):d.jsxs(he,{onClick:()=>n(!0),className:"w-full",children:[d.jsx(zo,{className:"h-4 w-4 mr-2"})," Đăng nhập"]})}),d.jsx("nav",{className:"flex-1 space-y-1",children:E.map(b=>d.jsxs(Na,{to:b.to,className:`flex items-center p-3 rounded-lg transition-colors ${u.pathname===b.to?"bg-primary text-primary-foreground font-semibold":"text-foreground hover:bg-accent dark:hover:bg-gray-700"}`,children:[d.jsx(b.icon,{className:"h-5 w-5 mr-3 shrink-0"}),d.jsx("span",{className:"text-sm",children:b.label})]},b.to))})]}),T&&d.jsx("div",{className:"pb-4 px-4 border-t dark:border-gray-800",children:d.jsxs(he,{variant:"outline",className:"w-full bg-transparent hover:bg-red-50 dark:hover:bg-red-900/50",onClick:_,children:[d.jsx(Jf,{className:"h-4 w-4 mr-2"}),"Đăng xuất"]})})]})})}),C=({isMobile:E,isMenuOpen:_,setIsMenuOpen:T,user:b})=>E?d.jsxs("header",{className:"fixed top-0 left-0 right-0 z-30 flex items-center justify-between p-4 bg-white dark:bg-gray-900 border-b dark:border-gray-800 lg:hidden",children:[d.jsx(he,{variant:"ghost",size:"icon",onClick:()=>T(!0),children:d.jsx(Y2,{className:"h-6 w-6"})}),d.jsx("h1",{className:"text-xl font-bold text-primary",children:"Nihongo App"}),d.jsx("div",{className:"w-10",children:b?d.jsx("img",{src:b.photoURL||`https://api.dicebear.com/7.x/initials/svg?seed=${b.name||"User"}`,alt:"Avatar",className:"h-8 w-8 rounded-full object-cover"}):d.jsx(he,{variant:"ghost",size:"icon",onClick:()=>n(!0),children:d.jsx(zo,{className:"h-6 w-6"})})})]}):null;return d.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[d.jsx(I,{navItems:g,handleLogout:c,user:t}),d.jsx(A,{navItems:g,isMenuOpen:o,setIsMenuOpen:a,handleLogout:c,user:t}),d.jsx(C,{isMobile:i,isMenuOpen:o,setIsMenuOpen:a,user:t}),d.jsx("main",{className:"flex-1 overflow-y-auto pt-0 lg:pt-0",children:r?d.jsxs("div",{className:"flex h-full items-center justify-center p-8",children:[d.jsx(Ot,{className:"h-6 w-6 animate-spin text-primary"}),d.jsx("span",{className:"ml-2 text-gray-500",children:"Đang tải bố cục..."})]}):w?d.jsxs("div",{className:`p-4 md:p-8 ${i?"pt-20":""}`,children:[d.jsx(Qv,{})," "]}):m&&!t?d.jsx("div",{className:"flex h-full items-center justify-center p-8",children:d.jsxs(Oe,{className:"text-center shadow-lg w-full max-w-sm",children:[d.jsx(zt,{children:d.jsx(ht,{children:"Truy cập bị từ chối"})}),d.jsxs(Je,{children:[d.jsx("p",{className:"text-gray-500 mb-4",children:"Vui lòng đăng nhập để truy cập trang này."}),d.jsx(he,{onClick:()=>n(!0),children:"Đăng nhập ngay"})]})]})}):d.jsx("div",{className:`p-4 md:p-8 ${i?"pt-20":""}`,children:d.jsx(Qv,{})})})]})}function M5(){return d.jsx(rb,{children:d.jsxs(ys,{path:"/",element:d.jsx(O5,{}),children:[d.jsx(ys,{index:!0,element:d.jsx(t5,{})}),d.jsx(ys,{path:"settings",element:d.jsx(h5,{})}),d.jsx(ys,{path:"statistics",element:d.jsx(T5,{})}),d.jsx(ys,{path:"learn",element:d.jsx(I5,{})}),d.jsx(ys,{path:"vocabulary",element:d.jsx(P5,{})})]})})}const L5=_T(document.getElementById("app"));L5.render(d.jsx(kb,{children:d.jsx(Z3,{children:d.jsx(M5,{})})}));
//# sourceMappingURL=index-BLdi4ChT.js.map
