function SC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function w0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var E0={exports:{}},Fc={},T0={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=Symbol.for("react.element"),kC=Symbol.for("react.portal"),CC=Symbol.for("react.fragment"),RC=Symbol.for("react.strict_mode"),bC=Symbol.for("react.profiler"),AC=Symbol.for("react.provider"),PC=Symbol.for("react.context"),NC=Symbol.for("react.forward_ref"),DC=Symbol.for("react.suspense"),OC=Symbol.for("react.memo"),MC=Symbol.for("react.lazy"),Qy=Symbol.iterator;function LC(t){return t===null||typeof t!="object"?null:(t=Qy&&t[Qy]||t["@@iterator"],typeof t=="function"?t:null)}var x0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I0=Object.assign,S0={};function Xi(t,e,n){this.props=t,this.context=e,this.refs=S0,this.updater=n||x0}Xi.prototype.isReactComponent={};Xi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function k0(){}k0.prototype=Xi.prototype;function Mp(t,e,n){this.props=t,this.context=e,this.refs=S0,this.updater=n||x0}var Lp=Mp.prototype=new k0;Lp.constructor=Mp;I0(Lp,Xi.prototype);Lp.isPureReactComponent=!0;var Yy=Array.isArray,C0=Object.prototype.hasOwnProperty,jp={current:null},R0={key:!0,ref:!0,__self:!0,__source:!0};function b0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)C0.call(e,r)&&!R0.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ga,type:t,key:i,ref:o,props:s,_owner:jp.current}}function jC(t,e){return{$$typeof:Ga,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ga}function VC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xy=/\/+/g;function Zd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VC(""+t.key):e.toString(36)}function yu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ga:case kC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Zd(o,0):r,Yy(s)?(n="",t!=null&&(n=t.replace(Xy,"$&/")+"/"),yu(s,e,n,"",function(c){return c})):s!=null&&(Vp(s)&&(s=jC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xy,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Yy(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Zd(i,a);o+=yu(i,e,n,u,s)}else if(u=LC(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Zd(i,a++),o+=yu(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fl(t,e,n){if(t==null)return t;var r=[],s=0;return yu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function FC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},vu={transition:null},UC={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:vu,ReactCurrentOwner:jp};function A0(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Fl,forEach:function(t,e,n){Fl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fl(t,function(){e++}),e},toArray:function(t){return Fl(t,function(e){return e})||[]},only:function(t){if(!Vp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Xi;le.Fragment=CC;le.Profiler=bC;le.PureComponent=Mp;le.StrictMode=RC;le.Suspense=DC;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UC;le.act=A0;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=I0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=jp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)C0.call(e,u)&&!R0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ga,type:t.type,key:s,ref:i,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:PC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AC,_context:t},t.Consumer=t};le.createElement=b0;le.createFactory=function(t){var e=b0.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:NC,render:t}};le.isValidElement=Vp;le.lazy=function(t){return{$$typeof:MC,_payload:{_status:-1,_result:t},_init:FC}};le.memo=function(t,e){return{$$typeof:OC,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=vu.transition;vu.transition={};try{t()}finally{vu.transition=e}};le.unstable_act=A0;le.useCallback=function(t,e){return Vt.current.useCallback(t,e)};le.useContext=function(t){return Vt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};le.useEffect=function(t,e){return Vt.current.useEffect(t,e)};le.useId=function(){return Vt.current.useId()};le.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Vt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};le.useRef=function(t){return Vt.current.useRef(t)};le.useState=function(t){return Vt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Vt.current.useTransition()};le.version="18.3.1";T0.exports=le;var y=T0.exports;const Dt=w0(y),P0=SC({__proto__:null,default:Dt},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $C=y,zC=Symbol.for("react.element"),BC=Symbol.for("react.fragment"),WC=Object.prototype.hasOwnProperty,HC=$C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qC={key:!0,ref:!0,__self:!0,__source:!0};function N0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WC.call(e,r)&&!qC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:zC,type:t,key:i,ref:o,props:s,_owner:HC.current}}Fc.Fragment=BC;Fc.jsx=N0;Fc.jsxs=N0;E0.exports=Fc;var d=E0.exports,D0={exports:{}},sn={},O0={exports:{}},M0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,Y){var Z=V.length;V.push(Y);e:for(;0<Z;){var Ee=Z-1>>>1,se=V[Ee];if(0<s(se,Y))V[Ee]=Y,V[Z]=se,Z=Ee;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Y=V[0],Z=V.pop();if(Z!==Y){V[0]=Z;e:for(var Ee=0,se=V.length,ee=se>>>1;Ee<ee;){var Te=2*(Ee+1)-1,st=V[Te],yt=Te+1,we=V[yt];if(0>s(st,Z))yt<se&&0>s(we,st)?(V[Ee]=we,V[yt]=Z,Ee=yt):(V[Ee]=st,V[Te]=Z,Ee=Te);else if(yt<se&&0>s(we,Z))V[Ee]=we,V[yt]=Z,Ee=yt;else break e}}return Y}function s(V,Y){var Z=V.sortIndex-Y.sortIndex;return Z!==0?Z:V.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,p=null,g=3,T=!1,R=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=V)r(c),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(c)}}function A(V){if(x=!1,w(V),!R)if(n(u)!==null)R=!0,ae(L);else{var Y=n(c);Y!==null&&Ae(A,Y.startTime-V)}}function L(V,Y){R=!1,x&&(x=!1,E(v),v=-1),T=!0;var Z=g;try{for(w(Y),p=n(u);p!==null&&(!(p.expirationTime>Y)||V&&!N());){var Ee=p.callback;if(typeof Ee=="function"){p.callback=null,g=p.priorityLevel;var se=Ee(p.expirationTime<=Y);Y=t.unstable_now(),typeof se=="function"?p.callback=se:p===n(u)&&r(u),w(Y)}else r(u);p=n(u)}if(p!==null)var ee=!0;else{var Te=n(c);Te!==null&&Ae(A,Te.startTime-Y),ee=!1}return ee}finally{p=null,g=Z,T=!1}}var M=!1,S=null,v=-1,C=5,b=-1;function N(){return!(t.unstable_now()-b<C)}function D(){if(S!==null){var V=t.unstable_now();b=V;var Y=!0;try{Y=S(!0,V)}finally{Y?P():(M=!1,S=null)}}else M=!1}var P;if(typeof _=="function")P=function(){_(D)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ge=Q.port2;Q.port1.onmessage=D,P=function(){ge.postMessage(null)}}else P=function(){k(D,0)};function ae(V){S=V,M||(M=!0,P())}function Ae(V,Y){v=k(function(){V(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){R||T||(R=!0,ae(L))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var Z=g;g=Y;try{return V()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=g;g=V;try{return Y()}finally{g=Z}},t.unstable_scheduleCallback=function(V,Y,Z){var Ee=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Ee+Z:Ee):Z=Ee,V){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Z+se,V={id:h++,callback:Y,priorityLevel:V,startTime:Z,expirationTime:se,sortIndex:-1},Z>Ee?(V.sortIndex=Z,e(c,V),n(u)===null&&V===n(c)&&(x?(E(v),v=-1):x=!0,Ae(A,Z-Ee))):(V.sortIndex=se,e(u,V),R||T||(R=!0,ae(L))),V},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(V){var Y=g;return function(){var Z=g;g=Y;try{return V.apply(this,arguments)}finally{g=Z}}}})(M0);O0.exports=M0;var KC=O0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC=y,rn=KC;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L0=new Set,ma={};function Ws(t,e){ji(t,e),ji(t+"Capture",e)}function ji(t,e){for(ma[t]=e,t=0;t<e.length;t++)L0.add(e[t])}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rf=Object.prototype.hasOwnProperty,QC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jy={},Zy={};function YC(t){return rf.call(Zy,t)?!0:rf.call(Jy,t)?!1:QC.test(t)?Zy[t]=!0:(Jy[t]=!0,!1)}function XC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JC(t,e,n,r){if(e===null||typeof e>"u"||XC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ft(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fp=/[\-:]([a-z])/g;function Up(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fp,Up);mt[e]=new Ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fp,Up);mt[e]=new Ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fp,Up);mt[e]=new Ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function $p(t,e,n,r){var s=mt.hasOwnProperty(e)?mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JC(e,n,s,r)&&(n=null),r||s===null?YC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _r=GC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ul=Symbol.for("react.element"),fi=Symbol.for("react.portal"),pi=Symbol.for("react.fragment"),zp=Symbol.for("react.strict_mode"),sf=Symbol.for("react.profiler"),j0=Symbol.for("react.provider"),V0=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),of=Symbol.for("react.suspense"),af=Symbol.for("react.suspense_list"),Wp=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),F0=Symbol.for("react.offscreen"),ev=Symbol.iterator;function Co(t){return t===null||typeof t!="object"?null:(t=ev&&t[ev]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,eh;function Fo(t){if(eh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);eh=e&&e[1]||""}return`
`+eh+t}var th=!1;function nh(t,e){if(!t||th)return"";th=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{th=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fo(t):""}function ZC(t){switch(t.tag){case 5:return Fo(t.type);case 16:return Fo("Lazy");case 13:return Fo("Suspense");case 19:return Fo("SuspenseList");case 0:case 2:case 15:return t=nh(t.type,!1),t;case 11:return t=nh(t.type.render,!1),t;case 1:return t=nh(t.type,!0),t;default:return""}}function lf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pi:return"Fragment";case fi:return"Portal";case sf:return"Profiler";case zp:return"StrictMode";case of:return"Suspense";case af:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V0:return(t.displayName||"Context")+".Consumer";case j0:return(t._context.displayName||"Context")+".Provider";case Bp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wp:return e=t.displayName||null,e!==null?e:lf(t.type)||"Memo";case br:e=t._payload,t=t._init;try{return lf(t(e))}catch{}}return null}function eR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lf(e);case 8:return e===zp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function U0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tR(t){var e=U0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $l(t){t._valueTracker||(t._valueTracker=tR(t))}function $0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=U0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uf(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function z0(t,e){e=e.checked,e!=null&&$p(t,"checked",e,!1)}function cf(t,e){z0(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?df(t,e.type,n):e.hasOwnProperty("defaultValue")&&df(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function df(t,e,n){(e!=="number"||Gu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Uo=Array.isArray;function ki(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function hf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Uo(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function B0(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function W0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ff(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?W0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zl,H0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zl=zl||document.createElement("div"),zl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ga(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nR=["Webkit","ms","Moz","O"];Object.keys(Xo).forEach(function(t){nR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xo[e]=Xo[t]})});function q0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xo.hasOwnProperty(t)&&Xo[t]?(""+e).trim():e+"px"}function K0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=q0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var rR=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pf(t,e){if(e){if(rR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function mf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=null;function Hp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yf=null,Ci=null,Ri=null;function iv(t){if(t=Xa(t)){if(typeof yf!="function")throw Error($(280));var e=t.stateNode;e&&(e=Wc(e),yf(t.stateNode,t.type,e))}}function G0(t){Ci?Ri?Ri.push(t):Ri=[t]:Ci=t}function Q0(){if(Ci){var t=Ci,e=Ri;if(Ri=Ci=null,iv(t),e)for(t=0;t<e.length;t++)iv(e[t])}}function Y0(t,e){return t(e)}function X0(){}var rh=!1;function J0(t,e,n){if(rh)return t(e,n);rh=!0;try{return Y0(t,e,n)}finally{rh=!1,(Ci!==null||Ri!==null)&&(X0(),Q0())}}function ya(t,e){var n=t.stateNode;if(n===null)return null;var r=Wc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var vf=!1;if(cr)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){vf=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{vf=!1}function sR(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Jo=!1,Qu=null,Yu=!1,_f=null,iR={onError:function(t){Jo=!0,Qu=t}};function oR(t,e,n,r,s,i,o,a,u){Jo=!1,Qu=null,sR.apply(iR,arguments)}function aR(t,e,n,r,s,i,o,a,u){if(oR.apply(this,arguments),Jo){if(Jo){var c=Qu;Jo=!1,Qu=null}else throw Error($(198));Yu||(Yu=!0,_f=c)}}function Hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Z0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ov(t){if(Hs(t)!==t)throw Error($(188))}function lR(t){var e=t.alternate;if(!e){if(e=Hs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ov(s),t;if(i===r)return ov(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function eE(t){return t=lR(t),t!==null?tE(t):null}function tE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tE(t);if(e!==null)return e;t=t.sibling}return null}var nE=rn.unstable_scheduleCallback,av=rn.unstable_cancelCallback,uR=rn.unstable_shouldYield,cR=rn.unstable_requestPaint,Qe=rn.unstable_now,dR=rn.unstable_getCurrentPriorityLevel,qp=rn.unstable_ImmediatePriority,rE=rn.unstable_UserBlockingPriority,Xu=rn.unstable_NormalPriority,hR=rn.unstable_LowPriority,sE=rn.unstable_IdlePriority,Uc=null,jn=null;function fR(t){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Uc,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:gR,pR=Math.log,mR=Math.LN2;function gR(t){return t>>>=0,t===0?32:31-(pR(t)/mR|0)|0}var Bl=64,Wl=4194304;function $o(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ju(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=$o(a):(i&=o,i!==0&&(r=$o(i)))}else o=n&~s,o!==0?r=$o(o):i!==0&&(r=$o(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xn(e),s=1<<n,r|=t[n],e&=~s;return r}function yR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-xn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=yR(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function wf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iE(){var t=Bl;return Bl<<=1,!(Bl&4194240)&&(Bl=64),t}function sh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=n}function _R(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-xn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Kp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ie=0;function oE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aE,Gp,lE,uE,cE,Ef=!1,Hl=[],Fr=null,Ur=null,$r=null,va=new Map,_a=new Map,Pr=[],wR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lv(t,e){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":va.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(e.pointerId)}}function bo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xa(e),e!==null&&Gp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ER(t,e,n,r,s){switch(e){case"focusin":return Fr=bo(Fr,t,e,n,r,s),!0;case"dragenter":return Ur=bo(Ur,t,e,n,r,s),!0;case"mouseover":return $r=bo($r,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return va.set(i,bo(va.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_a.set(i,bo(_a.get(i)||null,t,e,n,r,s)),!0}return!1}function dE(t){var e=ws(t.target);if(e!==null){var n=Hs(e);if(n!==null){if(e=n.tag,e===13){if(e=Z0(n),e!==null){t.blockedOn=e,cE(t.priority,function(){lE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _u(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gf=r,n.target.dispatchEvent(r),gf=null}else return e=Xa(n),e!==null&&Gp(e),t.blockedOn=n,!1;e.shift()}return!0}function uv(t,e,n){_u(t)&&n.delete(e)}function TR(){Ef=!1,Fr!==null&&_u(Fr)&&(Fr=null),Ur!==null&&_u(Ur)&&(Ur=null),$r!==null&&_u($r)&&($r=null),va.forEach(uv),_a.forEach(uv)}function Ao(t,e){t.blockedOn===e&&(t.blockedOn=null,Ef||(Ef=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,TR)))}function wa(t){function e(s){return Ao(s,t)}if(0<Hl.length){Ao(Hl[0],t);for(var n=1;n<Hl.length;n++){var r=Hl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fr!==null&&Ao(Fr,t),Ur!==null&&Ao(Ur,t),$r!==null&&Ao($r,t),va.forEach(e),_a.forEach(e),n=0;n<Pr.length;n++)r=Pr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pr.length&&(n=Pr[0],n.blockedOn===null);)dE(n),n.blockedOn===null&&Pr.shift()}var bi=_r.ReactCurrentBatchConfig,Zu=!0;function xR(t,e,n,r){var s=Ie,i=bi.transition;bi.transition=null;try{Ie=1,Qp(t,e,n,r)}finally{Ie=s,bi.transition=i}}function IR(t,e,n,r){var s=Ie,i=bi.transition;bi.transition=null;try{Ie=4,Qp(t,e,n,r)}finally{Ie=s,bi.transition=i}}function Qp(t,e,n,r){if(Zu){var s=Tf(t,e,n,r);if(s===null)ph(t,e,r,ec,n),lv(t,r);else if(ER(s,t,e,n,r))r.stopPropagation();else if(lv(t,r),e&4&&-1<wR.indexOf(t)){for(;s!==null;){var i=Xa(s);if(i!==null&&aE(i),i=Tf(t,e,n,r),i===null&&ph(t,e,r,ec,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ph(t,e,r,null,n)}}var ec=null;function Tf(t,e,n,r){if(ec=null,t=Hp(r),t=ws(t),t!==null)if(e=Hs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Z0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ec=t,null}function hE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dR()){case qp:return 1;case rE:return 4;case Xu:case hR:return 16;case sE:return 536870912;default:return 16}default:return 16}}var Lr=null,Yp=null,wu=null;function fE(){if(wu)return wu;var t,e=Yp,n=e.length,r,s="value"in Lr?Lr.value:Lr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return wu=s.slice(t,1<r?1-r:void 0)}function Eu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ql(){return!0}function cv(){return!1}function on(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ql:cv,this.isPropagationStopped=cv,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),e}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xp=on(Ji),Ya=Be({},Ji,{view:0,detail:0}),SR=on(Ya),ih,oh,Po,$c=Be({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Po&&(Po&&t.type==="mousemove"?(ih=t.screenX-Po.screenX,oh=t.screenY-Po.screenY):oh=ih=0,Po=t),ih)},movementY:function(t){return"movementY"in t?t.movementY:oh}}),dv=on($c),kR=Be({},$c,{dataTransfer:0}),CR=on(kR),RR=Be({},Ya,{relatedTarget:0}),ah=on(RR),bR=Be({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),AR=on(bR),PR=Be({},Ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NR=on(PR),DR=Be({},Ji,{data:0}),hv=on(DR),OR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LR[t])?!!e[t]:!1}function Jp(){return jR}var VR=Be({},Ya,{key:function(t){if(t.key){var e=OR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jp,charCode:function(t){return t.type==="keypress"?Eu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FR=on(VR),UR=Be({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fv=on(UR),$R=Be({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jp}),zR=on($R),BR=Be({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),WR=on(BR),HR=Be({},$c,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qR=on(HR),KR=[9,13,27,32],Zp=cr&&"CompositionEvent"in window,Zo=null;cr&&"documentMode"in document&&(Zo=document.documentMode);var GR=cr&&"TextEvent"in window&&!Zo,pE=cr&&(!Zp||Zo&&8<Zo&&11>=Zo),pv=" ",mv=!1;function mE(t,e){switch(t){case"keyup":return KR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mi=!1;function QR(t,e){switch(t){case"compositionend":return gE(e);case"keypress":return e.which!==32?null:(mv=!0,pv);case"textInput":return t=e.data,t===pv&&mv?null:t;default:return null}}function YR(t,e){if(mi)return t==="compositionend"||!Zp&&mE(t,e)?(t=fE(),wu=Yp=Lr=null,mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pE&&e.locale!=="ko"?null:e.data;default:return null}}var XR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XR[t.type]:e==="textarea"}function yE(t,e,n,r){G0(r),e=tc(e,"onChange"),0<e.length&&(n=new Xp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ea=null,Ea=null;function JR(t){RE(t,0)}function zc(t){var e=vi(t);if($0(e))return t}function ZR(t,e){if(t==="change")return e}var vE=!1;if(cr){var lh;if(cr){var uh="oninput"in document;if(!uh){var yv=document.createElement("div");yv.setAttribute("oninput","return;"),uh=typeof yv.oninput=="function"}lh=uh}else lh=!1;vE=lh&&(!document.documentMode||9<document.documentMode)}function vv(){ea&&(ea.detachEvent("onpropertychange",_E),Ea=ea=null)}function _E(t){if(t.propertyName==="value"&&zc(Ea)){var e=[];yE(e,Ea,t,Hp(t)),J0(JR,e)}}function eb(t,e,n){t==="focusin"?(vv(),ea=e,Ea=n,ea.attachEvent("onpropertychange",_E)):t==="focusout"&&vv()}function tb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zc(Ea)}function nb(t,e){if(t==="click")return zc(e)}function rb(t,e){if(t==="input"||t==="change")return zc(e)}function sb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:sb;function Ta(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!rf.call(e,s)||!kn(t[s],e[s]))return!1}return!0}function _v(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wv(t,e){var n=_v(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_v(n)}}function wE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function EE(){for(var t=window,e=Gu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gu(t.document)}return e}function em(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ib(t){var e=EE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wE(n.ownerDocument.documentElement,n)){if(r!==null&&em(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=wv(n,i);var o=wv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ob=cr&&"documentMode"in document&&11>=document.documentMode,gi=null,xf=null,ta=null,If=!1;function Ev(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;If||gi==null||gi!==Gu(r)||(r=gi,"selectionStart"in r&&em(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ta&&Ta(ta,r)||(ta=r,r=tc(xf,"onSelect"),0<r.length&&(e=new Xp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gi)))}function Kl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yi={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},ch={},TE={};cr&&(TE=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function Bc(t){if(ch[t])return ch[t];if(!yi[t])return t;var e=yi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in TE)return ch[t]=e[n];return t}var xE=Bc("animationend"),IE=Bc("animationiteration"),SE=Bc("animationstart"),kE=Bc("transitionend"),CE=new Map,Tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(t,e){CE.set(t,e),Ws(e,[t])}for(var dh=0;dh<Tv.length;dh++){var hh=Tv[dh],ab=hh.toLowerCase(),lb=hh[0].toUpperCase()+hh.slice(1);ts(ab,"on"+lb)}ts(xE,"onAnimationEnd");ts(IE,"onAnimationIteration");ts(SE,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(kE,"onTransitionEnd");ji("onMouseEnter",["mouseout","mouseover"]);ji("onMouseLeave",["mouseout","mouseover"]);ji("onPointerEnter",["pointerout","pointerover"]);ji("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ub=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function xv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aR(r,e,void 0,t),t.currentTarget=null}function RE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;xv(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;xv(s,a,c),i=u}}}if(Yu)throw t=_f,Yu=!1,_f=null,t}function Oe(t,e){var n=e[bf];n===void 0&&(n=e[bf]=new Set);var r=t+"__bubble";n.has(r)||(bE(e,t,2,!1),n.add(r))}function fh(t,e,n){var r=0;e&&(r|=4),bE(n,t,r,e)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function xa(t){if(!t[Gl]){t[Gl]=!0,L0.forEach(function(n){n!=="selectionchange"&&(ub.has(n)||fh(n,!1,t),fh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gl]||(e[Gl]=!0,fh("selectionchange",!1,e))}}function bE(t,e,n,r){switch(hE(e)){case 1:var s=xR;break;case 4:s=IR;break;default:s=Qp}n=s.bind(null,e,n,t),s=void 0,!vf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ph(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ws(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}J0(function(){var c=i,h=Hp(n),p=[];e:{var g=CE.get(t);if(g!==void 0){var T=Xp,R=t;switch(t){case"keypress":if(Eu(n)===0)break e;case"keydown":case"keyup":T=FR;break;case"focusin":R="focus",T=ah;break;case"focusout":R="blur",T=ah;break;case"beforeblur":case"afterblur":T=ah;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=CR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=zR;break;case xE:case IE:case SE:T=AR;break;case kE:T=WR;break;case"scroll":T=SR;break;case"wheel":T=qR;break;case"copy":case"cut":case"paste":T=NR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=fv}var x=(e&4)!==0,k=!x&&t==="scroll",E=x?g!==null?g+"Capture":null:g;x=[];for(var _=c,w;_!==null;){w=_;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,E!==null&&(A=ya(_,E),A!=null&&x.push(Ia(_,A,w)))),k)break;_=_.return}0<x.length&&(g=new T(g,R,null,n,h),p.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",g&&n!==gf&&(R=n.relatedTarget||n.fromElement)&&(ws(R)||R[dr]))break e;if((T||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,T?(R=n.relatedTarget||n.toElement,T=c,R=R?ws(R):null,R!==null&&(k=Hs(R),R!==k||R.tag!==5&&R.tag!==6)&&(R=null)):(T=null,R=c),T!==R)){if(x=dv,A="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=fv,A="onPointerLeave",E="onPointerEnter",_="pointer"),k=T==null?g:vi(T),w=R==null?g:vi(R),g=new x(A,_+"leave",T,n,h),g.target=k,g.relatedTarget=w,A=null,ws(h)===c&&(x=new x(E,_+"enter",R,n,h),x.target=w,x.relatedTarget=k,A=x),k=A,T&&R)t:{for(x=T,E=R,_=0,w=x;w;w=ii(w))_++;for(w=0,A=E;A;A=ii(A))w++;for(;0<_-w;)x=ii(x),_--;for(;0<w-_;)E=ii(E),w--;for(;_--;){if(x===E||E!==null&&x===E.alternate)break t;x=ii(x),E=ii(E)}x=null}else x=null;T!==null&&Iv(p,g,T,x,!1),R!==null&&k!==null&&Iv(p,k,R,x,!0)}}e:{if(g=c?vi(c):window,T=g.nodeName&&g.nodeName.toLowerCase(),T==="select"||T==="input"&&g.type==="file")var L=ZR;else if(gv(g))if(vE)L=rb;else{L=tb;var M=eb}else(T=g.nodeName)&&T.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=nb);if(L&&(L=L(t,c))){yE(p,L,n,h);break e}M&&M(t,g,c),t==="focusout"&&(M=g._wrapperState)&&M.controlled&&g.type==="number"&&df(g,"number",g.value)}switch(M=c?vi(c):window,t){case"focusin":(gv(M)||M.contentEditable==="true")&&(gi=M,xf=c,ta=null);break;case"focusout":ta=xf=gi=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Ev(p,n,h);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":Ev(p,n,h)}var S;if(Zp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else mi?mE(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(pE&&n.locale!=="ko"&&(mi||v!=="onCompositionStart"?v==="onCompositionEnd"&&mi&&(S=fE()):(Lr=h,Yp="value"in Lr?Lr.value:Lr.textContent,mi=!0)),M=tc(c,v),0<M.length&&(v=new hv(v,t,null,n,h),p.push({event:v,listeners:M}),S?v.data=S:(S=gE(n),S!==null&&(v.data=S)))),(S=GR?QR(t,n):YR(t,n))&&(c=tc(c,"onBeforeInput"),0<c.length&&(h=new hv("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=S))}RE(p,e)})}function Ia(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ya(t,n),i!=null&&r.unshift(Ia(t,i,s)),i=ya(t,e),i!=null&&r.push(Ia(t,i,s))),t=t.return}return r}function ii(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Iv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=ya(n,i),u!=null&&o.unshift(Ia(n,u,a))):s||(u=ya(n,i),u!=null&&o.push(Ia(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cb=/\r\n?/g,db=/\u0000|\uFFFD/g;function Sv(t){return(typeof t=="string"?t:""+t).replace(cb,`
`).replace(db,"")}function Ql(t,e,n){if(e=Sv(e),Sv(t)!==e&&n)throw Error($(425))}function nc(){}var Sf=null,kf=null;function Cf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rf=typeof setTimeout=="function"?setTimeout:void 0,hb=typeof clearTimeout=="function"?clearTimeout:void 0,kv=typeof Promise=="function"?Promise:void 0,fb=typeof queueMicrotask=="function"?queueMicrotask:typeof kv<"u"?function(t){return kv.resolve(null).then(t).catch(pb)}:Rf;function pb(t){setTimeout(function(){throw t})}function mh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),wa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wa(e)}function zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Zi,Sa="__reactProps$"+Zi,dr="__reactContainer$"+Zi,bf="__reactEvents$"+Zi,mb="__reactListeners$"+Zi,gb="__reactHandles$"+Zi;function ws(t){var e=t[Mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dr]||n[Mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cv(t);t!==null;){if(n=t[Mn])return n;t=Cv(t)}return e}t=n,n=t.parentNode}return null}function Xa(t){return t=t[Mn]||t[dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Wc(t){return t[Sa]||null}var Af=[],_i=-1;function ns(t){return{current:t}}function Le(t){0>_i||(t.current=Af[_i],Af[_i]=null,_i--)}function Pe(t,e){_i++,Af[_i]=t.current,t.current=e}var Xr={},Ct=ns(Xr),Wt=ns(!1),bs=Xr;function Vi(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ht(t){return t=t.childContextTypes,t!=null}function rc(){Le(Wt),Le(Ct)}function Rv(t,e,n){if(Ct.current!==Xr)throw Error($(168));Pe(Ct,e),Pe(Wt,n)}function AE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,eR(t)||"Unknown",s));return Be({},n,r)}function sc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,bs=Ct.current,Pe(Ct,t),Pe(Wt,Wt.current),!0}function bv(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=AE(t,e,bs),r.__reactInternalMemoizedMergedChildContext=t,Le(Wt),Le(Ct),Pe(Ct,t)):Le(Wt),Pe(Wt,n)}var Zn=null,Hc=!1,gh=!1;function PE(t){Zn===null?Zn=[t]:Zn.push(t)}function yb(t){Hc=!0,PE(t)}function rs(){if(!gh&&Zn!==null){gh=!0;var t=0,e=Ie;try{var n=Zn;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zn=null,Hc=!1}catch(s){throw Zn!==null&&(Zn=Zn.slice(t+1)),nE(qp,rs),s}finally{Ie=e,gh=!1}}return null}var wi=[],Ei=0,ic=null,oc=0,an=[],ln=0,As=null,tr=1,nr="";function gs(t,e){wi[Ei++]=oc,wi[Ei++]=ic,ic=t,oc=e}function NE(t,e,n){an[ln++]=tr,an[ln++]=nr,an[ln++]=As,As=t;var r=tr;t=nr;var s=32-xn(r)-1;r&=~(1<<s),n+=1;var i=32-xn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,tr=1<<32-xn(e)+s|n<<s|r,nr=i+t}else tr=1<<i|n<<s|r,nr=t}function tm(t){t.return!==null&&(gs(t,1),NE(t,1,0))}function nm(t){for(;t===ic;)ic=wi[--Ei],wi[Ei]=null,oc=wi[--Ei],wi[Ei]=null;for(;t===As;)As=an[--ln],an[ln]=null,nr=an[--ln],an[ln]=null,tr=an[--ln],an[ln]=null}var tn=null,Xt=null,je=!1,En=null;function DE(t,e){var n=un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Av(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,Xt=zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=As!==null?{id:tr,overflow:nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,Xt=null,!0):!1;default:return!1}}function Pf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nf(t){if(je){var e=Xt;if(e){var n=e;if(!Av(t,e)){if(Pf(t))throw Error($(418));e=zr(n.nextSibling);var r=tn;e&&Av(t,e)?DE(r,n):(t.flags=t.flags&-4097|2,je=!1,tn=t)}}else{if(Pf(t))throw Error($(418));t.flags=t.flags&-4097|2,je=!1,tn=t}}}function Pv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Yl(t){if(t!==tn)return!1;if(!je)return Pv(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cf(t.type,t.memoizedProps)),e&&(e=Xt)){if(Pf(t))throw OE(),Error($(418));for(;e;)DE(t,e),e=zr(e.nextSibling)}if(Pv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xt=zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=tn?zr(t.stateNode.nextSibling):null;return!0}function OE(){for(var t=Xt;t;)t=zr(t.nextSibling)}function Fi(){Xt=tn=null,je=!1}function rm(t){En===null?En=[t]:En.push(t)}var vb=_r.ReactCurrentBatchConfig;function No(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Xl(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nv(t){var e=t._init;return e(t._payload)}function ME(t){function e(E,_){if(t){var w=E.deletions;w===null?(E.deletions=[_],E.flags|=16):w.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function s(E,_){return E=qr(E,_),E.index=0,E.sibling=null,E}function i(E,_,w){return E.index=w,t?(w=E.alternate,w!==null?(w=w.index,w<_?(E.flags|=2,_):w):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,w,A){return _===null||_.tag!==6?(_=xh(w,E.mode,A),_.return=E,_):(_=s(_,w),_.return=E,_)}function u(E,_,w,A){var L=w.type;return L===pi?h(E,_,w.props.children,A,w.key):_!==null&&(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===br&&Nv(L)===_.type)?(A=s(_,w.props),A.ref=No(E,_,w),A.return=E,A):(A=Ru(w.type,w.key,w.props,null,E.mode,A),A.ref=No(E,_,w),A.return=E,A)}function c(E,_,w,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Ih(w,E.mode,A),_.return=E,_):(_=s(_,w.children||[]),_.return=E,_)}function h(E,_,w,A,L){return _===null||_.tag!==7?(_=Cs(w,E.mode,A,L),_.return=E,_):(_=s(_,w),_.return=E,_)}function p(E,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=xh(""+_,E.mode,w),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ul:return w=Ru(_.type,_.key,_.props,null,E.mode,w),w.ref=No(E,null,_),w.return=E,w;case fi:return _=Ih(_,E.mode,w),_.return=E,_;case br:var A=_._init;return p(E,A(_._payload),w)}if(Uo(_)||Co(_))return _=Cs(_,E.mode,w,null),_.return=E,_;Xl(E,_)}return null}function g(E,_,w,A){var L=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return L!==null?null:a(E,_,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ul:return w.key===L?u(E,_,w,A):null;case fi:return w.key===L?c(E,_,w,A):null;case br:return L=w._init,g(E,_,L(w._payload),A)}if(Uo(w)||Co(w))return L!==null?null:h(E,_,w,A,null);Xl(E,w)}return null}function T(E,_,w,A,L){if(typeof A=="string"&&A!==""||typeof A=="number")return E=E.get(w)||null,a(_,E,""+A,L);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ul:return E=E.get(A.key===null?w:A.key)||null,u(_,E,A,L);case fi:return E=E.get(A.key===null?w:A.key)||null,c(_,E,A,L);case br:var M=A._init;return T(E,_,w,M(A._payload),L)}if(Uo(A)||Co(A))return E=E.get(w)||null,h(_,E,A,L,null);Xl(_,A)}return null}function R(E,_,w,A){for(var L=null,M=null,S=_,v=_=0,C=null;S!==null&&v<w.length;v++){S.index>v?(C=S,S=null):C=S.sibling;var b=g(E,S,w[v],A);if(b===null){S===null&&(S=C);break}t&&S&&b.alternate===null&&e(E,S),_=i(b,_,v),M===null?L=b:M.sibling=b,M=b,S=C}if(v===w.length)return n(E,S),je&&gs(E,v),L;if(S===null){for(;v<w.length;v++)S=p(E,w[v],A),S!==null&&(_=i(S,_,v),M===null?L=S:M.sibling=S,M=S);return je&&gs(E,v),L}for(S=r(E,S);v<w.length;v++)C=T(S,E,v,w[v],A),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?v:C.key),_=i(C,_,v),M===null?L=C:M.sibling=C,M=C);return t&&S.forEach(function(N){return e(E,N)}),je&&gs(E,v),L}function x(E,_,w,A){var L=Co(w);if(typeof L!="function")throw Error($(150));if(w=L.call(w),w==null)throw Error($(151));for(var M=L=null,S=_,v=_=0,C=null,b=w.next();S!==null&&!b.done;v++,b=w.next()){S.index>v?(C=S,S=null):C=S.sibling;var N=g(E,S,b.value,A);if(N===null){S===null&&(S=C);break}t&&S&&N.alternate===null&&e(E,S),_=i(N,_,v),M===null?L=N:M.sibling=N,M=N,S=C}if(b.done)return n(E,S),je&&gs(E,v),L;if(S===null){for(;!b.done;v++,b=w.next())b=p(E,b.value,A),b!==null&&(_=i(b,_,v),M===null?L=b:M.sibling=b,M=b);return je&&gs(E,v),L}for(S=r(E,S);!b.done;v++,b=w.next())b=T(S,E,v,b.value,A),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?v:b.key),_=i(b,_,v),M===null?L=b:M.sibling=b,M=b);return t&&S.forEach(function(D){return e(E,D)}),je&&gs(E,v),L}function k(E,_,w,A){if(typeof w=="object"&&w!==null&&w.type===pi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ul:e:{for(var L=w.key,M=_;M!==null;){if(M.key===L){if(L=w.type,L===pi){if(M.tag===7){n(E,M.sibling),_=s(M,w.props.children),_.return=E,E=_;break e}}else if(M.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===br&&Nv(L)===M.type){n(E,M.sibling),_=s(M,w.props),_.ref=No(E,M,w),_.return=E,E=_;break e}n(E,M);break}else e(E,M);M=M.sibling}w.type===pi?(_=Cs(w.props.children,E.mode,A,w.key),_.return=E,E=_):(A=Ru(w.type,w.key,w.props,null,E.mode,A),A.ref=No(E,_,w),A.return=E,E=A)}return o(E);case fi:e:{for(M=w.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(E,_.sibling),_=s(_,w.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=Ih(w,E.mode,A),_.return=E,E=_}return o(E);case br:return M=w._init,k(E,_,M(w._payload),A)}if(Uo(w))return R(E,_,w,A);if(Co(w))return x(E,_,w,A);Xl(E,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(E,_.sibling),_=s(_,w),_.return=E,E=_):(n(E,_),_=xh(w,E.mode,A),_.return=E,E=_),o(E)):n(E,_)}return k}var Ui=ME(!0),LE=ME(!1),ac=ns(null),lc=null,Ti=null,sm=null;function im(){sm=Ti=lc=null}function om(t){var e=ac.current;Le(ac),t._currentValue=e}function Df(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ai(t,e){lc=t,sm=Ti=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(sm!==t)if(t={context:t,memoizedValue:e,next:null},Ti===null){if(lc===null)throw Error($(308));Ti=t,lc.dependencies={lanes:0,firstContext:t}}else Ti=Ti.next=t;return e}var Es=null;function am(t){Es===null?Es=[t]:Es.push(t)}function jE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,am(e)):(n.next=s.next,s.next=n),e.interleaved=n,hr(t,r)}function hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ar=!1;function lm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,hr(t,n)}return s=r.interleaved,s===null?(e.next=e,am(r)):(e.next=s.next,s.next=e),r.interleaved=e,hr(t,n)}function Tu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kp(t,n)}}function Dv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function uc(t,e,n,r){var s=t.updateQueue;Ar=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,h=c=u=null,a=i;do{var g=a.lane,T=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:T,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var R=t,x=a;switch(g=e,T=n,x.tag){case 1:if(R=x.payload,typeof R=="function"){p=R.call(T,p,g);break e}p=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=x.payload,g=typeof R=="function"?R.call(T,p,g):R,g==null)break e;p=Be({},p,g);break e;case 2:Ar=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else T={eventTime:T,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=T,u=p):h=h.next=T,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ns|=o,t.lanes=o,t.memoizedState=p}}function Ov(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var Ja={},Vn=ns(Ja),ka=ns(Ja),Ca=ns(Ja);function Ts(t){if(t===Ja)throw Error($(174));return t}function um(t,e){switch(Pe(Ca,e),Pe(ka,t),Pe(Vn,Ja),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ff(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ff(e,t)}Le(Vn),Pe(Vn,e)}function $i(){Le(Vn),Le(ka),Le(Ca)}function FE(t){Ts(Ca.current);var e=Ts(Vn.current),n=ff(e,t.type);e!==n&&(Pe(ka,t),Pe(Vn,n))}function cm(t){ka.current===t&&(Le(Vn),Le(ka))}var Ve=ns(0);function cc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yh=[];function dm(){for(var t=0;t<yh.length;t++)yh[t]._workInProgressVersionPrimary=null;yh.length=0}var xu=_r.ReactCurrentDispatcher,vh=_r.ReactCurrentBatchConfig,Ps=0,Ue=null,nt=null,ot=null,dc=!1,na=!1,Ra=0,_b=0;function Et(){throw Error($(321))}function hm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kn(t[n],e[n]))return!1;return!0}function fm(t,e,n,r,s,i){if(Ps=i,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xu.current=t===null||t.memoizedState===null?xb:Ib,t=n(r,s),na){i=0;do{if(na=!1,Ra=0,25<=i)throw Error($(301));i+=1,ot=nt=null,e.updateQueue=null,xu.current=Sb,t=n(r,s)}while(na)}if(xu.current=hc,e=nt!==null&&nt.next!==null,Ps=0,ot=nt=Ue=null,dc=!1,e)throw Error($(300));return t}function pm(){var t=Ra!==0;return Ra=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ue.memoizedState=ot=t:ot=ot.next=t,ot}function fn(){if(nt===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=ot===null?Ue.memoizedState:ot.next;if(e!==null)ot=e,nt=t;else{if(t===null)throw Error($(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ot===null?Ue.memoizedState=ot=t:ot=ot.next=t}return ot}function ba(t,e){return typeof e=="function"?e(t):e}function _h(t){var e=fn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=nt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var h=c.lane;if((Ps&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,Ue.lanes|=h,Ns|=h}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,kn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ue.lanes|=i,Ns|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wh(t){var e=fn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);kn(i,e.memoizedState)||(Bt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function UE(){}function $E(t,e){var n=Ue,r=fn(),s=e(),i=!kn(r.memoizedState,s);if(i&&(r.memoizedState=s,Bt=!0),r=r.queue,mm(WE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Aa(9,BE.bind(null,n,r,s,e),void 0,null),at===null)throw Error($(349));Ps&30||zE(n,e,s)}return s}function zE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BE(t,e,n,r){e.value=n,e.getSnapshot=r,HE(e)&&qE(t)}function WE(t,e,n){return n(function(){HE(e)&&qE(t)})}function HE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kn(t,n)}catch{return!0}}function qE(t){var e=hr(t,1);e!==null&&In(e,t,1,-1)}function Mv(t){var e=On();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:t},e.queue=t,t=t.dispatch=Tb.bind(null,Ue,t),[e.memoizedState,t]}function Aa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function KE(){return fn().memoizedState}function Iu(t,e,n,r){var s=On();Ue.flags|=t,s.memoizedState=Aa(1|e,n,void 0,r===void 0?null:r)}function qc(t,e,n,r){var s=fn();r=r===void 0?null:r;var i=void 0;if(nt!==null){var o=nt.memoizedState;if(i=o.destroy,r!==null&&hm(r,o.deps)){s.memoizedState=Aa(e,n,i,r);return}}Ue.flags|=t,s.memoizedState=Aa(1|e,n,i,r)}function Lv(t,e){return Iu(8390656,8,t,e)}function mm(t,e){return qc(2048,8,t,e)}function GE(t,e){return qc(4,2,t,e)}function QE(t,e){return qc(4,4,t,e)}function YE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function XE(t,e,n){return n=n!=null?n.concat([t]):null,qc(4,4,YE.bind(null,e,t),n)}function gm(){}function JE(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZE(t,e){var n=fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eT(t,e,n){return Ps&21?(kn(n,e)||(n=iE(),Ue.lanes|=n,Ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function wb(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=vh.transition;vh.transition={};try{t(!1),e()}finally{Ie=n,vh.transition=r}}function tT(){return fn().memoizedState}function Eb(t,e,n){var r=Hr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nT(t))rT(e,n);else if(n=jE(t,e,n,r),n!==null){var s=Mt();In(n,t,r,s),sT(n,e,r)}}function Tb(t,e,n){var r=Hr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nT(t))rT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,kn(a,o)){var u=e.interleaved;u===null?(s.next=s,am(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=jE(t,e,s,r),n!==null&&(s=Mt(),In(n,t,r,s),sT(n,e,r))}}function nT(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function rT(t,e){na=dc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kp(t,n)}}var hc={readContext:hn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},xb={readContext:hn,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:Lv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Iu(4194308,4,YE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Iu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Iu(4,2,t,e)},useMemo:function(t,e){var n=On();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=On();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Eb.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:Mv,useDebugValue:gm,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=Mv(!1),e=t[0];return t=wb.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,s=On();if(je){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),at===null)throw Error($(349));Ps&30||zE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Lv(WE.bind(null,r,i,t),[t]),r.flags|=2048,Aa(9,BE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=On(),e=at.identifierPrefix;if(je){var n=nr,r=tr;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ra++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_b++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ib={readContext:hn,useCallback:JE,useContext:hn,useEffect:mm,useImperativeHandle:XE,useInsertionEffect:GE,useLayoutEffect:QE,useMemo:ZE,useReducer:_h,useRef:KE,useState:function(){return _h(ba)},useDebugValue:gm,useDeferredValue:function(t){var e=fn();return eT(e,nt.memoizedState,t)},useTransition:function(){var t=_h(ba)[0],e=fn().memoizedState;return[t,e]},useMutableSource:UE,useSyncExternalStore:$E,useId:tT,unstable_isNewReconciler:!1},Sb={readContext:hn,useCallback:JE,useContext:hn,useEffect:mm,useImperativeHandle:XE,useInsertionEffect:GE,useLayoutEffect:QE,useMemo:ZE,useReducer:wh,useRef:KE,useState:function(){return wh(ba)},useDebugValue:gm,useDeferredValue:function(t){var e=fn();return nt===null?e.memoizedState=t:eT(e,nt.memoizedState,t)},useTransition:function(){var t=wh(ba)[0],e=fn().memoizedState;return[t,e]},useMutableSource:UE,useSyncExternalStore:$E,useId:tT,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Of(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kc={isMounted:function(t){return(t=t._reactInternals)?Hs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),s=Hr(t),i=or(r,s);i.payload=e,n!=null&&(i.callback=n),e=Br(t,i,s),e!==null&&(In(e,t,s,r),Tu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),s=Hr(t),i=or(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Br(t,i,s),e!==null&&(In(e,t,s,r),Tu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=Hr(t),s=or(n,r);s.tag=2,e!=null&&(s.callback=e),e=Br(t,s,r),e!==null&&(In(e,t,r,n),Tu(e,t,r))}};function jv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ta(n,r)||!Ta(s,i):!0}function iT(t,e,n){var r=!1,s=Xr,i=e.contextType;return typeof i=="object"&&i!==null?i=hn(i):(s=Ht(e)?bs:Ct.current,r=e.contextTypes,i=(r=r!=null)?Vi(t,s):Xr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Vv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kc.enqueueReplaceState(e,e.state,null)}function Mf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},lm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=hn(i):(i=Ht(e)?bs:Ct.current,s.context=Vi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Of(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Kc.enqueueReplaceState(s,s.state,null),uc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zi(t,e){try{var n="",r=e;do n+=ZC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Eh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kb=typeof WeakMap=="function"?WeakMap:Map;function oT(t,e,n){n=or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pc||(pc=!0,qf=r),Lf(t,e)},n}function aT(t,e,n){n=or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Lf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Lf(t,e),typeof r!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Fv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kb;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Ub.bind(null,t,e,n),e.then(t,t))}function Uv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $v(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=or(-1,1),e.tag=2,Br(n,e,1))),n.lanes|=1),t)}var Cb=_r.ReactCurrentOwner,Bt=!1;function Nt(t,e,n,r){e.child=t===null?LE(e,null,n,r):Ui(e,t.child,n,r)}function zv(t,e,n,r,s){n=n.render;var i=e.ref;return Ai(e,s),r=fm(t,e,n,r,i,s),n=pm(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fr(t,e,s)):(je&&n&&tm(e),e.flags|=1,Nt(t,e,r,s),e.child)}function Bv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Im(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,lT(t,e,i,r,s)):(t=Ru(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ta,n(o,r)&&t.ref===e.ref)return fr(t,e,s)}return e.flags|=1,t=qr(i,r),t.ref=e.ref,t.return=e,e.child=t}function lT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ta(i,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,fr(t,e,s)}return jf(t,e,n,r,s)}function uT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Ii,Yt),Yt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(Ii,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Pe(Ii,Yt),Yt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Pe(Ii,Yt),Yt|=r;return Nt(t,e,s,n),e.child}function cT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jf(t,e,n,r,s){var i=Ht(n)?bs:Ct.current;return i=Vi(e,i),Ai(e,s),n=fm(t,e,n,r,i,s),r=pm(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,fr(t,e,s)):(je&&r&&tm(e),e.flags|=1,Nt(t,e,n,s),e.child)}function Wv(t,e,n,r,s){if(Ht(n)){var i=!0;sc(e)}else i=!1;if(Ai(e,s),e.stateNode===null)Su(t,e),iT(e,n,r),Mf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=hn(c):(c=Ht(n)?bs:Ct.current,c=Vi(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Vv(e,o,r,c),Ar=!1;var g=e.memoizedState;o.state=g,uc(e,r,o,s),u=e.memoizedState,a!==r||g!==u||Wt.current||Ar?(typeof h=="function"&&(Of(e,n,h,r),u=e.memoizedState),(a=Ar||jv(e,n,a,r,g,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,VE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:_n(e.type,a),o.props=c,p=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=hn(u):(u=Ht(n)?bs:Ct.current,u=Vi(e,u));var T=n.getDerivedStateFromProps;(h=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==u)&&Vv(e,o,r,u),Ar=!1,g=e.memoizedState,o.state=g,uc(e,r,o,s);var R=e.memoizedState;a!==p||g!==R||Wt.current||Ar?(typeof T=="function"&&(Of(e,n,T,r),R=e.memoizedState),(c=Ar||jv(e,n,c,r,g,R,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,R,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,R,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),o.props=r,o.state=R,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Vf(t,e,n,r,i,s)}function Vf(t,e,n,r,s,i){cT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&bv(e,n,!1),fr(t,e,i);r=e.stateNode,Cb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ui(e,t.child,null,i),e.child=Ui(e,null,a,i)):Nt(t,e,a,i),e.memoizedState=r.state,s&&bv(e,n,!0),e.child}function dT(t){var e=t.stateNode;e.pendingContext?Rv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rv(t,e.context,!1),um(t,e.containerInfo)}function Hv(t,e,n,r,s){return Fi(),rm(s),e.flags|=256,Nt(t,e,n,r),e.child}var Ff={dehydrated:null,treeContext:null,retryLane:0};function Uf(t){return{baseLanes:t,cachePool:null,transitions:null}}function hT(t,e,n){var r=e.pendingProps,s=Ve.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Pe(Ve,s&1),t===null)return Nf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Yc(o,r,0,null),t=Cs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Uf(n),e.memoizedState=Ff,t):ym(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Rb(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=qr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=qr(a,i):(i=Cs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Uf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ff,r}return i=t.child,t=i.sibling,r=qr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ym(t,e){return e=Yc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jl(t,e,n,r){return r!==null&&rm(r),Ui(e,t.child,null,n),t=ym(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rb(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Eh(Error($(422))),Jl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Yc({mode:"visible",children:r.children},s,0,null),i=Cs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ui(e,t.child,null,o),e.child.memoizedState=Uf(o),e.memoizedState=Ff,i);if(!(e.mode&1))return Jl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=Eh(i,r,void 0),Jl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Bt||a){if(r=at,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hr(t,s),In(r,t,s,-1))}return xm(),r=Eh(Error($(421))),Jl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=$b.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Xt=zr(s.nextSibling),tn=e,je=!0,En=null,t!==null&&(an[ln++]=tr,an[ln++]=nr,an[ln++]=As,tr=t.id,nr=t.overflow,As=e),e=ym(e,r.children),e.flags|=4096,e)}function qv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Df(t.return,e,n)}function Th(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function fT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Nt(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qv(t,n,e);else if(t.tag===19)qv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&cc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Th(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&cc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Th(e,!0,n,null,i);break;case"together":Th(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Su(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=qr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bb(t,e,n){switch(e.tag){case 3:dT(e),Fi();break;case 5:FE(e);break;case 1:Ht(e.type)&&sc(e);break;case 4:um(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Pe(ac,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?hT(t,e,n):(Pe(Ve,Ve.current&1),t=fr(t,e,n),t!==null?t.sibling:null);Pe(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pe(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,uT(t,e,n)}return fr(t,e,n)}var pT,$f,mT,gT;pT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$f=function(){};mT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ts(Vn.current);var i=null;switch(n){case"input":s=uf(t,s),r=uf(t,r),i=[];break;case"select":s=Be({},s,{value:void 0}),r=Be({},r,{value:void 0}),i=[];break;case"textarea":s=hf(t,s),r=hf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nc)}pf(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ma.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ma.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Oe("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};gT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Do(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ab(t,e,n){var r=e.pendingProps;switch(nm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Ht(e.type)&&rc(),Tt(e),null;case 3:return r=e.stateNode,$i(),Le(Wt),Le(Ct),dm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(Qf(En),En=null))),$f(t,e),Tt(e),null;case 5:cm(e);var s=Ts(Ca.current);if(n=e.type,t!==null&&e.stateNode!=null)mT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Tt(e),null}if(t=Ts(Vn.current),Yl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Mn]=e,r[Sa]=i,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(s=0;s<zo.length;s++)Oe(zo[s],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":tv(r,i),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Oe("invalid",r);break;case"textarea":rv(r,i),Oe("invalid",r)}pf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ql(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ql(r.textContent,a,t),s=["children",""+a]):ma.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":$l(r),nv(r,i,!0);break;case"textarea":$l(r),sv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=nc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=W0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mn]=e,t[Sa]=r,pT(t,e,!1,!1),e.stateNode=t;e:{switch(o=mf(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),s=r;break;case"iframe":case"object":case"embed":Oe("load",t),s=r;break;case"video":case"audio":for(s=0;s<zo.length;s++)Oe(zo[s],t);s=r;break;case"source":Oe("error",t),s=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),s=r;break;case"details":Oe("toggle",t),s=r;break;case"input":tv(t,r),s=uf(t,r),Oe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Be({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":rv(t,r),s=hf(t,r),Oe("invalid",t);break;default:s=r}pf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?K0(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&H0(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ga(t,u):typeof u=="number"&&ga(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ma.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Oe("scroll",t):u!=null&&$p(t,i,u,o))}switch(n){case"input":$l(t),nv(t,r,!1);break;case"textarea":$l(t),sv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ki(t,!!r.multiple,i,!1):r.defaultValue!=null&&ki(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=nc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)gT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Ts(Ca.current),Ts(Vn.current),Yl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mn]=e,(i=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:Ql(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ql(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mn]=e,e.stateNode=r}return Tt(e),null;case 13:if(Le(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&Xt!==null&&e.mode&1&&!(e.flags&128))OE(),Fi(),e.flags|=98560,i=!1;else if(i=Yl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Mn]=e}else Fi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),i=!1}else En!==null&&(Qf(En),En=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?rt===0&&(rt=3):xm())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return $i(),$f(t,e),t===null&&xa(e.stateNode.containerInfo),Tt(e),null;case 10:return om(e.type._context),Tt(e),null;case 17:return Ht(e.type)&&rc(),Tt(e),null;case 19:if(Le(Ve),i=e.memoizedState,i===null)return Tt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Do(i,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cc(t),o!==null){for(e.flags|=128,Do(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Ve,Ve.current&1|2),e.child}t=t.sibling}i.tail!==null&&Qe()>Bi&&(e.flags|=128,r=!0,Do(i,!1),e.lanes=4194304)}else{if(!r)if(t=cc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Do(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!je)return Tt(e),null}else 2*Qe()-i.renderingStartTime>Bi&&n!==1073741824&&(e.flags|=128,r=!0,Do(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Qe(),e.sibling=null,n=Ve.current,Pe(Ve,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return Tm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function Pb(t,e){switch(nm(e),e.tag){case 1:return Ht(e.type)&&rc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $i(),Le(Wt),Le(Ct),dm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cm(e),null;case 13:if(Le(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Fi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Ve),null;case 4:return $i(),null;case 10:return om(e.type._context),null;case 22:case 23:return Tm(),null;case 24:return null;default:return null}}var Zl=!1,St=!1,Nb=typeof WeakSet=="function"?WeakSet:Set,H=null;function xi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function zf(t,e,n){try{n()}catch(r){qe(t,e,r)}}var Kv=!1;function Db(t,e){if(Sf=Zu,t=EE(),em(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,p=t,g=null;t:for(;;){for(var T;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(T=p.firstChild)!==null;)g=p,p=T;for(;;){if(p===t)break t;if(g===n&&++c===s&&(a=o),g===i&&++h===r&&(u=o),(T=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=T}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(kf={focusedElem:t,selectionRange:n},Zu=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var x=R.memoizedProps,k=R.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?x:_n(e.type,x),k);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(A){qe(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return R=Kv,Kv=!1,R}function ra(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&zf(e,n,i)}s=s.next}while(s!==r)}}function Gc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yT(t){var e=t.alternate;e!==null&&(t.alternate=null,yT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mn],delete e[Sa],delete e[bf],delete e[mb],delete e[gb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vT(t){return t.tag===5||t.tag===3||t.tag===4}function Gv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nc));else if(r!==4&&(t=t.child,t!==null))for(Wf(t,e,n),t=t.sibling;t!==null;)Wf(t,e,n),t=t.sibling}function Hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hf(t,e,n),t=t.sibling;t!==null;)Hf(t,e,n),t=t.sibling}var ut=null,wn=!1;function Sr(t,e,n){for(n=n.child;n!==null;)_T(t,e,n),n=n.sibling}function _T(t,e,n){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Uc,n)}catch{}switch(n.tag){case 5:St||xi(n,e);case 6:var r=ut,s=wn;ut=null,Sr(t,e,n),ut=r,wn=s,ut!==null&&(wn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(wn?(t=ut,n=n.stateNode,t.nodeType===8?mh(t.parentNode,n):t.nodeType===1&&mh(t,n),wa(t)):mh(ut,n.stateNode));break;case 4:r=ut,s=wn,ut=n.stateNode.containerInfo,wn=!0,Sr(t,e,n),ut=r,wn=s;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zf(n,e,o),s=s.next}while(s!==r)}Sr(t,e,n);break;case 1:if(!St&&(xi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,e,a)}Sr(t,e,n);break;case 21:Sr(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,Sr(t,e,n),St=r):Sr(t,e,n);break;default:Sr(t,e,n)}}function Qv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Nb),e.forEach(function(r){var s=zb.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,wn=!1;break e;case 3:ut=a.stateNode.containerInfo,wn=!0;break e;case 4:ut=a.stateNode.containerInfo,wn=!0;break e}a=a.return}if(ut===null)throw Error($(160));_T(i,o,s),ut=null,wn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){qe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wT(e,t),e=e.sibling}function wT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vn(e,t),Dn(t),r&4){try{ra(3,t,t.return),Gc(3,t)}catch(x){qe(t,t.return,x)}try{ra(5,t,t.return)}catch(x){qe(t,t.return,x)}}break;case 1:vn(e,t),Dn(t),r&512&&n!==null&&xi(n,n.return);break;case 5:if(vn(e,t),Dn(t),r&512&&n!==null&&xi(n,n.return),t.flags&32){var s=t.stateNode;try{ga(s,"")}catch(x){qe(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&z0(s,i),mf(a,o);var c=mf(a,i);for(o=0;o<u.length;o+=2){var h=u[o],p=u[o+1];h==="style"?K0(s,p):h==="dangerouslySetInnerHTML"?H0(s,p):h==="children"?ga(s,p):$p(s,h,p,c)}switch(a){case"input":cf(s,i);break;case"textarea":B0(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var T=i.value;T!=null?ki(s,!!i.multiple,T,!1):g!==!!i.multiple&&(i.defaultValue!=null?ki(s,!!i.multiple,i.defaultValue,!0):ki(s,!!i.multiple,i.multiple?[]:"",!1))}s[Sa]=i}catch(x){qe(t,t.return,x)}}break;case 6:if(vn(e,t),Dn(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){qe(t,t.return,x)}}break;case 3:if(vn(e,t),Dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wa(e.containerInfo)}catch(x){qe(t,t.return,x)}break;case 4:vn(e,t),Dn(t);break;case 13:vn(e,t),Dn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wm=Qe())),r&4&&Qv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(St=(c=St)||h,vn(e,t),St=c):vn(e,t),Dn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(p=H=h;H!==null;){switch(g=H,T=g.child,g.tag){case 0:case 11:case 14:case 15:ra(4,g,g.return);break;case 1:xi(g,g.return);var R=g.stateNode;if(typeof R.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(x){qe(r,n,x)}}break;case 5:xi(g,g.return);break;case 22:if(g.memoizedState!==null){Xv(p);continue}}T!==null?(T.return=g,H=T):Xv(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=q0("display",o))}catch(x){qe(t,t.return,x)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(x){qe(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vn(e,t),Dn(t),r&4&&Qv(t);break;case 21:break;default:vn(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vT(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ga(s,""),r.flags&=-33);var i=Gv(t);Hf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Gv(t);Wf(t,a,o);break;default:throw Error($(161))}}catch(u){qe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ob(t,e,n){H=t,ET(t)}function ET(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zl;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||St;a=Zl;var c=St;if(Zl=o,(St=u)&&!c)for(H=s;H!==null;)o=H,u=o.child,o.tag===22&&o.memoizedState!==null?Jv(s):u!==null?(u.return=o,H=u):Jv(s);for(;i!==null;)H=i,ET(i),i=i.sibling;H=s,Zl=a,St=c}Yv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):Yv(t)}}function Yv(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||Gc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ov(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ov(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&wa(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}St||e.flags&512&&Bf(e)}catch(g){qe(e,e.return,g)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Xv(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Jv(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gc(4,e)}catch(u){qe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){qe(e,s,u)}}var i=e.return;try{Bf(e)}catch(u){qe(e,i,u)}break;case 5:var o=e.return;try{Bf(e)}catch(u){qe(e,o,u)}}}catch(u){qe(e,e.return,u)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var Mb=Math.ceil,fc=_r.ReactCurrentDispatcher,vm=_r.ReactCurrentOwner,cn=_r.ReactCurrentBatchConfig,me=0,at=null,Je=null,ft=0,Yt=0,Ii=ns(0),rt=0,Pa=null,Ns=0,Qc=0,_m=0,sa=null,Ut=null,wm=0,Bi=1/0,Jn=null,pc=!1,qf=null,Wr=null,eu=!1,jr=null,mc=0,ia=0,Kf=null,ku=-1,Cu=0;function Mt(){return me&6?Qe():ku!==-1?ku:ku=Qe()}function Hr(t){return t.mode&1?me&2&&ft!==0?ft&-ft:vb.transition!==null?(Cu===0&&(Cu=iE()),Cu):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:hE(t.type)),t):1}function In(t,e,n,r){if(50<ia)throw ia=0,Kf=null,Error($(185));Qa(t,n,r),(!(me&2)||t!==at)&&(t===at&&(!(me&2)&&(Qc|=n),rt===4&&Nr(t,ft)),qt(t,r),n===1&&me===0&&!(e.mode&1)&&(Bi=Qe()+500,Hc&&rs()))}function qt(t,e){var n=t.callbackNode;vR(t,e);var r=Ju(t,t===at?ft:0);if(r===0)n!==null&&av(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&av(n),e===1)t.tag===0?yb(Zv.bind(null,t)):PE(Zv.bind(null,t)),fb(function(){!(me&6)&&rs()}),n=null;else{switch(oE(r)){case 1:n=qp;break;case 4:n=rE;break;case 16:n=Xu;break;case 536870912:n=sE;break;default:n=Xu}n=bT(n,TT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TT(t,e){if(ku=-1,Cu=0,me&6)throw Error($(327));var n=t.callbackNode;if(Pi()&&t.callbackNode!==n)return null;var r=Ju(t,t===at?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gc(t,r);else{e=r;var s=me;me|=2;var i=IT();(at!==t||ft!==e)&&(Jn=null,Bi=Qe()+500,ks(t,e));do try{Vb();break}catch(a){xT(t,a)}while(!0);im(),fc.current=i,me=s,Je!==null?e=0:(at=null,ft=0,e=rt)}if(e!==0){if(e===2&&(s=wf(t),s!==0&&(r=s,e=Gf(t,s))),e===1)throw n=Pa,ks(t,0),Nr(t,r),qt(t,Qe()),n;if(e===6)Nr(t,r);else{if(s=t.current.alternate,!(r&30)&&!Lb(s)&&(e=gc(t,r),e===2&&(i=wf(t),i!==0&&(r=i,e=Gf(t,i))),e===1))throw n=Pa,ks(t,0),Nr(t,r),qt(t,Qe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:ys(t,Ut,Jn);break;case 3:if(Nr(t,r),(r&130023424)===r&&(e=wm+500-Qe(),10<e)){if(Ju(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Rf(ys.bind(null,t,Ut,Jn),e);break}ys(t,Ut,Jn);break;case 4:if(Nr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-xn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mb(r/1960))-r,10<r){t.timeoutHandle=Rf(ys.bind(null,t,Ut,Jn),r);break}ys(t,Ut,Jn);break;case 5:ys(t,Ut,Jn);break;default:throw Error($(329))}}}return qt(t,Qe()),t.callbackNode===n?TT.bind(null,t):null}function Gf(t,e){var n=sa;return t.current.memoizedState.isDehydrated&&(ks(t,e).flags|=256),t=gc(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&Qf(e)),t}function Qf(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function Lb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!kn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nr(t,e){for(e&=~_m,e&=~Qc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xn(e),r=1<<n;t[n]=-1,e&=~r}}function Zv(t){if(me&6)throw Error($(327));Pi();var e=Ju(t,0);if(!(e&1))return qt(t,Qe()),null;var n=gc(t,e);if(t.tag!==0&&n===2){var r=wf(t);r!==0&&(e=r,n=Gf(t,r))}if(n===1)throw n=Pa,ks(t,0),Nr(t,e),qt(t,Qe()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ys(t,Ut,Jn),qt(t,Qe()),null}function Em(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(Bi=Qe()+500,Hc&&rs())}}function Ds(t){jr!==null&&jr.tag===0&&!(me&6)&&Pi();var e=me;me|=1;var n=cn.transition,r=Ie;try{if(cn.transition=null,Ie=1,t)return t()}finally{Ie=r,cn.transition=n,me=e,!(me&6)&&rs()}}function Tm(){Yt=Ii.current,Le(Ii)}function ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hb(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(nm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rc();break;case 3:$i(),Le(Wt),Le(Ct),dm();break;case 5:cm(r);break;case 4:$i();break;case 13:Le(Ve);break;case 19:Le(Ve);break;case 10:om(r.type._context);break;case 22:case 23:Tm()}n=n.return}if(at=t,Je=t=qr(t.current,null),ft=Yt=e,rt=0,Pa=null,_m=Qc=Ns=0,Ut=sa=null,Es!==null){for(e=0;e<Es.length;e++)if(n=Es[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Es=null}return t}function xT(t,e){do{var n=Je;try{if(im(),xu.current=hc,dc){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}dc=!1}if(Ps=0,ot=nt=Ue=null,na=!1,Ra=0,vm.current=null,n===null||n.return===null){rt=1,Pa=e,Je=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=ft,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var T=Uv(o);if(T!==null){T.flags&=-257,$v(T,o,a,i,e),T.mode&1&&Fv(i,c,e),e=T,u=c;var R=e.updateQueue;if(R===null){var x=new Set;x.add(u),e.updateQueue=x}else R.add(u);break e}else{if(!(e&1)){Fv(i,c,e),xm();break e}u=Error($(426))}}else if(je&&a.mode&1){var k=Uv(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),$v(k,o,a,i,e),rm(zi(u,a));break e}}i=u=zi(u,a),rt!==4&&(rt=2),sa===null?sa=[i]:sa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=oT(i,u,e);Dv(i,E);break e;case 1:a=u;var _=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Wr===null||!Wr.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=aT(i,a,e);Dv(i,A);break e}}i=i.return}while(i!==null)}kT(n)}catch(L){e=L,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function IT(){var t=fc.current;return fc.current=hc,t===null?hc:t}function xm(){(rt===0||rt===3||rt===2)&&(rt=4),at===null||!(Ns&268435455)&&!(Qc&268435455)||Nr(at,ft)}function gc(t,e){var n=me;me|=2;var r=IT();(at!==t||ft!==e)&&(Jn=null,ks(t,e));do try{jb();break}catch(s){xT(t,s)}while(!0);if(im(),me=n,fc.current=r,Je!==null)throw Error($(261));return at=null,ft=0,rt}function jb(){for(;Je!==null;)ST(Je)}function Vb(){for(;Je!==null&&!uR();)ST(Je)}function ST(t){var e=RT(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?kT(t):Je=e,vm.current=null}function kT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Pb(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Je=null;return}}else if(n=Ab(n,e,Yt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);rt===0&&(rt=5)}function ys(t,e,n){var r=Ie,s=cn.transition;try{cn.transition=null,Ie=1,Fb(t,e,n,r)}finally{cn.transition=s,Ie=r}return null}function Fb(t,e,n,r){do Pi();while(jr!==null);if(me&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(_R(t,i),t===at&&(Je=at=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||eu||(eu=!0,bT(Xu,function(){return Pi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=cn.transition,cn.transition=null;var o=Ie;Ie=1;var a=me;me|=4,vm.current=null,Db(t,n),wT(n,t),ib(kf),Zu=!!Sf,kf=Sf=null,t.current=n,Ob(n),cR(),me=a,Ie=o,cn.transition=i}else t.current=n;if(eu&&(eu=!1,jr=t,mc=s),i=t.pendingLanes,i===0&&(Wr=null),fR(n.stateNode),qt(t,Qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(pc)throw pc=!1,t=qf,qf=null,t;return mc&1&&t.tag!==0&&Pi(),i=t.pendingLanes,i&1?t===Kf?ia++:(ia=0,Kf=t):ia=0,rs(),null}function Pi(){if(jr!==null){var t=oE(mc),e=cn.transition,n=Ie;try{if(cn.transition=null,Ie=16>t?16:t,jr===null)var r=!1;else{if(t=jr,jr=null,mc=0,me&6)throw Error($(331));var s=me;for(me|=4,H=t.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(H=c;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:ra(8,h,i)}var p=h.child;if(p!==null)p.return=h,H=p;else for(;H!==null;){h=H;var g=h.sibling,T=h.return;if(yT(h),h===c){H=null;break}if(g!==null){g.return=T,H=g;break}H=T}}}var R=i.alternate;if(R!==null){var x=R.child;if(x!==null){R.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ra(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,H=E;break e}H=i.return}}var _=t.current;for(H=_;H!==null;){o=H;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,H=w;else e:for(o=_;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gc(9,a)}}catch(L){qe(a,a.return,L)}if(a===o){H=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,H=A;break e}H=a.return}}if(me=s,rs(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Uc,t)}catch{}r=!0}return r}finally{Ie=n,cn.transition=e}}return!1}function e_(t,e,n){e=zi(n,e),e=oT(t,e,1),t=Br(t,e,1),e=Mt(),t!==null&&(Qa(t,1,e),qt(t,e))}function qe(t,e,n){if(t.tag===3)e_(t,t,n);else for(;e!==null;){if(e.tag===3){e_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wr===null||!Wr.has(r))){t=zi(n,t),t=aT(e,t,1),e=Br(e,t,1),t=Mt(),e!==null&&(Qa(e,1,t),qt(e,t));break}}e=e.return}}function Ub(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(ft&n)===n&&(rt===4||rt===3&&(ft&130023424)===ft&&500>Qe()-wm?ks(t,0):_m|=n),qt(t,e)}function CT(t,e){e===0&&(t.mode&1?(e=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):e=1);var n=Mt();t=hr(t,e),t!==null&&(Qa(t,e,n),qt(t,n))}function $b(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CT(t,n)}function zb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),CT(t,n)}var RT;RT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,bb(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,je&&e.flags&1048576&&NE(e,oc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Su(t,e),t=e.pendingProps;var s=Vi(e,Ct.current);Ai(e,n),s=fm(null,e,r,t,s,n);var i=pm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(i=!0,sc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lm(e),s.updater=Kc,e.stateNode=s,s._reactInternals=e,Mf(e,r,t,n),e=Vf(null,e,r,!0,i,n)):(e.tag=0,je&&i&&tm(e),Nt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Su(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Wb(r),t=_n(r,t),s){case 0:e=jf(null,e,r,t,n);break e;case 1:e=Wv(null,e,r,t,n);break e;case 11:e=zv(null,e,r,t,n);break e;case 14:e=Bv(null,e,r,_n(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),jf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),Wv(t,e,r,s,n);case 3:e:{if(dT(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,VE(t,e),uc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zi(Error($(423)),e),e=Hv(t,e,r,n,s);break e}else if(r!==s){s=zi(Error($(424)),e),e=Hv(t,e,r,n,s);break e}else for(Xt=zr(e.stateNode.containerInfo.firstChild),tn=e,je=!0,En=null,n=LE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fi(),r===s){e=fr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return FE(e),t===null&&Nf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Cf(r,s)?o=null:i!==null&&Cf(r,i)&&(e.flags|=32),cT(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&Nf(e),null;case 13:return hT(t,e,n);case 4:return um(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ui(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),zv(t,e,r,s,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Pe(ac,r._currentValue),r._currentValue=o,i!==null)if(kn(i.value,o)){if(i.children===s.children&&!Wt.current){e=fr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=or(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Df(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Df(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ai(e,n),s=hn(s),r=r(s),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,s=_n(r,e.pendingProps),s=_n(r.type,s),Bv(t,e,r,s,n);case 15:return lT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:_n(r,s),Su(t,e),e.tag=1,Ht(r)?(t=!0,sc(e)):t=!1,Ai(e,n),iT(e,r,s),Mf(e,r,s,n),Vf(null,e,r,!0,t,n);case 19:return fT(t,e,n);case 22:return uT(t,e,n)}throw Error($(156,e.tag))};function bT(t,e){return nE(t,e)}function Bb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,e,n,r){return new Bb(t,e,n,r)}function Im(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wb(t){if(typeof t=="function")return Im(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bp)return 11;if(t===Wp)return 14}return 2}function qr(t,e){var n=t.alternate;return n===null?(n=un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ru(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Im(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pi:return Cs(n.children,s,i,e);case zp:o=8,s|=8;break;case sf:return t=un(12,n,e,s|2),t.elementType=sf,t.lanes=i,t;case of:return t=un(13,n,e,s),t.elementType=of,t.lanes=i,t;case af:return t=un(19,n,e,s),t.elementType=af,t.lanes=i,t;case F0:return Yc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j0:o=10;break e;case V0:o=9;break e;case Bp:o=11;break e;case Wp:o=14;break e;case br:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=un(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Cs(t,e,n,r){return t=un(7,t,r,e),t.lanes=n,t}function Yc(t,e,n,r){return t=un(22,t,r,e),t.elementType=F0,t.lanes=n,t.stateNode={isHidden:!1},t}function xh(t,e,n){return t=un(6,t,null,e),t.lanes=n,t}function Ih(t,e,n){return e=un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hb(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sh(0),this.expirationTimes=sh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Sm(t,e,n,r,s,i,o,a,u){return t=new Hb(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=un(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lm(i),t}function qb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AT(t){if(!t)return Xr;t=t._reactInternals;e:{if(Hs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Ht(n))return AE(t,n,e)}return e}function PT(t,e,n,r,s,i,o,a,u){return t=Sm(n,r,!0,t,s,i,o,a,u),t.context=AT(null),n=t.current,r=Mt(),s=Hr(n),i=or(r,s),i.callback=e??null,Br(n,i,s),t.current.lanes=s,Qa(t,s,r),qt(t,r),t}function Xc(t,e,n,r){var s=e.current,i=Mt(),o=Hr(s);return n=AT(n),e.context===null?e.context=n:e.pendingContext=n,e=or(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Br(s,e,o),t!==null&&(In(t,s,o,i),Tu(t,s,o)),o}function yc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function km(t,e){t_(t,e),(t=t.alternate)&&t_(t,e)}function Kb(){return null}var NT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cm(t){this._internalRoot=t}Jc.prototype.render=Cm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Xc(t,e,null,null)};Jc.prototype.unmount=Cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ds(function(){Xc(null,t,null,null)}),e[dr]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var e=uE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pr.length&&e!==0&&e<Pr[n].priority;n++);Pr.splice(n,0,t),n===0&&dE(t)}};function Rm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n_(){}function Gb(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=yc(o);i.call(c)}}var o=PT(e,r,t,0,null,!1,!1,"",n_);return t._reactRootContainer=o,t[dr]=o.current,xa(t.nodeType===8?t.parentNode:t),Ds(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=yc(u);a.call(c)}}var u=Sm(t,0,!1,null,null,!1,!1,"",n_);return t._reactRootContainer=u,t[dr]=u.current,xa(t.nodeType===8?t.parentNode:t),Ds(function(){Xc(e,u,n,r)}),u}function ed(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=yc(o);a.call(u)}}Xc(e,o,t,s)}else o=Gb(n,e,t,s,r);return yc(o)}aE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$o(e.pendingLanes);n!==0&&(Kp(e,n|1),qt(e,Qe()),!(me&6)&&(Bi=Qe()+500,rs()))}break;case 13:Ds(function(){var r=hr(t,1);if(r!==null){var s=Mt();In(r,t,1,s)}}),km(t,1)}};Gp=function(t){if(t.tag===13){var e=hr(t,134217728);if(e!==null){var n=Mt();In(e,t,134217728,n)}km(t,134217728)}};lE=function(t){if(t.tag===13){var e=Hr(t),n=hr(t,e);if(n!==null){var r=Mt();In(n,t,e,r)}km(t,e)}};uE=function(){return Ie};cE=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};yf=function(t,e,n){switch(e){case"input":if(cf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Wc(r);if(!s)throw Error($(90));$0(r),cf(r,s)}}}break;case"textarea":B0(t,n);break;case"select":e=n.value,e!=null&&ki(t,!!n.multiple,e,!1)}};Y0=Em;X0=Ds;var Qb={usingClientEntryPoint:!1,Events:[Xa,vi,Wc,G0,Q0,Em]},Oo={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yb={bundleType:Oo.bundleType,version:Oo.version,rendererPackageName:Oo.rendererPackageName,rendererConfig:Oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eE(t),t===null?null:t.stateNode},findFiberByHostInstance:Oo.findFiberByHostInstance||Kb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Uc=tu.inject(Yb),jn=tu}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qb;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rm(e))throw Error($(200));return qb(t,e,null,n)};sn.createRoot=function(t,e){if(!Rm(t))throw Error($(299));var n=!1,r="",s=NT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Sm(t,1,!1,null,null,n,!1,r,s),t[dr]=e.current,xa(t.nodeType===8?t.parentNode:t),new Cm(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=eE(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return Ds(t)};sn.hydrate=function(t,e,n){if(!Zc(e))throw Error($(200));return ed(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!Rm(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=NT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=PT(e,null,t,1,n??null,s,!1,i,o),t[dr]=e.current,xa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Jc(e)};sn.render=function(t,e,n){if(!Zc(e))throw Error($(200));return ed(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!Zc(t))throw Error($(40));return t._reactRootContainer?(Ds(function(){ed(null,null,t,!1,function(){t._reactRootContainer=null,t[dr]=null})}),!0):!1};sn.unstable_batchedUpdates=Em;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zc(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return ed(t,e,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function DT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DT)}catch(t){console.error(t)}}DT(),D0.exports=sn;var td=D0.exports;const Xb=w0(td);var OT,r_=td;OT=r_.createRoot,r_.hydrateRoot;/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var s_="popstate";function Jb(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Yf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Na(s)}return eA(e,n,null,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Zb(){return Math.random().toString(36).substring(2,10)}function i_(t,e){return{usr:t.state,key:t.key,idx:e}}function Yf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?eo(e):e,state:n,key:e&&e.key||r||Zb()}}function Na({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function eA(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",u=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function p(){a="POP";let k=h(),E=k==null?null:k-c;c=k,u&&u({action:a,location:x.location,delta:E})}function g(k,E){a="PUSH";let _=Yf(x.location,k,E);c=h()+1;let w=i_(_,c),A=x.createHref(_);try{o.pushState(w,"",A)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(A)}i&&u&&u({action:a,location:x.location,delta:1})}function T(k,E){a="REPLACE";let _=Yf(x.location,k,E);c=h();let w=i_(_,c),A=x.createHref(_);o.replaceState(w,"",A),i&&u&&u({action:a,location:x.location,delta:0})}function R(k){return tA(k)}let x={get action(){return a},get location(){return t(s,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(s_,p),u=k,()=>{s.removeEventListener(s_,p),u=null}},createHref(k){return e(s,k)},createURL:R,encodeLocation(k){let E=R(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:T,go(k){return o.go(k)}};return x}function tA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$e(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Na(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function MT(t,e,n="/"){return nA(t,e,n,!1)}function nA(t,e,n,r){let s=typeof e=="string"?eo(e):e,i=pr(s.pathname||"/",n);if(i==null)return null;let o=LT(t);rA(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=pA(i);a=hA(o[u],c,r)}return a}function LT(t,e=[],n=[],r="",s=!1){let i=(o,a,u=s,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;$e(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let p=ar([r,h.relativePath]),g=n.concat(h);o.children&&o.children.length>0&&($e(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),LT(o.children,e,g,p,u)),!(o.path==null&&!o.index)&&e.push({path:p,score:cA(p,o.index),routesMeta:g})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,a);else for(let c of jT(o.path))i(o,a,!0,c)}),e}function jT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=jT(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function rA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var sA=/^:[\w-]+$/,iA=3,oA=2,aA=1,lA=10,uA=-2,o_=t=>t==="*";function cA(t,e){let n=t.split("/"),r=n.length;return n.some(o_)&&(r+=uA),e&&(r+=oA),n.filter(s=>!o_(s)).reduce((s,i)=>s+(sA.test(i)?iA:i===""?aA:lA),r)}function dA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function hA(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=vc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),g=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=vc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:ar([i,p.pathname]),pathnameBase:vA(ar([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=ar([i,p.pathnameBase]))}return o}function vc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:p},g)=>{if(h==="*"){let R=a[g]||"";o=i.slice(0,i.length-R.length).replace(/(.)\/+$/,"$1")}const T=a[g];return p&&!T?c[h]=void 0:c[h]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function fA(t,e=!1,n=!0){zn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function pA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function pr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mA(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?eo(t):t;return{pathname:n?n.startsWith("/")?n:gA(n,e):e,search:_A(r),hash:wA(s)}}function gA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Sh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VT(t){let e=yA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function FT(t,e,n,r=!1){let s;typeof t=="string"?s=eo(t):(s={...t},$e(!s.pathname||!s.pathname.includes("?"),Sh("?","pathname","search",s)),$e(!s.pathname||!s.pathname.includes("#"),Sh("#","pathname","hash",s)),$e(!s.search||!s.search.includes("#"),Sh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}a=p>=0?e[p]:"/"}let u=mA(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var ar=t=>t.join("/").replace(/\/\/+/g,"/"),vA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_A=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var UT=["POST","PUT","PATCH","DELETE"];new Set(UT);var TA=["GET",...UT];new Set(TA);var to=y.createContext(null);to.displayName="DataRouter";var nd=y.createContext(null);nd.displayName="DataRouterState";y.createContext(!1);var $T=y.createContext({isTransitioning:!1});$T.displayName="ViewTransition";var xA=y.createContext(new Map);xA.displayName="Fetchers";var IA=y.createContext(null);IA.displayName="Await";var Kn=y.createContext(null);Kn.displayName="Navigation";var Za=y.createContext(null);Za.displayName="Location";var Gn=y.createContext({outlet:null,matches:[],isDataRoute:!1});Gn.displayName="Route";var bm=y.createContext(null);bm.displayName="RouteError";function SA(t,{relative:e}={}){$e(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(Kn),{hash:s,pathname:i,search:o}=tl(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:ar([n,i])),r.createHref({pathname:a,search:o,hash:s})}function el(){return y.useContext(Za)!=null}function ss(){return $e(el(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Za).location}var zT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BT(t){y.useContext(Kn).static||y.useLayoutEffect(t)}function Am(){let{isDataRoute:t}=y.useContext(Gn);return t?UA():kA()}function kA(){$e(el(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(to),{basename:e,navigator:n}=y.useContext(Kn),{matches:r}=y.useContext(Gn),{pathname:s}=ss(),i=JSON.stringify(VT(r)),o=y.useRef(!1);return BT(()=>{o.current=!0}),y.useCallback((u,c={})=>{if(zn(o.current,zT),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=FT(u,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ar([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,i,s,t])}var CA=y.createContext(null);function RA(t){let e=y.useContext(Gn).outlet;return y.useMemo(()=>e&&y.createElement(CA.Provider,{value:t},e),[e,t])}function tl(t,{relative:e}={}){let{matches:n}=y.useContext(Gn),{pathname:r}=ss(),s=JSON.stringify(VT(n));return y.useMemo(()=>FT(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function bA(t,e){return WT(t,e)}function WT(t,e,n,r,s){var _;$e(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=y.useContext(Kn),{matches:o}=y.useContext(Gn),a=o[o.length-1],u=a?a.params:{},c=a?a.pathname:"/",h=a?a.pathnameBase:"/",p=a&&a.route;{let w=p&&p.path||"";HT(c,!p||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let g=ss(),T;if(e){let w=typeof e=="string"?eo(e):e;$e(h==="/"||((_=w.pathname)==null?void 0:_.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${w.pathname}" was given in the \`location\` prop.`),T=w}else T=g;let R=T.pathname||"/",x=R;if(h!=="/"){let w=h.replace(/^\//,"").split("/");x="/"+R.replace(/^\//,"").split("/").slice(w.length).join("/")}let k=MT(t,{pathname:x});zn(p||k!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),zn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=OA(k&&k.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:ar([h,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:ar([h,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,n,r,s);return e&&E?y.createElement(Za.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},E):E}function AA(){let t=FA(),e=EA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,o)}var PA=y.createElement(AA,null),NA=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?y.createElement(Gn.Provider,{value:this.props.routeContext},y.createElement(bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DA({routeContext:t,match:e,children:n}){let r=y.useContext(to);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(Gn.Provider,{value:t},n)}function OA(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let c=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);$e(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,u=-1;if(n)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:p,errors:g}=n,T=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||T){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,h,p)=>{let g,T=!1,R=null,x=null;n&&(g=o&&h.route.id?o[h.route.id]:void 0,R=h.route.errorElement||PA,a&&(u<0&&p===0?(HT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,x=null):u===p&&(T=!0,x=h.route.hydrateFallbackElement||null)));let k=e.concat(i.slice(0,p+1)),E=()=>{let _;return g?_=R:T?_=x:h.route.Component?_=y.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=c,y.createElement(DA,{match:h,routeContext:{outlet:c,matches:k,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?y.createElement(NA,{location:n.location,revalidation:n.revalidation,component:R,error:g,children:E(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):E()},null)}function Pm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MA(t){let e=y.useContext(to);return $e(e,Pm(t)),e}function LA(t){let e=y.useContext(nd);return $e(e,Pm(t)),e}function jA(t){let e=y.useContext(Gn);return $e(e,Pm(t)),e}function Nm(t){let e=jA(t),n=e.matches[e.matches.length-1];return $e(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function VA(){return Nm("useRouteId")}function FA(){var r;let t=y.useContext(bm),e=LA("useRouteError"),n=Nm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function UA(){let{router:t}=MA("useNavigate"),e=Nm("useNavigate"),n=y.useRef(!1);return BT(()=>{n.current=!0}),y.useCallback(async(s,i={})=>{zn(n.current,zT),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var a_={};function HT(t,e,n){!e&&!a_[t]&&(a_[t]=!0,zn(!1,n))}y.memo($A);function $A({routes:t,future:e,state:n,unstable_onError:r}){return WT(t,void 0,n,r,e)}function l_(t){return RA(t.context)}function vs(t){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zA({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){$e(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=y.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=eo(n));let{pathname:u="/",search:c="",hash:h="",state:p=null,key:g="default"}=n,T=y.useMemo(()=>{let R=pr(u,o);return R==null?null:{location:{pathname:R,search:c,hash:h,state:p,key:g},navigationType:r}},[o,u,c,h,p,g,r]);return zn(T!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:y.createElement(Kn.Provider,{value:a},y.createElement(Za.Provider,{children:e,value:T}))}function BA({children:t,location:e}){return bA(Xf(t),e)}function Xf(t,e=[]){let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,Xf(r.props.children,i));return}$e(r.type===vs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Xf(r.props.children,i)),n.push(o)}),n}var bu="get",Au="application/x-www-form-urlencoded";function rd(t){return t!=null&&typeof t.tagName=="string"}function WA(t){return rd(t)&&t.tagName.toLowerCase()==="button"}function HA(t){return rd(t)&&t.tagName.toLowerCase()==="form"}function qA(t){return rd(t)&&t.tagName.toLowerCase()==="input"}function KA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GA(t,e){return t.button===0&&(!e||e==="_self")&&!KA(t)}var nu=null;function QA(){if(nu===null)try{new FormData(document.createElement("form"),0),nu=!1}catch{nu=!0}return nu}var YA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kh(t){return t!=null&&!YA.has(t)?(zn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Au}"`),null):t}function XA(t,e){let n,r,s,i,o;if(HA(t)){let a=t.getAttribute("action");r=a?pr(a,e):null,n=t.getAttribute("method")||bu,s=kh(t.getAttribute("enctype"))||Au,i=new FormData(t)}else if(WA(t)||qA(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?pr(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||bu,s=kh(t.getAttribute("formenctype"))||kh(a.getAttribute("enctype"))||Au,i=new FormData(a,t),!QA()){let{name:c,type:h,value:p}=t;if(h==="image"){let g=c?`${c}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else c&&i.append(c,p)}}else{if(rd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bu,r=null,s=Au,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function JA(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&pr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ZA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function tP(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await ZA(i,n);return o.links?o.links():[]}return[]}));return iP(r.flat(1).filter(eP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function u_(t,e,n,r,s,i){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>{var h;return n[c].pathname!==u.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,c)=>o(u,c)||a(u,c)):i==="data"?e.filter((u,c)=>{var p;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function nP(t,e,{includeHydrateFallback:n}={}){return rP(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function rP(t){return[...new Set(t)]}function sP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function iP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(sP(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function qT(){let t=y.useContext(to);return Dm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function oP(){let t=y.useContext(nd);return Dm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Om=y.createContext(void 0);Om.displayName="FrameworkContext";function KT(){let t=y.useContext(Om);return Dm(t,"You must render this element inside a <HydratedRouter> element"),t}function aP(t,e){let n=y.useContext(Om),[r,s]=y.useState(!1),[i,o]=y.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:p}=e,g=y.useRef(null);y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=E=>{E.forEach(_=>{o(_.isIntersecting)})},k=new IntersectionObserver(x,{threshold:.5});return g.current&&k.observe(g.current),()=>{k.disconnect()}}},[t]),y.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let T=()=>{s(!0)},R=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,g,{}]:[i,g,{onFocus:Mo(a,T),onBlur:Mo(u,R),onMouseEnter:Mo(c,T),onMouseLeave:Mo(h,R),onTouchStart:Mo(p,T)}]:[!1,g,{}]}function Mo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function lP({page:t,...e}){let{router:n}=qT(),r=y.useMemo(()=>MT(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?y.createElement(cP,{page:t,matches:r,...e}):null}function uP(t){let{manifest:e,routeModules:n}=KT(),[r,s]=y.useState([]);return y.useEffect(()=>{let i=!1;return tP(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function cP({page:t,matches:e,...n}){let r=ss(),{manifest:s,routeModules:i}=KT(),{basename:o}=qT(),{loaderData:a,matches:u}=oP(),c=y.useMemo(()=>u_(t,e,u,s,r,"data"),[t,e,u,s,r]),h=y.useMemo(()=>u_(t,e,u,s,r,"assets"),[t,e,u,s,r]),p=y.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let R=new Set,x=!1;if(e.forEach(E=>{var w;let _=s.routes[E.route.id];!_||!_.hasLoader||(!c.some(A=>A.route.id===E.route.id)&&E.route.id in a&&((w=i[E.route.id])!=null&&w.shouldRevalidate)||_.hasClientLoader?x=!0:R.add(E.route.id))}),R.size===0)return[];let k=JA(t,o,"data");return x&&R.size>0&&k.searchParams.set("_routes",e.filter(E=>R.has(E.route.id)).map(E=>E.route.id).join(",")),[k.pathname+k.search]},[o,a,r,s,c,e,t,i]),g=y.useMemo(()=>nP(h,s),[h,s]),T=uP(h);return y.createElement(y.Fragment,null,p.map(R=>y.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),g.map(R=>y.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),T.map(({key:R,link:x})=>y.createElement("link",{key:R,nonce:n.nonce,...x})))}function dP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var GT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GT&&(window.__reactRouterVersion="7.9.2")}catch{}function hP({basename:t,children:e,window:n}){let r=y.useRef();r.current==null&&(r.current=Jb({window:n,v5Compat:!0}));let s=r.current,[i,o]=y.useState({action:s.action,location:s.location}),a=y.useCallback(u=>{y.startTransition(()=>o(u))},[o]);return y.useLayoutEffect(()=>s.listen(a),[s,a]),y.createElement(zA,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var QT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Da=y.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:p,...g},T){let{basename:R}=y.useContext(Kn),x=typeof c=="string"&&QT.test(c),k,E=!1;if(typeof c=="string"&&x&&(k=c,GT))try{let C=new URL(window.location.href),b=c.startsWith("//")?new URL(C.protocol+c):new URL(c),N=pr(b.pathname,R);b.origin===C.origin&&N!=null?c=N+b.search+b.hash:E=!0}catch{zn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=SA(c,{relative:s}),[w,A,L]=aP(r,g),M=gP(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:s,viewTransition:p});function S(C){e&&e(C),C.defaultPrevented||M(C)}let v=y.createElement("a",{...g,...L,href:k||_,onClick:E||i?e:S,ref:dP(T,A),target:u,"data-discover":!x&&n==="render"?"true":void 0});return w&&!x?y.createElement(y.Fragment,null,v,y.createElement(lP,{page:_})):v});Da.displayName="Link";var fP=y.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:u,...c},h){let p=tl(o,{relative:c.relative}),g=ss(),T=y.useContext(nd),{navigator:R,basename:x}=y.useContext(Kn),k=T!=null&&EP(p)&&a===!0,E=R.encodeLocation?R.encodeLocation(p).pathname:p.pathname,_=g.pathname,w=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(_=_.toLowerCase(),w=w?w.toLowerCase():null,E=E.toLowerCase()),w&&x&&(w=pr(w,x)||w);const A=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=_===E||!s&&_.startsWith(E)&&_.charAt(A)==="/",M=w!=null&&(w===E||!s&&w.startsWith(E)&&w.charAt(E.length)==="/"),S={isActive:L,isPending:M,isTransitioning:k},v=L?e:void 0,C;typeof r=="function"?C=r(S):C=[r,L?"active":null,M?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let b=typeof i=="function"?i(S):i;return y.createElement(Da,{...c,"aria-current":v,className:C,ref:h,style:b,to:o,viewTransition:a},typeof u=="function"?u(S):u)});fP.displayName="NavLink";var pP=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=bu,action:a,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:p,...g},T)=>{let R=_P(),x=wP(a,{relative:c}),k=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&QT.test(a),_=w=>{if(u&&u(w),w.defaultPrevented)return;w.preventDefault();let A=w.nativeEvent.submitter,L=(A==null?void 0:A.getAttribute("formmethod"))||o;R(A||w.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:s,state:i,relative:c,preventScrollReset:h,viewTransition:p})};return y.createElement("form",{ref:T,method:k,action:x,onSubmit:r?u:_,...g,"data-discover":!E&&t==="render"?"true":void 0})});pP.displayName="Form";function mP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YT(t){let e=y.useContext(to);return $e(e,mP(t)),e}function gP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Am(),u=ss(),c=tl(t,{relative:i});return y.useCallback(h=>{if(GA(h,e)){h.preventDefault();let p=n!==void 0?n:Na(u)===Na(c);a(t,{replace:p,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[u,a,c,n,r,e,t,s,i,o])}var yP=0,vP=()=>`__${String(++yP)}__`;function _P(){let{router:t}=YT("useSubmit"),{basename:e}=y.useContext(Kn),n=VA();return y.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:u,body:c}=XA(r,e);if(s.navigate===!1){let h=s.fetcherKey||vP();await t.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function wP(t,{relative:e}={}){let{basename:n}=y.useContext(Kn),r=y.useContext(Gn);$e(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...tl(t||".",{relative:e})},o=ss();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),u=a.getAll("index");if(u.some(h=>h==="")){a.delete("index"),u.filter(p=>p).forEach(p=>a.append("index",p));let h=a.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:ar([n,i.pathname])),Na(i)}function EP(t,{relative:e}={}){let n=y.useContext($T);$e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=YT("useViewTransitionState"),s=tl(t,{relative:e});if(!n.isTransitioning)return!1;let i=pr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=pr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return vc(s.pathname,o)!=null||vc(s.pathname,i)!=null}function XT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=XT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function JT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=XT(t))&&(r&&(r+=" "),r+=e);return r}const Mm="-",TP=t=>{const e=IP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Mm);return a[0]===""&&a.length!==1&&a.shift(),ZT(a,e)||xP(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},ZT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?ZT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Mm);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},c_=/^\[(.+)\]$/,xP=t=>{if(c_.test(t)){const e=c_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},IP=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Jf(n[s],r,s,e);return r},Jf=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:d_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(SP(s)){Jf(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Jf(o,d_(e,i),n,r)})})},d_=(t,e)=>{let n=t;return e.split(Mm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},SP=t=>t.isThemeGetter,kP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Zf="!",ep=":",CP=ep.length,RP=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let o=0,a=0,u=0,c;for(let R=0;R<s.length;R++){let x=s[R];if(o===0&&a===0){if(x===ep){i.push(s.slice(u,R)),u=R+CP;continue}if(x==="/"){c=R;continue}}x==="["?o++:x==="]"?o--:x==="("?a++:x===")"&&a--}const h=i.length===0?s:s.substring(u),p=bP(h),g=p!==h,T=c&&c>u?c-u:void 0;return{modifiers:i,hasImportantModifier:g,baseClassName:p,maybePostfixModifierPosition:T}};if(e){const s=e+ep,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},bP=t=>t.endsWith(Zf)?t.substring(0,t.length-1):t.startsWith(Zf)?t.substring(1):t,AP=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||e[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},PP=t=>({cache:kP(t.cacheSize),parseClassName:RP(t),sortModifiers:AP(t),...TP(t)}),NP=/\s+/,DP=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(NP);let u="";for(let c=a.length-1;c>=0;c-=1){const h=a[c],{isExternal:p,modifiers:g,hasImportantModifier:T,baseClassName:R,maybePostfixModifierPosition:x}=n(h);if(p){u=h+(u.length>0?" "+u:u);continue}let k=!!x,E=r(k?R.substring(0,x):R);if(!E){if(!k){u=h+(u.length>0?" "+u:u);continue}if(E=r(R),!E){u=h+(u.length>0?" "+u:u);continue}k=!1}const _=i(g).join(":"),w=T?_+Zf:_,A=w+E;if(o.includes(A))continue;o.push(A);const L=s(E,k);for(let M=0;M<L.length;++M){const S=L[M];o.push(w+S)}u=h+(u.length>0?" "+u:u)}return u};function OP(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ex(e))&&(r&&(r+=" "),r+=n);return r}const ex=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ex(t[r]))&&(n&&(n+=" "),n+=e);return n};function MP(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((h,p)=>p(h),t());return n=PP(c),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const c=r(u);if(c)return c;const h=DP(u,n);return s(u,h),h}return function(){return i(OP.apply(null,arguments))}}const tt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,nx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,LP=/^\d+\/\d+$/,jP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,UP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$P=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oi=t=>LP.test(t),oe=t=>!!t&&!Number.isNaN(Number(t)),kr=t=>!!t&&Number.isInteger(Number(t)),Ch=t=>t.endsWith("%")&&oe(t.slice(0,-1)),Xn=t=>jP.test(t),zP=()=>!0,BP=t=>VP.test(t)&&!FP.test(t),rx=()=>!1,WP=t=>UP.test(t),HP=t=>$P.test(t),qP=t=>!q(t)&&!K(t),KP=t=>no(t,ox,rx),q=t=>tx.test(t),ms=t=>no(t,ax,BP),Rh=t=>no(t,JP,oe),h_=t=>no(t,sx,rx),GP=t=>no(t,ix,HP),ru=t=>no(t,lx,WP),K=t=>nx.test(t),Lo=t=>ro(t,ax),QP=t=>ro(t,ZP),f_=t=>ro(t,sx),YP=t=>ro(t,ox),XP=t=>ro(t,ix),su=t=>ro(t,lx,!0),no=(t,e,n)=>{const r=tx.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},ro=(t,e,n=!1)=>{const r=nx.exec(t);return r?r[1]?e(r[1]):n:!1},sx=t=>t==="position"||t==="percentage",ix=t=>t==="image"||t==="url",ox=t=>t==="length"||t==="size"||t==="bg-size",ax=t=>t==="length",JP=t=>t==="number",ZP=t=>t==="family-name",lx=t=>t==="shadow",eN=()=>{const t=tt("color"),e=tt("font"),n=tt("text"),r=tt("font-weight"),s=tt("tracking"),i=tt("leading"),o=tt("breakpoint"),a=tt("container"),u=tt("spacing"),c=tt("radius"),h=tt("shadow"),p=tt("inset-shadow"),g=tt("text-shadow"),T=tt("drop-shadow"),R=tt("blur"),x=tt("perspective"),k=tt("aspect"),E=tt("ease"),_=tt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...A(),K,q],M=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],v=()=>[K,q,u],C=()=>[oi,"full","auto",...v()],b=()=>[kr,"none","subgrid",K,q],N=()=>["auto",{span:["full",kr,K,q]},kr,K,q],D=()=>[kr,"auto",K,q],P=()=>["auto","min","max","fr",K,q],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ge=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...v()],Ae=()=>[oi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],V=()=>[t,K,q],Y=()=>[...A(),f_,h_,{position:[K,q]}],Z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Ee=()=>["auto","cover","contain",YP,KP,{size:[K,q]}],se=()=>[Ch,Lo,ms],ee=()=>["","none","full",c,K,q],Te=()=>["",oe,Lo,ms],st=()=>["solid","dashed","dotted","double"],yt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],we=()=>[oe,Ch,f_,h_],ei=()=>["","none",R,K,q],wr=()=>["none",oe,K,q],gn=()=>["none",oe,K,q],Pn=()=>[oe,K,q],Nn=()=>[oi,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xn],breakpoint:[Xn],color:[zP],container:[Xn],"drop-shadow":[Xn],ease:["in","out","in-out"],font:[qP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xn],shadow:[Xn],spacing:["px",oe],text:[Xn],"text-shadow":[Xn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",oi,q,K,k]}],container:["container"],columns:[{columns:[oe,q,K,a]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[kr,"auto",K,q]}],basis:[{basis:[oi,"full","auto",a,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[oe,oi,"auto","initial","none",q]}],grow:[{grow:["",oe,K,q]}],shrink:[{shrink:["",oe,K,q]}],order:[{order:[kr,"first","last","none",K,q]}],"grid-cols":[{"grid-cols":b()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":b()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...ge(),"normal"]}],"justify-self":[{"justify-self":["auto",...ge()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...ge(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ge(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...ge(),"baseline"]}],"place-self":[{"place-self":["auto",...ge()]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ae()}],w:[{w:[a,"screen",...Ae()]}],"min-w":[{"min-w":[a,"screen","none",...Ae()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...Ae()]}],h:[{h:["screen","lh",...Ae()]}],"min-h":[{"min-h":["screen","lh","none",...Ae()]}],"max-h":[{"max-h":["screen","lh",...Ae()]}],"font-size":[{text:["base",n,Lo,ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,K,Rh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ch,q]}],"font-family":[{font:[QP,q,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,K,q]}],"line-clamp":[{"line-clamp":[oe,"none",K,Rh]}],leading:[{leading:[i,...v()]}],"list-image":[{"list-image":["none",K,q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",K,q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...st(),"wavy"]}],"text-decoration-thickness":[{decoration:[oe,"from-font","auto",K,ms]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[oe,"auto",K,q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",K,q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",K,q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:Z()}],"bg-size":[{bg:Ee()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},kr,K,q],radial:["",K,q],conic:[kr,K,q]},XP,GP]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:Te()}],"border-w-x":[{"border-x":Te()}],"border-w-y":[{"border-y":Te()}],"border-w-s":[{"border-s":Te()}],"border-w-e":[{"border-e":Te()}],"border-w-t":[{"border-t":Te()}],"border-w-r":[{"border-r":Te()}],"border-w-b":[{"border-b":Te()}],"border-w-l":[{"border-l":Te()}],"divide-x":[{"divide-x":Te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...st(),"hidden","none"]}],"divide-style":[{divide:[...st(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...st(),"none","hidden"]}],"outline-offset":[{"outline-offset":[oe,K,q]}],"outline-w":[{outline:["",oe,Lo,ms]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",h,su,ru]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",p,su,ru]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:Te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[oe,ms]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":Te()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",g,su,ru]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[oe,K,q]}],"mix-blend":[{"mix-blend":[...yt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":yt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[oe]}],"mask-image-linear-from-pos":[{"mask-linear-from":we()}],"mask-image-linear-to-pos":[{"mask-linear-to":we()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":we()}],"mask-image-t-to-pos":[{"mask-t-to":we()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":we()}],"mask-image-r-to-pos":[{"mask-r-to":we()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":we()}],"mask-image-b-to-pos":[{"mask-b-to":we()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":we()}],"mask-image-l-to-pos":[{"mask-l-to":we()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":we()}],"mask-image-x-to-pos":[{"mask-x-to":we()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":we()}],"mask-image-y-to-pos":[{"mask-y-to":we()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[K,q]}],"mask-image-radial-from-pos":[{"mask-radial-from":we()}],"mask-image-radial-to-pos":[{"mask-radial-to":we()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[oe]}],"mask-image-conic-from-pos":[{"mask-conic-from":we()}],"mask-image-conic-to-pos":[{"mask-conic-to":we()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:Z()}],"mask-size":[{mask:Ee()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",K,q]}],filter:[{filter:["","none",K,q]}],blur:[{blur:ei()}],brightness:[{brightness:[oe,K,q]}],contrast:[{contrast:[oe,K,q]}],"drop-shadow":[{"drop-shadow":["","none",T,su,ru]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",oe,K,q]}],"hue-rotate":[{"hue-rotate":[oe,K,q]}],invert:[{invert:["",oe,K,q]}],saturate:[{saturate:[oe,K,q]}],sepia:[{sepia:["",oe,K,q]}],"backdrop-filter":[{"backdrop-filter":["","none",K,q]}],"backdrop-blur":[{"backdrop-blur":ei()}],"backdrop-brightness":[{"backdrop-brightness":[oe,K,q]}],"backdrop-contrast":[{"backdrop-contrast":[oe,K,q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",oe,K,q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[oe,K,q]}],"backdrop-invert":[{"backdrop-invert":["",oe,K,q]}],"backdrop-opacity":[{"backdrop-opacity":[oe,K,q]}],"backdrop-saturate":[{"backdrop-saturate":[oe,K,q]}],"backdrop-sepia":[{"backdrop-sepia":["",oe,K,q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",K,q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[oe,"initial",K,q]}],ease:[{ease:["linear","initial",E,K,q]}],delay:[{delay:[oe,K,q]}],animate:[{animate:["none",_,K,q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,K,q]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:wr()}],"rotate-x":[{"rotate-x":wr()}],"rotate-y":[{"rotate-y":wr()}],"rotate-z":[{"rotate-z":wr()}],scale:[{scale:gn()}],"scale-x":[{"scale-x":gn()}],"scale-y":[{"scale-y":gn()}],"scale-z":[{"scale-z":gn()}],"scale-3d":["scale-3d"],skew:[{skew:Pn()}],"skew-x":[{"skew-x":Pn()}],"skew-y":[{"skew-y":Pn()}],transform:[{transform:[K,q,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Nn()}],"translate-x":[{"translate-x":Nn()}],"translate-y":[{"translate-y":Nn()}],"translate-z":[{"translate-z":Nn()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",K,q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",K,q]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[oe,Lo,ms,Rh]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},tN=MP(eN);function ke(...t){return tN(JT(t))}const Fe=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ke("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Fe.displayName="Card";const $t=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ke("flex flex-col space-y-1.5 p-6",t),...e}));$t.displayName="CardHeader";const dt=y.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:ke("text-2xl font-semibold leading-none tracking-tight",t),...e}));dt.displayName="CardTitle";const Os=y.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));Os.displayName="CardDescription";const Ze=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ke("p-6 pt-0",t),...e}));Ze.displayName="CardContent";const nN=y.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ke("flex items-center p-6 pt-0",t),...e}));nN.displayName="CardFooter";function p_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ux(...t){return e=>{let n=!1;const r=t.map(s=>{const i=p_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():p_(t[s],null)}}}}function Gt(...t){return y.useCallback(ux(...t),t)}function Oa(t){const e=sN(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),u=a.find(oN);if(u){const c=u.props.children,h=a.map(p=>p===u?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:p);return d.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var rN=Oa("Slot");function sN(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=lN(s),a=aN(i,s.props);return s.type!==y.Fragment&&(a.ref=r?ux(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var iN=Symbol("radix.slottable");function oN(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===iN}function aN(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const u=i(...a);return s(...a),u}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function lN(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const m_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,g_=JT,sd=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return g_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],p=i==null?void 0:i[c];if(h===null)return null;const g=m_(h)||m_(p);return s[c][g]}),a=n&&Object.entries(n).reduce((c,h)=>{let[p,g]=h;return g===void 0||(c[p]=g),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:p,className:g,...T}=h;return Object.entries(T).every(R=>{let[x,k]=R;return Array.isArray(k)?k.includes({...i,...a}[x]):{...i,...a}[x]===k})?[...c,p,g]:c},[]);return g_(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},uN=sd("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?rN:"button";return d.jsx(o,{className:ke(uN({variant:e,size:n,className:t})),ref:i,...s})});pe.displayName="Button";const Xe=y.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:ke("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Xe.displayName="Input";var cN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Re=cN.reduce((t,e)=>{const n=Oa(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(u,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function cx(t,e){t&&td.flushSync(()=>t.dispatchEvent(e))}var dN="Label",dx=y.forwardRef((t,e)=>d.jsx(Re.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));dx.displayName=dN;var hx=dx;const hN=sd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xe=y.forwardRef(({className:t,...e},n)=>d.jsx(hx,{ref:n,className:ke(hN(),t),...e}));xe.displayName=hx.displayName;function Ce(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function fN(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,u=y.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function qs(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),u=n.length;n=[...n,o];const c=p=>{var E;const{scope:g,children:T,...R}=p,x=((E=g==null?void 0:g[t])==null?void 0:E[u])||a,k=y.useMemo(()=>R,Object.values(R));return d.jsx(x.Provider,{value:k,children:T})};c.displayName=i+"Provider";function h(p,g){var x;const T=((x=g==null?void 0:g[t])==null?void 0:x[u])||a,R=y.useContext(T);if(R)return R;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,pN(s,...e)]}function pN(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const p=u(i)[`__scope${c}`];return{...a,...p}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function fx(t){const e=t+"CollectionProvider",[n,r]=qs(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:k,children:E}=x,_=Dt.useRef(null),w=Dt.useRef(new Map).current;return d.jsx(s,{scope:k,itemMap:w,collectionRef:_,children:E})};o.displayName=e;const a=t+"CollectionSlot",u=Oa(a),c=Dt.forwardRef((x,k)=>{const{scope:E,children:_}=x,w=i(a,E),A=Gt(k,w.collectionRef);return d.jsx(u,{ref:A,children:_})});c.displayName=a;const h=t+"CollectionItemSlot",p="data-radix-collection-item",g=Oa(h),T=Dt.forwardRef((x,k)=>{const{scope:E,children:_,...w}=x,A=Dt.useRef(null),L=Gt(k,A),M=i(h,E);return Dt.useEffect(()=>(M.itemMap.set(A,{ref:A,...w}),()=>void M.itemMap.delete(A))),d.jsx(g,{[p]:"",ref:L,children:_})});T.displayName=h;function R(x){const k=i(t+"CollectionConsumer",x);return Dt.useCallback(()=>{const _=k.collectionRef.current;if(!_)return[];const w=Array.from(_.querySelectorAll(`[${p}]`));return Array.from(k.itemMap.values()).sort((M,S)=>w.indexOf(M.ref.current)-w.indexOf(S.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:o,Slot:c,ItemSlot:T},R,r]}var Ms=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},mN=P0[" useId ".trim().toString()]||(()=>{}),gN=0;function oa(t){const[e,n]=y.useState(mN());return Ms(()=>{n(r=>r??String(gN++))},[t]),e?`radix-${e}`:""}function Bn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var yN=P0[" useInsertionEffect ".trim().toString()]||Ms;function nl({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=vN({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:s;{const h=y.useRef(t!==void 0);y.useEffect(()=>{const p=h.current;p!==a&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=y.useCallback(h=>{var p;if(a){const g=_N(h)?h(t):h;g!==t&&((p=o.current)==null||p.call(o,g))}else i(h)},[a,t,i,o]);return[u,c]}function vN({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return yN(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function _N(t){return typeof t=="function"}var wN=y.createContext(void 0);function px(t){const e=y.useContext(wN);return t||e||"ltr"}var bh="rovingFocusGroup.onEntryFocus",EN={bubbles:!1,cancelable:!0},rl="RovingFocusGroup",[tp,mx,TN]=fx(rl),[xN,gx]=qs(rl,[TN]),[IN,SN]=xN(rl),yx=y.forwardRef((t,e)=>d.jsx(tp.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(tp.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(kN,{...t,ref:e})})}));yx.displayName=rl;var kN=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...p}=t,g=y.useRef(null),T=Gt(e,g),R=px(i),[x,k]=nl({prop:o,defaultProp:a??null,onChange:u,caller:rl}),[E,_]=y.useState(!1),w=Bn(c),A=mx(n),L=y.useRef(!1),[M,S]=y.useState(0);return y.useEffect(()=>{const v=g.current;if(v)return v.addEventListener(bh,w),()=>v.removeEventListener(bh,w)},[w]),d.jsx(IN,{scope:n,orientation:r,dir:R,loop:s,currentTabStopId:x,onItemFocus:y.useCallback(v=>k(v),[k]),onItemShiftTab:y.useCallback(()=>_(!0),[]),onFocusableItemAdd:y.useCallback(()=>S(v=>v+1),[]),onFocusableItemRemove:y.useCallback(()=>S(v=>v-1),[]),children:d.jsx(Re.div,{tabIndex:E||M===0?-1:0,"data-orientation":r,...p,ref:T,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{L.current=!0}),onFocus:Ce(t.onFocus,v=>{const C=!L.current;if(v.target===v.currentTarget&&C&&!E){const b=new CustomEvent(bh,EN);if(v.currentTarget.dispatchEvent(b),!b.defaultPrevented){const N=A().filter(ae=>ae.focusable),D=N.find(ae=>ae.active),P=N.find(ae=>ae.id===x),ge=[D,P,...N].filter(Boolean).map(ae=>ae.ref.current);wx(ge,h)}}L.current=!1}),onBlur:Ce(t.onBlur,()=>_(!1))})})}),vx="RovingFocusGroupItem",_x=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,u=oa(),c=i||u,h=SN(vx,n),p=h.currentTabStopId===c,g=mx(n),{onFocusableItemAdd:T,onFocusableItemRemove:R,currentTabStopId:x}=h;return y.useEffect(()=>{if(r)return T(),()=>R()},[r,T,R]),d.jsx(tp.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:d.jsx(Re.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:Ce(t.onMouseDown,k=>{r?h.onItemFocus(c):k.preventDefault()}),onFocus:Ce(t.onFocus,()=>h.onItemFocus(c)),onKeyDown:Ce(t.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){h.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const E=bN(k,h.orientation,h.dir);if(E!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let w=g().filter(A=>A.focusable).map(A=>A.ref.current);if(E==="last")w.reverse();else if(E==="prev"||E==="next"){E==="prev"&&w.reverse();const A=w.indexOf(k.currentTarget);w=h.loop?AN(w,A+1):w.slice(A+1)}setTimeout(()=>wx(w))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:x!=null}):o})})});_x.displayName=vx;var CN={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function RN(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function bN(t,e,n){const r=RN(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return CN[r]}function wx(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function AN(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var PN=yx,NN=_x;function DN(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var so=t=>{const{present:e,children:n}=t,r=ON(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Gt(r.ref,MN(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};so.displayName="Presence";function ON(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,u]=DN(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=iu(r.current);i.current=a==="mounted"?c:"none"},[a]),Ms(()=>{const c=r.current,h=s.current;if(h!==t){const g=i.current,T=iu(c);t?u("MOUNT"):T==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(h&&g!==T?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),Ms(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,p=T=>{const x=iu(r.current).includes(CSS.escape(T.animationName));if(T.target===e&&x&&(u("ANIMATION_END"),!s.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},g=T=>{T.target===e&&(i.current=iu(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function iu(t){return(t==null?void 0:t.animationName)||"none"}function MN(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var id="Tabs",[LN]=qs(id,[gx]),Ex=gx(),[jN,Lm]=LN(id),Tx=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:u="automatic",...c}=t,h=px(a),[p,g]=nl({prop:r,onChange:s,defaultProp:i??"",caller:id});return d.jsx(jN,{scope:n,baseId:oa(),value:p,onValueChange:g,orientation:o,dir:h,activationMode:u,children:d.jsx(Re.div,{dir:h,"data-orientation":o,...c,ref:e})})});Tx.displayName=id;var xx="TabsList",Ix=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Lm(xx,n),o=Ex(n);return d.jsx(PN,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(Re.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Ix.displayName=xx;var Sx="TabsTrigger",kx=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Lm(Sx,n),a=Ex(n),u=bx(o.baseId,r),c=Ax(o.baseId,r),h=r===o.value;return d.jsx(NN,{asChild:!0,...a,focusable:!s,active:h,children:d.jsx(Re.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:Ce(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:Ce(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:Ce(t.onFocus,()=>{const p=o.activationMode!=="manual";!h&&!s&&p&&o.onValueChange(r)})})})});kx.displayName=Sx;var Cx="TabsContent",Rx=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Lm(Cx,n),u=bx(a.baseId,r),c=Ax(a.baseId,r),h=r===a.value,p=y.useRef(h);return y.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),d.jsx(so,{present:s||h,children:({present:g})=>d.jsx(Re.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:g&&i})})});Rx.displayName=Cx;function bx(t,e){return`${t}-trigger-${e}`}function Ax(t,e){return`${t}-content-${e}`}var VN=Tx,Px=Ix,Nx=kx,Dx=Rx;const od=VN,sl=y.forwardRef(({className:t,...e},n)=>d.jsx(Px,{ref:n,className:ke("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));sl.displayName=Px.displayName;const Jt=y.forwardRef(({className:t,...e},n)=>d.jsx(Nx,{ref:n,className:ke("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));Jt.displayName=Nx.displayName;const Zt=y.forwardRef(({className:t,...e},n)=>d.jsx(Dx,{ref:n,className:ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Zt.displayName=Dx.displayName;function FN(t,e=globalThis==null?void 0:globalThis.document){const n=Bn(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var UN="DismissableLayer",np="dismissableLayer.update",$N="dismissableLayer.pointerDownOutside",zN="dismissableLayer.focusOutside",y_,Ox=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jm=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,c=y.useContext(Ox),[h,p]=y.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=y.useState({}),R=Gt(e,S=>p(S)),x=Array.from(c.layers),[k]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=x.indexOf(k),_=h?x.indexOf(h):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,A=_>=E,L=WN(S=>{const v=S.target,C=[...c.branches].some(b=>b.contains(v));!A||C||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},g),M=HN(S=>{const v=S.target;[...c.branches].some(b=>b.contains(v))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},g);return FN(S=>{_===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},g),y.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(y_=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),v_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=y_)}},[h,g,n,c]),y.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),v_())},[h,c]),y.useEffect(()=>{const S=()=>T({});return document.addEventListener(np,S),()=>document.removeEventListener(np,S)},[]),d.jsx(Re.div,{...u,ref:R,style:{pointerEvents:w?A?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,L.onPointerDownCapture)})});jm.displayName=UN;var BN="DismissableLayerBranch",Mx=y.forwardRef((t,e)=>{const n=y.useContext(Ox),r=y.useRef(null),s=Gt(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Re.div,{...t,ref:s})});Mx.displayName=BN;function WN(t,e=globalThis==null?void 0:globalThis.document){const n=Bn(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){Lx($N,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function HN(t,e=globalThis==null?void 0:globalThis.document){const n=Bn(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&Lx(zN,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function v_(){const t=new CustomEvent(np);document.dispatchEvent(t)}function Lx(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?cx(s,i):s.dispatchEvent(i)}var qN=jm,KN=Mx,Ah="focusScope.autoFocusOnMount",Ph="focusScope.autoFocusOnUnmount",__={bubbles:!1,cancelable:!0},GN="FocusScope",jx=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,u]=y.useState(null),c=Bn(s),h=Bn(i),p=y.useRef(null),g=Gt(e,x=>u(x)),T=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let x=function(w){if(T.paused||!a)return;const A=w.target;a.contains(A)?p.current=A:Rr(p.current,{select:!0})},k=function(w){if(T.paused||!a)return;const A=w.relatedTarget;A!==null&&(a.contains(A)||Rr(p.current,{select:!0}))},E=function(w){if(document.activeElement===document.body)for(const L of w)L.removedNodes.length>0&&Rr(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",k);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",k),_.disconnect()}}},[r,a,T.paused]),y.useEffect(()=>{if(a){E_.add(T);const x=document.activeElement;if(!a.contains(x)){const E=new CustomEvent(Ah,__);a.addEventListener(Ah,c),a.dispatchEvent(E),E.defaultPrevented||(QN(e2(Vx(a)),{select:!0}),document.activeElement===x&&Rr(a))}return()=>{a.removeEventListener(Ah,c),setTimeout(()=>{const E=new CustomEvent(Ph,__);a.addEventListener(Ph,h),a.dispatchEvent(E),E.defaultPrevented||Rr(x??document.body,{select:!0}),a.removeEventListener(Ph,h),E_.remove(T)},0)}}},[a,c,h,T]);const R=y.useCallback(x=>{if(!n&&!r||T.paused)return;const k=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,E=document.activeElement;if(k&&E){const _=x.currentTarget,[w,A]=YN(_);w&&A?!x.shiftKey&&E===A?(x.preventDefault(),n&&Rr(w,{select:!0})):x.shiftKey&&E===w&&(x.preventDefault(),n&&Rr(A,{select:!0})):E===_&&x.preventDefault()}},[n,r,T.paused]);return d.jsx(Re.div,{tabIndex:-1,...o,ref:g,onKeyDown:R})});jx.displayName=GN;function QN(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Rr(r,{select:e}),document.activeElement!==n)return}function YN(t){const e=Vx(t),n=w_(e,t),r=w_(e.reverse(),t);return[n,r]}function Vx(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function w_(t,e){for(const n of t)if(!XN(n,{upTo:e}))return n}function XN(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function JN(t){return t instanceof HTMLInputElement&&"select"in t}function Rr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&JN(t)&&e&&t.select()}}var E_=ZN();function ZN(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=T_(t,e),t.unshift(e)},remove(e){var n;t=T_(t,e),(n=t[0])==null||n.resume()}}}function T_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function e2(t){return t.filter(e=>e.tagName!=="A")}var t2="Portal",Vm=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Ms(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Xb.createPortal(d.jsx(Re.div,{...r,ref:e}),o):null});Vm.displayName=t2;var Nh=0;function n2(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??x_()),document.body.insertAdjacentElement("beforeend",t[1]??x_()),Nh++,()=>{Nh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Nh--}},[])}function x_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ln=function(){return Ln=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ln.apply(this,arguments)};function il(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function r2(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Pu="right-scroll-bar-position",Nu="width-before-scroll-bar",s2="with-scroll-bars-hidden",i2="--removed-body-scroll-bar-size";function Dh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function o2(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var a2=typeof window<"u"?y.useLayoutEffect:y.useEffect,I_=new WeakMap;function l2(t,e){var n=o2(null,function(r){return t.forEach(function(s){return Dh(s,r)})});return a2(function(){var r=I_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Dh(a,null)}),i.forEach(function(a){s.has(a)||Dh(a,o)})}I_.set(n,t)},[t]),n}function u2(t){return t}function c2(t,e){e===void 0&&(e=u2);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var u=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function d2(t){t===void 0&&(t={});var e=c2(null);return e.options=Ln({async:!0,ssr:!1},t),e}var Fx=function(t){var e=t.sideCar,n=il(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Ln({},n))};Fx.isSideCarExport=!0;function h2(t,e){return t.useMedium(e),Fx}var Ux=d2(),Oh=function(){},ad=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Oh,onWheelCapture:Oh,onTouchMoveCapture:Oh}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,h=t.enabled,p=t.shards,g=t.sideCar,T=t.noRelative,R=t.noIsolation,x=t.inert,k=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,w=t.gapMode,A=il(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=g,M=l2([n,e]),S=Ln(Ln({},A),s);return y.createElement(y.Fragment,null,h&&y.createElement(L,{sideCar:Ux,removeScrollBar:c,shards:p,noRelative:T,noIsolation:R,inert:x,setCallbacks:i,allowPinchZoom:!!k,lockRef:n,gapMode:w}),o?y.cloneElement(y.Children.only(a),Ln(Ln({},S),{ref:M})):y.createElement(_,Ln({},S,{className:u,ref:M}),a))});ad.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ad.classNames={fullWidth:Nu,zeroRight:Pu};var f2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function p2(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=f2();return e&&t.setAttribute("nonce",e),t}function m2(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function g2(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var y2=function(){var t=0,e=null;return{add:function(n){t==0&&(e=p2())&&(m2(e,n),g2(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},v2=function(){var t=y2();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},$x=function(){var t=v2(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},_2={left:0,top:0,right:0,gap:0},Mh=function(t){return parseInt(t||"",10)||0},w2=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Mh(n),Mh(r),Mh(s)]},E2=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _2;var e=w2(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},T2=$x(),Ni="data-scroll-locked",x2=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(s2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ni,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Nu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pu," .").concat(Pu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Nu," .").concat(Nu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ni,`] {
    `).concat(i2,": ").concat(a,`px;
  }
`)},S_=function(){var t=parseInt(document.body.getAttribute(Ni)||"0",10);return isFinite(t)?t:0},I2=function(){y.useEffect(function(){return document.body.setAttribute(Ni,(S_()+1).toString()),function(){var t=S_()-1;t<=0?document.body.removeAttribute(Ni):document.body.setAttribute(Ni,t.toString())}},[])},S2=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;I2();var i=y.useMemo(function(){return E2(s)},[s]);return y.createElement(T2,{styles:x2(i,!e,s,n?"":"!important")})},rp=!1;if(typeof window<"u")try{var ou=Object.defineProperty({},"passive",{get:function(){return rp=!0,!0}});window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{rp=!1}var ai=rp?{passive:!1}:!1,k2=function(t){return t.tagName==="TEXTAREA"},zx=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!k2(t)&&n[e]==="visible")},C2=function(t){return zx(t,"overflowY")},R2=function(t){return zx(t,"overflowX")},k_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Bx(t,r);if(s){var i=Wx(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},b2=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},A2=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Bx=function(t,e){return t==="v"?C2(e):R2(e)},Wx=function(t,e){return t==="v"?b2(e):A2(e)},P2=function(t,e){return t==="h"&&e==="rtl"?-1:1},N2=function(t,e,n,r,s){var i=P2(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,u=e.contains(a),c=!1,h=o>0,p=0,g=0;do{if(!a)break;var T=Wx(t,a),R=T[0],x=T[1],k=T[2],E=x-k-i*R;(R||E)&&Bx(t,a)&&(p+=E,g+=R);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(h&&Math.abs(p)<1||!h&&Math.abs(g)<1)&&(c=!0),c},au=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},C_=function(t){return[t.deltaX,t.deltaY]},R_=function(t){return t&&"current"in t?t.current:t},D2=function(t,e){return t[0]===e[0]&&t[1]===e[1]},O2=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},M2=0,li=[];function L2(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(M2++)[0],i=y.useState($x)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=r2([t.lockRef.current],(t.shards||[]).map(R_),!0).filter(Boolean);return x.forEach(function(k){return k.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(x,k){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var E=au(x),_=n.current,w="deltaX"in x?x.deltaX:_[0]-E[0],A="deltaY"in x?x.deltaY:_[1]-E[1],L,M=x.target,S=Math.abs(w)>Math.abs(A)?"h":"v";if("touches"in x&&S==="h"&&M.type==="range")return!1;var v=k_(S,M);if(!v)return!0;if(v?L=S:(L=S==="v"?"h":"v",v=k_(S,M)),!v)return!1;if(!r.current&&"changedTouches"in x&&(w||A)&&(r.current=L),!L)return!0;var C=r.current||L;return N2(C,k,x,C==="h"?w:A)},[]),u=y.useCallback(function(x){var k=x;if(!(!li.length||li[li.length-1]!==i)){var E="deltaY"in k?C_(k):au(k),_=e.current.filter(function(L){return L.name===k.type&&(L.target===k.target||k.target===L.shadowParent)&&D2(L.delta,E)})[0];if(_&&_.should){k.cancelable&&k.preventDefault();return}if(!_){var w=(o.current.shards||[]).map(R_).filter(Boolean).filter(function(L){return L.contains(k.target)}),A=w.length>0?a(k,w[0]):!o.current.noIsolation;A&&k.cancelable&&k.preventDefault()}}},[]),c=y.useCallback(function(x,k,E,_){var w={name:x,delta:k,target:E,should:_,shadowParent:j2(E)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(A){return A!==w})},1)},[]),h=y.useCallback(function(x){n.current=au(x),r.current=void 0},[]),p=y.useCallback(function(x){c(x.type,C_(x),x.target,a(x,t.lockRef.current))},[]),g=y.useCallback(function(x){c(x.type,au(x),x.target,a(x,t.lockRef.current))},[]);y.useEffect(function(){return li.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",u,ai),document.addEventListener("touchmove",u,ai),document.addEventListener("touchstart",h,ai),function(){li=li.filter(function(x){return x!==i}),document.removeEventListener("wheel",u,ai),document.removeEventListener("touchmove",u,ai),document.removeEventListener("touchstart",h,ai)}},[]);var T=t.removeScrollBar,R=t.inert;return y.createElement(y.Fragment,null,R?y.createElement(i,{styles:O2(s)}):null,T?y.createElement(S2,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function j2(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const V2=h2(Ux,L2);var Hx=y.forwardRef(function(t,e){return y.createElement(ad,Ln({},t,{ref:e,sideCar:V2}))});Hx.classNames=ad.classNames;var F2=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ui=new WeakMap,lu=new WeakMap,uu={},Lh=0,qx=function(t){return t&&(t.host||qx(t.parentNode))},U2=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=qx(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},$2=function(t,e,n,r){var s=U2(e,Array.isArray(t)?t:[t]);uu[n]||(uu[n]=new WeakMap);var i=uu[n],o=[],a=new Set,u=new Set(s),c=function(p){!p||a.has(p)||(a.add(p),c(p.parentNode))};s.forEach(c);var h=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(g){if(a.has(g))h(g);else try{var T=g.getAttribute(r),R=T!==null&&T!=="false",x=(ui.get(g)||0)+1,k=(i.get(g)||0)+1;ui.set(g,x),i.set(g,k),o.push(g),x===1&&R&&lu.set(g,!0),k===1&&g.setAttribute(n,"true"),R||g.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",g,E)}})};return h(e),a.clear(),Lh++,function(){o.forEach(function(p){var g=ui.get(p)-1,T=i.get(p)-1;ui.set(p,g),i.set(p,T),g||(lu.has(p)||p.removeAttribute(r),lu.delete(p)),T||p.removeAttribute(n)}),Lh--,Lh||(ui=new WeakMap,ui=new WeakMap,lu=new WeakMap,uu={})}},z2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=F2(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),$2(r,s,n,"aria-hidden")):function(){return null}},ld="Dialog",[Kx]=qs(ld),[B2,bn]=Kx(ld),Gx=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),u=y.useRef(null),[c,h]=nl({prop:r,defaultProp:s??!1,onChange:i,caller:ld});return d.jsx(B2,{scope:e,triggerRef:a,contentRef:u,contentId:oa(),titleId:oa(),descriptionId:oa(),open:c,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};Gx.displayName=ld;var Qx="DialogTrigger",Yx=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bn(Qx,n),i=Gt(e,s.triggerRef);return d.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$m(s.open),...r,ref:i,onClick:Ce(t.onClick,s.onOpenToggle)})});Yx.displayName=Qx;var Fm="DialogPortal",[W2,Xx]=Kx(Fm,{forceMount:void 0}),Jx=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=bn(Fm,e);return d.jsx(W2,{scope:e,forceMount:n,children:y.Children.map(r,o=>d.jsx(so,{present:n||i.open,children:d.jsx(Vm,{asChild:!0,container:s,children:o})}))})};Jx.displayName=Fm;var _c="DialogOverlay",Zx=y.forwardRef((t,e)=>{const n=Xx(_c,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=bn(_c,t.__scopeDialog);return i.modal?d.jsx(so,{present:r||i.open,children:d.jsx(q2,{...s,ref:e})}):null});Zx.displayName=_c;var H2=Oa("DialogOverlay.RemoveScroll"),q2=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bn(_c,n);return d.jsx(Hx,{as:H2,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Re.div,{"data-state":$m(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ls="DialogContent",eI=y.forwardRef((t,e)=>{const n=Xx(Ls,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=bn(Ls,t.__scopeDialog);return d.jsx(so,{present:r||i.open,children:i.modal?d.jsx(K2,{...s,ref:e}):d.jsx(G2,{...s,ref:e})})});eI.displayName=Ls;var K2=y.forwardRef((t,e)=>{const n=bn(Ls,t.__scopeDialog),r=y.useRef(null),s=Gt(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return z2(i)},[]),d.jsx(tI,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,i=>i.preventDefault())})}),G2=y.forwardRef((t,e)=>{const n=bn(Ls,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return d.jsx(tI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),tI=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=bn(Ls,n),u=y.useRef(null),c=Gt(e,u);return n2(),d.jsxs(d.Fragment,{children:[d.jsx(jx,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(jm,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":$m(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(Q2,{titleId:a.titleId}),d.jsx(X2,{contentRef:u,descriptionId:a.descriptionId})]})]})}),Um="DialogTitle",nI=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bn(Um,n);return d.jsx(Re.h2,{id:s.titleId,...r,ref:e})});nI.displayName=Um;var rI="DialogDescription",sI=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bn(rI,n);return d.jsx(Re.p,{id:s.descriptionId,...r,ref:e})});sI.displayName=rI;var iI="DialogClose",oI=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bn(iI,n);return d.jsx(Re.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,()=>s.onOpenChange(!1))})});oI.displayName=iI;function $m(t){return t?"open":"closed"}var aI="DialogTitleWarning",[H5,lI]=fN(aI,{contentName:Ls,titleName:Um,docsSlug:"dialog"}),Q2=({titleId:t})=>{const e=lI(aI),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Y2="DialogDescriptionWarning",X2=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lI(Y2).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},J2=Gx,Z2=Yx,eD=Jx,uI=Zx,cI=eI,dI=nI,hI=sI,tD=oI;/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),b_=t=>{const e=rD(t);return e.charAt(0).toUpperCase()+e.slice(1)},fI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),sD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>y.createElement("svg",{ref:u,...iD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fI("lucide",s),...!i&&!sD(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,h])=>y.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(oD,{ref:i,iconNode:e,className:fI(`lucide-${nD(b_(t))}`,`lucide-${t}`,r),...s}));return n.displayName=b_(t),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],lD=fe("bell",aD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ma=fe("book-open",uD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],zm=fe("brain",cD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hD=fe("calendar",dD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],pI=fe("chart-column",fD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mD=fe("circle-check-big",pD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yD=fe("circle-x",gD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],mI=fe("clock",vD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],A_=fe("eye-off",_D);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],P_=fe("eye",wD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],TD=fe("flame",ED);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],ID=fe("hash",xD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],kD=fe("house",SD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]],N_=fe("import",CD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],bD=fe("list",RD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ot=fe("loader-circle",AD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],D_=fe("lock",PD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],sp=fe("log-out",ND);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],O_=fe("mail",DD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],MD=fe("menu",OD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],jD=fe("message-square",LD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],FD=fe("moon",VD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],M_=fe("pen",UD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],L_=fe("plus",$D);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],BD=fe("rotate-ccw",zD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gI=fe("settings",WD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],j_=fe("sun",HD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],yI=fe("target",qD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],GD=fe("timer",KD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],V_=fe("trash-2",QD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],XD=fe("trophy",YD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bo=fe("user",JD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bm=fe("x",ZD);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vI=fe("zap",eO),Du=J2,F_=Z2,tO=eD,_I=y.forwardRef(({className:t,...e},n)=>d.jsx(uI,{ref:n,className:ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));_I.displayName=uI.displayName;const aa=y.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(tO,{children:[d.jsx(_I,{}),d.jsxs(cI,{ref:r,className:ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(tD,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(Bm,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));aa.displayName=cI.displayName;const Ou=({className:t,...e})=>d.jsx("div",{className:ke("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ou.displayName="DialogHeader";const Mu=y.forwardRef(({className:t,...e},n)=>d.jsx(dI,{ref:n,className:ke("text-lg font-semibold leading-none tracking-tight",t),...e}));Mu.displayName=dI.displayName;const Lu=y.forwardRef(({className:t,...e},n)=>d.jsx(hI,{ref:n,className:ke("text-sm text-muted-foreground",t),...e}));Lu.displayName=hI.displayName;var wI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},U_=Dt.createContext&&Dt.createContext(wI),nO=["attr","size","title"];function rO(t,e){if(t==null)return{};var n=sO(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sO(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wc.apply(this,arguments)}function $_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$_(Object(n),!0).forEach(function(r){iO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iO(t,e,n){return e=oO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oO(t){var e=aO(t,"string");return typeof e=="symbol"?e:e+""}function aO(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EI(t){return t&&t.map((e,n)=>Dt.createElement(e.tag,Ec({key:n},e.attr),EI(e.child)))}function lO(t){return e=>Dt.createElement(uO,wc({attr:Ec({},t.attr)},e),EI(t.child))}function uO(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=rO(t,nO),a=s||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Dt.createElement("svg",wc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:Ec(Ec({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Dt.createElement("title",null,i),t.children)};return U_!==void 0?Dt.createElement(U_.Consumer,null,n=>e(n)):e(wI)}function cO(t){return lO({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}var z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},xI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let g=(a&15)<<2|c>>6,T=c&63;u||(T=64,o||(g=64)),r.push(n[h],n[p],n[g],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||p==null)throw new hO;const g=i<<2|a>>4;if(r.push(g),c!==64){const T=a<<4&240|c>>2;if(r.push(T),p!==64){const R=c<<6&192|p;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fO=function(t){const e=TI(t);return xI.encodeByteArray(e,!0)},Tc=function(t){return fO(t).replace(/\./g,"")},II=function(t){try{return xI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=()=>pO().__FIREBASE_DEFAULTS__,gO=()=>{if(typeof process>"u"||typeof z_>"u")return;const t=z_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&II(t[1]);return e&&JSON.parse(e)},ud=()=>{try{return mO()||gO()||yO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SI=t=>{var e,n;return(n=(e=ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vO=t=>{const e=SI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kI=()=>{var t;return(t=ud())===null||t===void 0?void 0:t.config},CI=t=>{var e;return(e=ud())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tc(JSON.stringify(n)),Tc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function TO(){var t;const e=(t=ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SO(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kO(){return!TO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bI(){try{return typeof indexedDB=="object"}catch{return!1}}function AI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function CO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="FirebaseError";class An extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RO,Object.setPrototypeOf(this,An.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ks.prototype.create)}}class Ks{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?bO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new An(s,a,r)}}function bO(t,e){return t.replace(AO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const AO=/\{\$([^}]+)}/g;function PO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function La(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(B_(i)&&B_(o)){if(!La(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function B_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ho(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function NO(t,e){const n=new DO(t,e);return n.subscribe.bind(n)}class DO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=jh),s.error===void 0&&(s.error=jh),s.complete===void 0&&(s.complete=jh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=1e3,LO=2,jO=4*60*60*1e3,VO=.5;function W_(t,e=MO,n=LO){const r=e*Math.pow(n,t),s=Math.round(VO*r*(Math.random()-.5)*2);return Math.min(jO,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t){return t&&t._delegate?t._delegate:t}class Cn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FO=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _O;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($O(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function UO(t){return t===_s?void 0:t}function $O(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const BO={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},WO=ce.INFO,HO={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},qO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=HO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cd{constructor(e){this.name=e,this._logLevel=WO,this._logHandler=qO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const KO=(t,e)=>e.some(n=>t instanceof n);let H_,q_;function GO(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QO(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PI=new WeakMap,ip=new WeakMap,NI=new WeakMap,Vh=new WeakMap,Wm=new WeakMap;function YO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Kr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PI.set(n,t)}).catch(()=>{}),Wm.set(e,t),e}function XO(t){if(ip.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ip.set(t,e)}let op={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ip.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JO(t){op=t(op)}function ZO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fh(this),e,...n);return NI.set(r,e.sort?e.sort():[e]),Kr(r)}:QO().includes(t)?function(...e){return t.apply(Fh(this),e),Kr(PI.get(this))}:function(...e){return Kr(t.apply(Fh(this),e))}}function eM(t){return typeof t=="function"?ZO(t):(t instanceof IDBTransaction&&XO(t),KO(t,GO())?new Proxy(t,op):t)}function Kr(t){if(t instanceof IDBRequest)return YO(t);if(Vh.has(t))return Vh.get(t);const e=eM(t);return e!==t&&(Vh.set(t,e),Wm.set(e,t)),e}const Fh=t=>Wm.get(t);function DI(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Kr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Kr(o.result),u.oldVersion,u.newVersion,Kr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const tM=["get","getKey","getAll","getAllKeys","count"],nM=["put","add","delete","clear"],Uh=new Map;function K_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uh.get(e))return Uh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=nM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||tM.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return Uh.set(e,i),i}JO(t=>({...t,get:(e,n,r)=>K_(e,n)||t.get(e,n,r),has:(e,n)=>!!K_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ap="@firebase/app",G_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new cd("@firebase/app"),iM="@firebase/app-compat",oM="@firebase/analytics-compat",aM="@firebase/analytics",lM="@firebase/app-check-compat",uM="@firebase/app-check",cM="@firebase/auth",dM="@firebase/auth-compat",hM="@firebase/database",fM="@firebase/data-connect",pM="@firebase/database-compat",mM="@firebase/functions",gM="@firebase/functions-compat",yM="@firebase/installations",vM="@firebase/installations-compat",_M="@firebase/messaging",wM="@firebase/messaging-compat",EM="@firebase/performance",TM="@firebase/performance-compat",xM="@firebase/remote-config",IM="@firebase/remote-config-compat",SM="@firebase/storage",kM="@firebase/storage-compat",CM="@firebase/firestore",RM="@firebase/vertexai-preview",bM="@firebase/firestore-compat",AM="firebase",PM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="[DEFAULT]",NM={[ap]:"fire-core",[iM]:"fire-core-compat",[aM]:"fire-analytics",[oM]:"fire-analytics-compat",[uM]:"fire-app-check",[lM]:"fire-app-check-compat",[cM]:"fire-auth",[dM]:"fire-auth-compat",[hM]:"fire-rtdb",[fM]:"fire-data-connect",[pM]:"fire-rtdb-compat",[mM]:"fire-fn",[gM]:"fire-fn-compat",[yM]:"fire-iid",[vM]:"fire-iid-compat",[_M]:"fire-fcm",[wM]:"fire-fcm-compat",[EM]:"fire-perf",[TM]:"fire-perf-compat",[xM]:"fire-rc",[IM]:"fire-rc-compat",[SM]:"fire-gcs",[kM]:"fire-gcs-compat",[CM]:"fire-fst",[bM]:"fire-fst-compat",[RM]:"fire-vertex","fire-js":"fire-js",[AM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,DM=new Map,up=new Map;function Q_(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wn(t){const e=t.name;if(up.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;up.set(e,t);for(const n of xc.values())Q_(n,t);for(const n of DM.values())Q_(n,t);return!0}function Gs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Ks("app","Firebase",OM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=PM;function OI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Gr.create("bad-app-name",{appName:String(s)});if(n||(n=kI()),!n)throw Gr.create("no-options");const i=xc.get(s);if(i){if(La(n,i.options)&&La(r,i.config))return i;throw Gr.create("duplicate-app",{appName:s})}const o=new zO(s);for(const u of up.values())o.addComponent(u);const a=new MM(n,r,o);return xc.set(s,a),a}function Hm(t=lp){const e=xc.get(t);if(!e&&t===lp&&kI())return OI();if(!e)throw Gr.create("no-app",{appName:t});return e}function dn(t,e,n){var r;let s=(r=NM[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(a.join(" "));return}Wn(new Cn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="firebase-heartbeat-database",jM=1,ja="firebase-heartbeat-store";let $h=null;function MI(){return $h||($h=DI(LM,jM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),$h}async function VM(t){try{const n=(await MI()).transaction(ja),r=await n.objectStore(ja).get(LI(t));return await n.done,r}catch(e){if(e instanceof An)mr.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(n.message)}}}async function Y_(t,e){try{const r=(await MI()).transaction(ja,"readwrite");await r.objectStore(ja).put(e,LI(t)),await r.done}catch(n){if(n instanceof An)mr.warn(n.message);else{const r=Gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(r.message)}}}function LI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=1024,UM=30*24*60*60*1e3;class $M{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=X_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=UM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=X_(),{heartbeatsToSend:r,unsentEntries:s}=zM(this._heartbeatsCache.heartbeats),i=Tc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return mr.warn(n),""}}}function X_(){return new Date().toISOString().substring(0,10)}function zM(t,e=FM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),J_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),J_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bI()?AI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function J_(t){return Tc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){Wn(new Cn("platform-logger",e=>new rM(e),"PRIVATE")),Wn(new Cn("heartbeat",e=>new $M(e),"PRIVATE")),dn(ap,G_,t),dn(ap,G_,"esm2017"),dn("fire-js","")}WM("");var HM="firebase",qM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn(HM,qM,"app");const jI="@firebase/installations",qm="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=1e4,FI=`w:${qm}`,UI="FIS_v2",KM="https://firebaseinstallations.googleapis.com/v1",GM=60*60*1e3,QM="installations",YM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},js=new Ks(QM,YM,XM);function $I(t){return t instanceof An&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI({projectId:t}){return`${KM}/projects/${t}/installations`}function BI(t){return{token:t.token,requestStatus:2,expiresIn:ZM(t.expiresIn),creationTime:Date.now()}}async function WI(t,e){const r=(await e.json()).error;return js.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function HI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function JM(t,{refreshToken:e}){const n=HI(t);return n.append("Authorization",eL(e)),n}async function qI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function ZM(t){return Number(t.replace("s","000"))}function eL(t){return`${UI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=zI(t),s=HI(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:UI,appId:t.appId,sdkVersion:FI},a={method:"POST",headers:s,body:JSON.stringify(o)},u=await qI(()=>fetch(r,a));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:BI(c.authToken)}}else throw await WI("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=/^[cdef][\w-]{21}$/,cp="";function sL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=iL(t);return rL.test(n)?n:cp}catch{return cp}}function iL(t){return nL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Map;function QI(t,e){const n=dd(t);YI(n,e),oL(n,e)}function YI(t,e){const n=GI.get(t);if(n)for(const r of n)r(e)}function oL(t,e){const n=aL();n&&n.postMessage({key:t,fid:e}),lL()}let xs=null;function aL(){return!xs&&"BroadcastChannel"in self&&(xs=new BroadcastChannel("[Firebase] FID Change"),xs.onmessage=t=>{YI(t.data.key,t.data.fid)}),xs}function lL(){GI.size===0&&xs&&(xs.close(),xs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="firebase-installations-database",cL=1,Vs="firebase-installations-store";let zh=null;function Km(){return zh||(zh=DI(uL,cL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vs)}}})),zh}async function Ic(t,e){const n=dd(t),s=(await Km()).transaction(Vs,"readwrite"),i=s.objectStore(Vs),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&QI(t,e.fid),e}async function XI(t){const e=dd(t),r=(await Km()).transaction(Vs,"readwrite");await r.objectStore(Vs).delete(e),await r.done}async function hd(t,e){const n=dd(t),s=(await Km()).transaction(Vs,"readwrite"),i=s.objectStore(Vs),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&QI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gm(t){let e;const n=await hd(t.appConfig,r=>{const s=dL(r),i=hL(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===cp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function dL(t){const e=t||{fid:sL(),registrationStatus:0};return JI(e)}function hL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(js.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=fL(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pL(t)}:{installationEntry:e}}async function fL(t,e){try{const n=await tL(t,e);return Ic(t.appConfig,n)}catch(n){throw $I(n)&&n.customData.serverCode===409?await XI(t.appConfig):await Ic(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function pL(t){let e=await Z_(t.appConfig);for(;e.registrationStatus===1;)await KI(100),e=await Z_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Gm(t);return r||n}return e}function Z_(t){return hd(t,e=>{if(!e)throw js.create("installation-not-found");return JI(e)})}function JI(t){return mL(t)?{fid:t.fid,registrationStatus:0}:t}function mL(t){return t.registrationStatus===1&&t.registrationTime+VI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL({appConfig:t,heartbeatServiceProvider:e},n){const r=yL(t,n),s=JM(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:FI,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},u=await qI(()=>fetch(r,a));if(u.ok){const c=await u.json();return BI(c)}else throw await WI("Generate Auth Token",u)}function yL(t,{fid:e}){return`${zI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qm(t,e=!1){let n;const r=await hd(t.appConfig,i=>{if(!ZI(i))throw js.create("not-registered");const o=i.authToken;if(!e&&wL(o))return i;if(o.requestStatus===1)return n=vL(t,e),i;{if(!navigator.onLine)throw js.create("app-offline");const a=TL(i);return n=_L(t,a),a}});return n?await n:r.authToken}async function vL(t,e){let n=await ew(t.appConfig);for(;n.authToken.requestStatus===1;)await KI(100),n=await ew(t.appConfig);const r=n.authToken;return r.requestStatus===0?Qm(t,e):r}function ew(t){return hd(t,e=>{if(!ZI(e))throw js.create("not-registered");const n=e.authToken;return xL(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function _L(t,e){try{const n=await gL(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Ic(t.appConfig,r),n}catch(n){if($I(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await XI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ic(t.appConfig,r)}throw n}}function ZI(t){return t!==void 0&&t.registrationStatus===2}function wL(t){return t.requestStatus===2&&!EL(t)}function EL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+GM}function TL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function xL(t){return t.requestStatus===1&&t.requestTime+VI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(t){const e=t,{installationEntry:n,registrationPromise:r}=await Gm(e);return r?r.catch(console.error):Qm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e=!1){const n=t;return await kL(n),(await Qm(n,e)).token}async function kL(t){const{registrationPromise:e}=await Gm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){if(!t||!t.options)throw Bh("App Configuration");if(!t.name)throw Bh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Bh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Bh(t){return js.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="installations",RL="installations-internal",bL=t=>{const e=t.getProvider("app").getImmediate(),n=CL(e),r=Gs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},AL=t=>{const e=t.getProvider("app").getImmediate(),n=Gs(e,eS).getImmediate();return{getId:()=>IL(n),getToken:s=>SL(n,s)}};function PL(){Wn(new Cn(eS,bL,"PUBLIC")),Wn(new Cn(RL,AL,"PRIVATE"))}PL();dn(jI,qm);dn(jI,qm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="analytics",NL="firebase_id",DL="origin",OL=60*1e3,ML="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ym="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt=new cd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},nn=new Ks("analytics","Analytics",LL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){if(!t.startsWith(Ym)){const e=nn.create("invalid-gtag-resource",{gtagURL:t});return Kt.warn(e.message),""}return t}function tS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function VL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function FL(t,e){const n=VL("firebase-js-sdk-policy",{createScriptURL:jL}),r=document.createElement("script"),s=`${Ym}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function UL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function $L(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await tS(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(a){Kt.error(a)}t("config",s,i)}async function zL(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await tS(n);for(const u of o){const c=a.find(p=>p.measurementId===u),h=c&&e[c.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Kt.error(i)}}function BL(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,u]=o;await zL(t,e,n,a,u)}else if(i==="config"){const[a,u]=o;await $L(t,e,n,r,a,u)}else if(i==="consent"){const[a,u]=o;t("consent",a,u)}else if(i==="get"){const[a,u,c]=o;t("get",a,u,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Kt.error(a)}}return s}function WL(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=BL(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function HL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ym)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=30,KL=1e3;class GL{constructor(e={},n=KL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nS=new GL;function QL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function YL(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:QL(r)},i=ML.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw nn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function XL(t,e=nS,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw nn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw nn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ej;return setTimeout(async()=>{a.abort()},OL),rS({appId:r,apiKey:s,measurementId:i},o,a,e)}async function rS(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=nS){var i;const{appId:o,measurementId:a}=t;try{await JL(r,e)}catch(u){if(a)return Kt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await YL(t);return s.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!ZL(c)){if(s.deleteThrottleMetadata(o),a)return Kt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw u}const h=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?W_(n,s.intervalMillis,qL):W_(n,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(o,p),Kt.debug(`Calling attemptFetch again in ${h} millis`),rS(t,p,r,s)}}function JL(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(nn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ZL(t){if(!(t instanceof An)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class ej{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function tj(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(){if(bI())try{await AI()}catch(t){return Kt.warn(nn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Kt.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function rj(t,e,n,r,s,i,o){var a;const u=XL(t);u.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&Kt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Kt.error(T)),e.push(u);const c=nj().then(T=>{if(T)return r.getId()}),[h,p]=await Promise.all([u,c]);HL(i)||FL(i,h.measurementId),s("js",new Date);const g=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return g[DL]="firebase",g.update=!0,p!=null&&(g[NL]=p),s("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.app=e}_delete(){return delete la[this.app.options.appId],Promise.resolve()}}let la={},tw=[];const nw={};let Wh="dataLayer",ij="gtag",rw,sS,sw=!1;function oj(){const t=[];if(RI()&&t.push("This is a browser extension environment."),CO()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=nn.create("invalid-analytics-context",{errorInfo:e});Kt.warn(n.message)}}function aj(t,e,n){oj();const r=t.options.appId;if(!r)throw nn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Kt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw nn.create("no-api-key");if(la[r]!=null)throw nn.create("already-exists",{id:r});if(!sw){UL(Wh);const{wrappedGtag:i,gtagCore:o}=WL(la,tw,nw,Wh,ij);sS=i,rw=o,sw=!0}return la[r]=rj(t,tw,nw,e,rw,Wh,n),new sj(t)}function lj(t=Hm()){t=Ke(t);const e=Gs(t,Sc);return e.isInitialized()?e.getImmediate():uj(t)}function uj(t,e={}){const n=Gs(t,Sc);if(n.isInitialized()){const s=n.getImmediate();if(La(e,n.getOptions()))return s;throw nn.create("already-initialized")}return n.initialize({options:e})}function cj(t,e,n,r){t=Ke(t),tj(sS,la[t.app.options.appId],e,n,r).catch(s=>Kt.error(s))}const iw="@firebase/analytics",ow="0.10.8";function dj(){Wn(new Cn(Sc,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return aj(r,s,n)},"PUBLIC")),Wn(new Cn("analytics-internal",t,"PRIVATE")),dn(iw,ow),dn(iw,ow,"esm2017");function t(e){try{const n=e.getProvider(Sc).getImmediate();return{logEvent:(r,s,i)=>cj(n,r,s,i)}}catch(n){throw nn.create("interop-component-reg-failed",{reason:n})}}}dj();function iS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hj=iS,oS=new Ks("auth","Firebase",iS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new cd("@firebase/auth");function fj(t,...e){kc.logLevel<=ce.WARN&&kc.warn(`Auth (${io}): ${t}`,...e)}function ju(t,...e){kc.logLevel<=ce.ERROR&&kc.error(`Auth (${io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t,...e){throw Jm(t,...e)}function Sn(t,...e){return Jm(t,...e)}function Xm(t,e,n){const r=Object.assign(Object.assign({},hj()),{[e]:n});return new Ks("auth","Firebase",r).create(e,{appName:t.name})}function lr(t){return Xm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pn(t,"argument-error"),Xm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oS.create(t,...e)}function J(t,e,...n){if(!t)throw Jm(e,...n)}function rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ju(e),new Error(e)}function gr(t,e){t||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function mj(){return aw()==="http:"||aw()==="https:"}function aw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mj()||RI()||"connection"in navigator)?navigator.onLine:!0}function yj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=EO()||IO()}get(){return gj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t,e){gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new al(3e4,6e4);function is(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function os(t,e,n,r,s={}){return lS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ol(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},i);return xO()||(c.referrerPolicy="no-referrer"),aS.fetch()(uS(t,t.config.apiHost,n,a),c)})}async function lS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},vj),e);try{const s=new Ej(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw cu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw cu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw cu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw cu(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Xm(t,h,c);pn(t,h)}}catch(s){if(s instanceof An)throw s;pn(t,"network-request-failed",{message:String(s)})}}async function ll(t,e,n,r,s={}){const i=await os(t,e,n,r,s);return"mfaPendingCredential"in i&&pn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function uS(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Zm(t.config,s):`${t.config.apiScheme}://${s}`}function wj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ej{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sn(this.auth,"network-request-failed")),_j.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Sn(t,e,r);return s.customData._tokenResponse=n,s}function lw(t){return t!==void 0&&t.enterprise!==void 0}class Tj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function xj(t,e){return os(t,"GET","/v2/recaptchaConfig",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(t,e){return os(t,"POST","/v1/accounts:delete",e)}async function cS(t,e){return os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sj(t,e=!1){const n=Ke(t),r=await n.getIdToken(e),s=eg(r);J(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ua(Hh(s.auth_time)),issuedAtTime:ua(Hh(s.iat)),expirationTime:ua(Hh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Hh(t){return Number(t)*1e3}function eg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ju("JWT malformed, contained fewer than 3 sections"),null;try{const s=II(n);return s?JSON.parse(s):(ju("Failed to decode base64 JWT payload"),null)}catch(s){return ju("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function uw(t){const e=eg(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof An&&kj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ua(this.lastLoginAt),this.creationTime=ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Va(t,cS(n,{idToken:r}));J(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?dS(i.providerUserInfo):[],a=bj(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new hp(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function Rj(t){const e=Ke(t);await Cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function dS(t){return t.map(e=>{var{providerId:n}=e,r=il(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(t,e){const n=await lS(t,{},async()=>{const r=ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=uS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Pj(t,e){return os(t,"POST","/v2/accounts:revokeToken",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=uw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Aj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Di;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(J(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(J(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Di,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=il(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Va(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Sj(this,e)}reload(){return Rj(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await Va(this,Ij(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,u,c,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,T=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,R=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:A,isAnonymous:L,providerData:M,stsTokenManager:S}=n;J(w&&S,e,"internal-error");const v=Di.fromJSON(this.name,S);J(typeof w=="string",e,"internal-error"),Cr(p,e.name),Cr(g,e.name),J(typeof A=="boolean",e,"internal-error"),J(typeof L=="boolean",e,"internal-error"),Cr(T,e.name),Cr(R,e.name),Cr(x,e.name),Cr(k,e.name),Cr(E,e.name),Cr(_,e.name);const C=new sr({uid:w,auth:e,email:g,emailVerified:A,displayName:p,isAnonymous:L,photoURL:R,phoneNumber:T,tenantId:x,stsTokenManager:v,createdAt:E,lastLoginAt:_});return M&&Array.isArray(M)&&(C.providerData=M.map(b=>Object.assign({},b))),k&&(C._redirectEventId=k),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new Di;s.updateFromServerResponse(n);const i=new sr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Cc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];J(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?dS(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Di;a.updateFromIdToken(r);const u=new sr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new hp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new Map;function ir(t){gr(t instanceof Function,"Expected a class definition");let e=cw.get(t);return e?(gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hS.type="NONE";const dw=hS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t,e,n){return`firebase:${t}:${e}:${n}`}class Oi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Vu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Vu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?sr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Oi(ir(dw),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ir(dw);const o=Vu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const p=sr._fromJSON(e,h);c!==i&&(a=p),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Oi(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Oi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vS(e))return"Blackberry";if(_S(e))return"Webos";if(pS(e))return"Safari";if((e.includes("chrome/")||mS(e))&&!e.includes("edge/"))return"Chrome";if(yS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fS(t=Rt()){return/firefox\//i.test(t)}function pS(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mS(t=Rt()){return/crios\//i.test(t)}function gS(t=Rt()){return/iemobile/i.test(t)}function yS(t=Rt()){return/android/i.test(t)}function vS(t=Rt()){return/blackberry/i.test(t)}function _S(t=Rt()){return/webos/i.test(t)}function tg(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Nj(t=Rt()){var e;return tg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Dj(){return SO()&&document.documentMode===10}function wS(t=Rt()){return tg(t)||yS(t)||_S(t)||vS(t)||/windows phone/i.test(t)||gS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e=[]){let n;switch(t){case"Browser":n=hw(Rt());break;case"Worker":n=`${hw(Rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t,e={}){return os(t,"GET","/v2/passwordPolicy",is(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=6;class jj{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Lj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fw(this),this.idTokenSubscription=new fw(this),this.beforeStateQueue=new Oj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Oi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cS(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Tn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(lr(this));const n=e?Ke(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mj(this),n=new jj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ks("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Oi.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ES(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function as(t){return Ke(t)}class fw{constructor(e){this.auth=e,this.observer=null,this.addObserver=NO(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fj(t){fd=t}function TS(t){return fd.loadJS(t)}function Uj(){return fd.recaptchaEnterpriseScript}function $j(){return fd.gapiScript}function zj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Bj="recaptcha-enterprise",Wj="NO_RECAPTCHA";class Hj{constructor(e){this.type=Bj,this.auth=as(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{xj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Tj(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;lw(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(Wj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&lw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Uj();u.length!==0&&(u+=a),TS(u).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function pw(t,e,n,r=!1){const s=new Hj(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function fp(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await pw(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await pw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t,e){const n=Gs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(La(i,e??{}))return s;pn(s,"already-initialized")}return n.initialize({options:e})}function Kj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Gj(t,e,n){const r=as(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=xS(e),{host:o,port:a}=Qj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Yj()}function xS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Qj(t){const e=xS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:mw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:mw(o)}}}function mw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Yj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function Xj(t,e){return os(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e){return ll(t,"POST","/v1/accounts:signInWithPassword",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zj(t,e){return ll(t,"POST","/v1/accounts:signInWithEmailLink",is(t,e))}async function eV(t,e){return ll(t,"POST","/v1/accounts:signInWithEmailLink",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends ng{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Fa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(e,n,"signInWithPassword",Jj);case"emailLink":return Zj(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(e,r,"signUpPassword",Xj);case"emailLink":return eV(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mi(t,e){return ll(t,"POST","/v1/accounts:signInWithIdp",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="http://localhost";class Fs extends ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=il(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Fs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Mi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mi(e,n)}buildRequest(){const e={requestUri:tV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ol(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rV(t){const e=Wo(Ho(t)).link,n=e?Wo(Ho(e)).deep_link_id:null,r=Wo(Ho(t)).deep_link_id;return(r?Wo(Ho(r)).link:null)||r||n||e||t}class rg{constructor(e){var n,r,s,i,o,a;const u=Wo(Ho(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=nV((s=u.mode)!==null&&s!==void 0?s:null);J(c&&h&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=h,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=rV(e);try{return new rg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.providerId=oo.PROVIDER_ID}static credential(e,n){return Fa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=rg.parseLink(n);return J(r,"argument-error"),Fa._fromEmailAndCode(e,r.code,r.tenantId)}}oo.PROVIDER_ID="password";oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends sg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends ul{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends ul{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fs._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return er.credential(n,r)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends ul{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends ul{constructor(){super("twitter.com")}static credential(e,n){return Fs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Mr.credential(n,r)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e){return ll(t,"POST","/v1/accounts:signUp",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await sr._fromIdTokenResponse(e,r,s),o=gw(r);return new Us({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=gw(r);return new Us({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function gw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends An{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Rc(e,n,r,s)}}function IS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Rc._fromErrorAndOperation(t,i,e,r):i})}async function iV(t,e,n=!1){const r=await Va(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Us._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(t,e,n=!1){const{auth:r}=t;if(Tn(r.app))return Promise.reject(lr(r));const s="reauthenticate";try{const i=await Va(t,IS(r,s,e,t),n);J(i.idToken,r,"internal-error");const o=eg(i.idToken);J(o,r,"internal-error");const{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),Us._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(t,e,n=!1){if(Tn(t.app))return Promise.reject(lr(t));const r="signIn",s=await IS(t,r,e),i=await Us._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function aV(t,e){return SS(as(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kS(t){const e=as(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lV(t,e,n){if(Tn(t.app))return Promise.reject(lr(t));const r=as(t),o=await fp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&kS(t),u}),a=await Us._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function uV(t,e,n){return Tn(t.app)?Promise.reject(lr(t)):aV(Ke(t),oo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kS(t),r})}function cV(t,e,n,r){return Ke(t).onIdTokenChanged(e,n,r)}function dV(t,e,n){return Ke(t).beforeAuthStateChanged(e,n)}function hV(t,e,n,r){return Ke(t).onAuthStateChanged(e,n,r)}function fV(t){return Ke(t).signOut()}const bc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bc,"1"),this.storage.removeItem(bc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=1e3,mV=10;class RS extends CS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Dj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,mV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RS.type="LOCAL";const gV=RS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends CS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bS.type="SESSION";const AS=bS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new pd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await yV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=ig("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function _V(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function wV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TV(){return PS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firebaseLocalStorageDb",xV=1,Ac="firebaseLocalStorage",DS="fbase_key";class cl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function md(t,e){return t.transaction([Ac],e?"readwrite":"readonly").objectStore(Ac)}function IV(){const t=indexedDB.deleteDatabase(NS);return new cl(t).toPromise()}function pp(){const t=indexedDB.open(NS,xV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ac,{keyPath:DS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ac)?e(r):(r.close(),await IV(),e(await pp()))})})}async function yw(t,e,n){const r=md(t,!0).put({[DS]:e,value:n});return new cl(r).toPromise()}async function SV(t,e){const n=md(t,!1).get(e),r=await new cl(n).toPromise();return r===void 0?null:r.value}function vw(t,e){const n=md(t,!0).delete(e);return new cl(n).toPromise()}const kV=800,CV=3;class OS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pd._getInstance(TV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wV(),!this.activeServiceWorker)return;this.sender=new vV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await yw(e,bc,"1"),await vw(e,bc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>SV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=md(s,!1).getAll();return new cl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OS.type="LOCAL";const RV=OS;new al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t,e){return e?ir(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bV(t){return SS(t.auth,new og(t),t.bypassAuthState)}function AV(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),oV(n,new og(t),t.bypassAuthState)}async function PV(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),iV(n,new og(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bV;case"linkViaPopup":case"linkViaRedirect":return PV;case"reauthViaPopup":case"reauthViaRedirect":return AV;default:pn(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=new al(2e3,1e4);async function DV(t,e,n){if(Tn(t.app))return Promise.reject(Sn(t,"operation-not-supported-in-this-environment"));const r=as(t);pj(t,e,sg);const s=MS(r,n);return new Is(r,"signInViaPopup",e,s).executeNotNull()}class Is extends LS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NV.get())};e()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="pendingRedirect",Fu=new Map;class MV extends LS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fu.get(this.auth._key());if(!e){try{const r=await LV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fu.set(this.auth._key(),e)}return this.bypassAuthState||Fu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LV(t,e){const n=FV(e),r=VV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function jV(t,e){Fu.set(t._key(),e)}function VV(t){return ir(t._redirectPersistence)}function FV(t){return Vu(OV,t.config.apiKey,t.name)}async function UV(t,e,n=!1){if(Tn(t.app))return Promise.reject(lr(t));const r=as(t),s=MS(r,e),o=await new MV(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=10*60*1e3;class zV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$V&&this.cachedEventUids.clear(),this.cachedEventUids.has(_w(e))}saveEventToCache(e){this.cachedEventUids.add(_w(e)),this.lastProcessedEventTime=Date.now()}}function _w(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(t,e={}){return os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qV=/^https?/;async function KV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WV(t);for(const n of e)try{if(GV(n))return}catch{}pn(t,"unauthorized-domain")}function GV(t){const e=dp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qV.test(n))return!1;if(HV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=new al(3e4,6e4);function ww(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YV(t){return new Promise((e,n)=>{var r,s,i;function o(){ww(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ww(),n(Sn(t,"network-request-failed"))},timeout:QV.get()})}if(!((s=(r=Fn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Fn().gapi)===null||i===void 0)&&i.load)o();else{const a=zj("iframefcb");return Fn()[a]=()=>{gapi.load?o():n(Sn(t,"network-request-failed"))},TS(`${$j()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Uu=null,e})}let Uu=null;function XV(t){return Uu=Uu||YV(t),Uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new al(5e3,15e3),ZV="__/auth/iframe",e4="emulator/auth/iframe",t4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r4(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zm(e,e4):`https://${t.config.authDomain}/${ZV}`,r={apiKey:e.apiKey,appName:t.name,v:io},s=n4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ol(r).slice(1)}`}async function s4(t){const e=await XV(t),n=Fn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:r4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Sn(t,"network-request-failed"),a=Fn().setTimeout(()=>{i(o)},JV.get());function u(){Fn().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o4=500,a4=600,l4="_blank",u4="http://localhost";class Ew{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c4(t,e,n,r=o4,s=a4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},i4),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Rt().toLowerCase();n&&(a=mS(c)?l4:n),fS(c)&&(e=e||u4,u.scrollbars="yes");const h=Object.entries(u).reduce((g,[T,R])=>`${g}${T}=${R},`,"");if(Nj(c)&&a!=="_self")return d4(e||"",a),new Ew(null);const p=window.open(e||"",a,h);J(p,t,"popup-blocked");try{p.focus()}catch{}return new Ew(p)}function d4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="__/auth/handler",f4="emulator/auth/handler",p4=encodeURIComponent("fac");async function Tw(t,e,n,r,s,i){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:io,eventId:s};if(e instanceof sg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",PO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof ul){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${p4}=${encodeURIComponent(u)}`:"";return`${m4(t)}?${ol(a).slice(1)}${c}`}function m4({config:t}){return t.emulator?Zm(t,f4):`https://${t.authDomain}/${h4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh="webStorageSupport";class g4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AS,this._completeRedirectFn=UV,this._overrideRedirectResult=jV}async _openPopup(e,n,r,s){var i;gr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Tw(e,n,r,dp(),s);return c4(e,o,ig())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Tw(e,n,r,dp(),s);return _V(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(gr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await s4(e),r=new zV(e);return n.register("authEvent",s=>(J(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qh,{type:qh},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[qh];o!==void 0&&n(!!o),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wS()||pS()||tg()}}const y4=g4;var xw="@firebase/auth",Iw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w4(t){Wn(new Cn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ES(t)},c=new Vj(r,s,i,u);return Kj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wn(new Cn("auth-internal",e=>{const n=as(e.getProvider("auth").getImmediate());return(r=>new v4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dn(xw,Iw,_4(t)),dn(xw,Iw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=5*60,T4=CI("authIdTokenMaxAge")||E4;let Sw=null;const x4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>T4)return;const s=n==null?void 0:n.token;Sw!==s&&(Sw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function I4(t=Hm()){const e=Gs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qj(t,{popupRedirectResolver:y4,persistence:[RV,gV,AS]}),r=CI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=x4(i.toString());dV(n,o,()=>o(n.currentUser)),cV(n,a=>o(a))}}const s=SI("auth");return s&&Gj(n,`http://${s}`),n}function S4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Fj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Sn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",S4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w4("Browser");var kw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,VS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function C(){}C.prototype=v.prototype,S.D=v.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(b,N,D){for(var P=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)P[Q-2]=arguments[Q];return v.prototype[N].apply(b,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,v,C){C||(C=0);var b=Array(16);if(typeof v=="string")for(var N=0;16>N;++N)b[N]=v.charCodeAt(C++)|v.charCodeAt(C++)<<8|v.charCodeAt(C++)<<16|v.charCodeAt(C++)<<24;else for(N=0;16>N;++N)b[N]=v[C++]|v[C++]<<8|v[C++]<<16|v[C++]<<24;v=S.g[0],C=S.g[1],N=S.g[2];var D=S.g[3],P=v+(D^C&(N^D))+b[0]+3614090360&4294967295;v=C+(P<<7&4294967295|P>>>25),P=D+(N^v&(C^N))+b[1]+3905402710&4294967295,D=v+(P<<12&4294967295|P>>>20),P=N+(C^D&(v^C))+b[2]+606105819&4294967295,N=D+(P<<17&4294967295|P>>>15),P=C+(v^N&(D^v))+b[3]+3250441966&4294967295,C=N+(P<<22&4294967295|P>>>10),P=v+(D^C&(N^D))+b[4]+4118548399&4294967295,v=C+(P<<7&4294967295|P>>>25),P=D+(N^v&(C^N))+b[5]+1200080426&4294967295,D=v+(P<<12&4294967295|P>>>20),P=N+(C^D&(v^C))+b[6]+2821735955&4294967295,N=D+(P<<17&4294967295|P>>>15),P=C+(v^N&(D^v))+b[7]+4249261313&4294967295,C=N+(P<<22&4294967295|P>>>10),P=v+(D^C&(N^D))+b[8]+1770035416&4294967295,v=C+(P<<7&4294967295|P>>>25),P=D+(N^v&(C^N))+b[9]+2336552879&4294967295,D=v+(P<<12&4294967295|P>>>20),P=N+(C^D&(v^C))+b[10]+4294925233&4294967295,N=D+(P<<17&4294967295|P>>>15),P=C+(v^N&(D^v))+b[11]+2304563134&4294967295,C=N+(P<<22&4294967295|P>>>10),P=v+(D^C&(N^D))+b[12]+1804603682&4294967295,v=C+(P<<7&4294967295|P>>>25),P=D+(N^v&(C^N))+b[13]+4254626195&4294967295,D=v+(P<<12&4294967295|P>>>20),P=N+(C^D&(v^C))+b[14]+2792965006&4294967295,N=D+(P<<17&4294967295|P>>>15),P=C+(v^N&(D^v))+b[15]+1236535329&4294967295,C=N+(P<<22&4294967295|P>>>10),P=v+(N^D&(C^N))+b[1]+4129170786&4294967295,v=C+(P<<5&4294967295|P>>>27),P=D+(C^N&(v^C))+b[6]+3225465664&4294967295,D=v+(P<<9&4294967295|P>>>23),P=N+(v^C&(D^v))+b[11]+643717713&4294967295,N=D+(P<<14&4294967295|P>>>18),P=C+(D^v&(N^D))+b[0]+3921069994&4294967295,C=N+(P<<20&4294967295|P>>>12),P=v+(N^D&(C^N))+b[5]+3593408605&4294967295,v=C+(P<<5&4294967295|P>>>27),P=D+(C^N&(v^C))+b[10]+38016083&4294967295,D=v+(P<<9&4294967295|P>>>23),P=N+(v^C&(D^v))+b[15]+3634488961&4294967295,N=D+(P<<14&4294967295|P>>>18),P=C+(D^v&(N^D))+b[4]+3889429448&4294967295,C=N+(P<<20&4294967295|P>>>12),P=v+(N^D&(C^N))+b[9]+568446438&4294967295,v=C+(P<<5&4294967295|P>>>27),P=D+(C^N&(v^C))+b[14]+3275163606&4294967295,D=v+(P<<9&4294967295|P>>>23),P=N+(v^C&(D^v))+b[3]+4107603335&4294967295,N=D+(P<<14&4294967295|P>>>18),P=C+(D^v&(N^D))+b[8]+1163531501&4294967295,C=N+(P<<20&4294967295|P>>>12),P=v+(N^D&(C^N))+b[13]+2850285829&4294967295,v=C+(P<<5&4294967295|P>>>27),P=D+(C^N&(v^C))+b[2]+4243563512&4294967295,D=v+(P<<9&4294967295|P>>>23),P=N+(v^C&(D^v))+b[7]+1735328473&4294967295,N=D+(P<<14&4294967295|P>>>18),P=C+(D^v&(N^D))+b[12]+2368359562&4294967295,C=N+(P<<20&4294967295|P>>>12),P=v+(C^N^D)+b[5]+4294588738&4294967295,v=C+(P<<4&4294967295|P>>>28),P=D+(v^C^N)+b[8]+2272392833&4294967295,D=v+(P<<11&4294967295|P>>>21),P=N+(D^v^C)+b[11]+1839030562&4294967295,N=D+(P<<16&4294967295|P>>>16),P=C+(N^D^v)+b[14]+4259657740&4294967295,C=N+(P<<23&4294967295|P>>>9),P=v+(C^N^D)+b[1]+2763975236&4294967295,v=C+(P<<4&4294967295|P>>>28),P=D+(v^C^N)+b[4]+1272893353&4294967295,D=v+(P<<11&4294967295|P>>>21),P=N+(D^v^C)+b[7]+4139469664&4294967295,N=D+(P<<16&4294967295|P>>>16),P=C+(N^D^v)+b[10]+3200236656&4294967295,C=N+(P<<23&4294967295|P>>>9),P=v+(C^N^D)+b[13]+681279174&4294967295,v=C+(P<<4&4294967295|P>>>28),P=D+(v^C^N)+b[0]+3936430074&4294967295,D=v+(P<<11&4294967295|P>>>21),P=N+(D^v^C)+b[3]+3572445317&4294967295,N=D+(P<<16&4294967295|P>>>16),P=C+(N^D^v)+b[6]+76029189&4294967295,C=N+(P<<23&4294967295|P>>>9),P=v+(C^N^D)+b[9]+3654602809&4294967295,v=C+(P<<4&4294967295|P>>>28),P=D+(v^C^N)+b[12]+3873151461&4294967295,D=v+(P<<11&4294967295|P>>>21),P=N+(D^v^C)+b[15]+530742520&4294967295,N=D+(P<<16&4294967295|P>>>16),P=C+(N^D^v)+b[2]+3299628645&4294967295,C=N+(P<<23&4294967295|P>>>9),P=v+(N^(C|~D))+b[0]+4096336452&4294967295,v=C+(P<<6&4294967295|P>>>26),P=D+(C^(v|~N))+b[7]+1126891415&4294967295,D=v+(P<<10&4294967295|P>>>22),P=N+(v^(D|~C))+b[14]+2878612391&4294967295,N=D+(P<<15&4294967295|P>>>17),P=C+(D^(N|~v))+b[5]+4237533241&4294967295,C=N+(P<<21&4294967295|P>>>11),P=v+(N^(C|~D))+b[12]+1700485571&4294967295,v=C+(P<<6&4294967295|P>>>26),P=D+(C^(v|~N))+b[3]+2399980690&4294967295,D=v+(P<<10&4294967295|P>>>22),P=N+(v^(D|~C))+b[10]+4293915773&4294967295,N=D+(P<<15&4294967295|P>>>17),P=C+(D^(N|~v))+b[1]+2240044497&4294967295,C=N+(P<<21&4294967295|P>>>11),P=v+(N^(C|~D))+b[8]+1873313359&4294967295,v=C+(P<<6&4294967295|P>>>26),P=D+(C^(v|~N))+b[15]+4264355552&4294967295,D=v+(P<<10&4294967295|P>>>22),P=N+(v^(D|~C))+b[6]+2734768916&4294967295,N=D+(P<<15&4294967295|P>>>17),P=C+(D^(N|~v))+b[13]+1309151649&4294967295,C=N+(P<<21&4294967295|P>>>11),P=v+(N^(C|~D))+b[4]+4149444226&4294967295,v=C+(P<<6&4294967295|P>>>26),P=D+(C^(v|~N))+b[11]+3174756917&4294967295,D=v+(P<<10&4294967295|P>>>22),P=N+(v^(D|~C))+b[2]+718787259&4294967295,N=D+(P<<15&4294967295|P>>>17),P=C+(D^(N|~v))+b[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var C=v-this.blockSize,b=this.B,N=this.h,D=0;D<v;){if(N==0)for(;D<=C;)s(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<v;)if(b[N++]=S.charCodeAt(D++),N==this.blockSize){s(this,b),N=0;break}}else for(;D<v;)if(b[N++]=S[D++],N==this.blockSize){s(this,b),N=0;break}}this.h=N,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var C=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=C&255,C/=256;for(this.u(S),S=Array(16),v=C=0;4>v;++v)for(var b=0;32>b;b+=8)S[C++]=this.g[v]>>>b&255;return S};function i(S,v){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=v(S)}function o(S,v){this.h=v;for(var C=[],b=!0,N=S.length-1;0<=N;N--){var D=S[N]|0;b&&D==v||(C[N]=D,b=!1)}this.g=C}var a={};function u(S){return-128<=S&&128>S?i(S,function(v){return new o([v|0],0>v?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return k(c(-S));for(var v=[],C=1,b=0;S>=C;b++)v[b]=S/C|0,C*=4294967296;return new o(v,0)}function h(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return k(h(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(v,8)),b=p,N=0;N<S.length;N+=8){var D=Math.min(8,S.length-N),P=parseInt(S.substring(N,N+D),v);8>D?(D=c(Math.pow(v,D)),b=b.j(D).add(c(P))):(b=b.j(C),b=b.add(c(P)))}return b}var p=u(0),g=u(1),T=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-k(this).m();for(var S=0,v=1,C=0;C<this.g.length;C++){var b=this.i(C);S+=(0<=b?b:4294967296+b)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(R(this))return"0";if(x(this))return"-"+k(this).toString(S);for(var v=c(Math.pow(S,6)),C=this,b="";;){var N=A(C,v).g;C=E(C,N.j(v));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=N,R(C))return D+b;for(;6>D.length;)D="0"+D;b=D+b}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function R(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function x(S){return S.h==-1}t.l=function(S){return S=E(this,S),x(S)?-1:R(S)?0:1};function k(S){for(var v=S.g.length,C=[],b=0;b<v;b++)C[b]=~S.g[b];return new o(C,~S.h).add(g)}t.abs=function(){return x(this)?k(this):this},t.add=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],b=0,N=0;N<=v;N++){var D=b+(this.i(N)&65535)+(S.i(N)&65535),P=(D>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);b=P>>>16,D&=65535,P&=65535,C[N]=P<<16|D}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(S,v){return S.add(k(v))}t.j=function(S){if(R(this)||R(S))return p;if(x(this))return x(S)?k(this).j(k(S)):k(k(this).j(S));if(x(S))return k(this.j(k(S)));if(0>this.l(T)&&0>S.l(T))return c(this.m()*S.m());for(var v=this.g.length+S.g.length,C=[],b=0;b<2*v;b++)C[b]=0;for(b=0;b<this.g.length;b++)for(var N=0;N<S.g.length;N++){var D=this.i(b)>>>16,P=this.i(b)&65535,Q=S.i(N)>>>16,ge=S.i(N)&65535;C[2*b+2*N]+=P*ge,_(C,2*b+2*N),C[2*b+2*N+1]+=D*ge,_(C,2*b+2*N+1),C[2*b+2*N+1]+=P*Q,_(C,2*b+2*N+1),C[2*b+2*N+2]+=D*Q,_(C,2*b+2*N+2)}for(b=0;b<v;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=v;b<2*v;b++)C[b]=0;return new o(C,0)};function _(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function w(S,v){this.g=S,this.h=v}function A(S,v){if(R(v))throw Error("division by zero");if(R(S))return new w(p,p);if(x(S))return v=A(k(S),v),new w(k(v.g),k(v.h));if(x(v))return v=A(S,k(v)),new w(k(v.g),v.h);if(30<S.g.length){if(x(S)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var C=g,b=v;0>=b.l(S);)C=L(C),b=L(b);var N=M(C,1),D=M(b,1);for(b=M(b,2),C=M(C,2);!R(b);){var P=D.add(b);0>=P.l(S)&&(N=N.add(C),D=P),b=M(b,1),C=M(C,1)}return v=E(S,N.j(v)),new w(N,v)}for(N=p;0<=S.l(v);){for(C=Math.max(1,Math.floor(S.m()/v.m())),b=Math.ceil(Math.log(C)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),D=c(C),P=D.j(v);x(P)||0<P.l(S);)C-=b,D=c(C),P=D.j(v);R(D)&&(D=g),N=N.add(D),S=E(S,P)}return new w(N,S)}t.A=function(S){return A(this,S).h},t.and=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],b=0;b<v;b++)C[b]=this.i(b)&S.i(b);return new o(C,this.h&S.h)},t.or=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],b=0;b<v;b++)C[b]=this.i(b)|S.i(b);return new o(C,this.h|S.h)},t.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],b=0;b<v;b++)C[b]=this.i(b)^S.i(b);return new o(C,this.h^S.h)};function L(S){for(var v=S.g.length+1,C=[],b=0;b<v;b++)C[b]=S.i(b)<<1|S.i(b-1)>>>31;return new o(C,S.h)}function M(S,v){var C=v>>5;v%=32;for(var b=S.g.length-C,N=[],D=0;D<b;D++)N[D]=0<v?S.i(D+C)>>>v|S.i(D+C+1)<<32-v:S.i(D+C);return new o(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,VS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Rs=o}).apply(typeof kw<"u"?kw:typeof self<"u"?self:typeof window<"u"?window:{});var du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FS,qo,US,$u,mp,$S,zS,BS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof du=="object"&&du];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var m=r;l=l.split(".");for(var I=0;I<l.length-1;I++){var O=l[I];if(!(O in m))break e;m=m[O]}l=l[l.length-1],I=m[l],f=f(I),f!=I&&f!=null&&e(m,l,{configurable:!0,writable:!0,value:f})}}function i(l,f){l instanceof String&&(l+="");var m=0,I=!1,O={next:function(){if(!I&&m<l.length){var j=m++;return{value:f(j,l[j]),done:!1}}return I=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(l){return l||function(){return i(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function h(l,f,m){return l.call.apply(l.bind,arguments)}function p(l,f,m){if(!l)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,I),l.apply(f,O)}}return function(){return l.apply(f,arguments)}}function g(l,f,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function T(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var I=m.slice();return I.push.apply(I,arguments),l.apply(this,I)}}function R(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(I,O,j){for(var z=Array(arguments.length-2),be=2;be<arguments.length;be++)z[be-2]=arguments[be];return f.prototype[O].apply(I,z)}}function x(l){const f=l.length;if(0<f){const m=Array(f);for(let I=0;I<f;I++)m[I]=l[I];return m}return[]}function k(l,f){for(let m=1;m<arguments.length;m++){const I=arguments[m];if(u(I)){const O=l.length||0,j=I.length||0;l.length=O+j;for(let z=0;z<j;z++)l[O+z]=I[z]}else l.push(I)}}class E{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function _(l){return/^[\s\xa0]*$/.test(l)}function w(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function A(l){return A[" "](l),l}A[" "]=function(){};var L=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function M(l,f,m){for(const I in l)f.call(m,l[I],I,l)}function S(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function v(l){const f={};for(const m in l)f[m]=l[m];return f}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(l,f){let m,I;for(let O=1;O<arguments.length;O++){I=arguments[O];for(m in I)l[m]=I[m];for(let j=0;j<C.length;j++)m=C[j],Object.prototype.hasOwnProperty.call(I,m)&&(l[m]=I[m])}}function N(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function D(l){a.setTimeout(()=>{throw l},0)}function P(){var l=Y;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Q{constructor(){this.h=this.g=null}add(f,m){const I=ge.get();I.set(f,m),this.h?this.h.next=I:this.g=I,this.h=I}}var ge=new E(()=>new ae,l=>l.reset());class ae{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,V=!1,Y=new Q,Z=()=>{const l=a.Promise.resolve(void 0);Ae=()=>{l.then(Ee)}};var Ee=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(m){D(m)}var f=ge;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}V=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return l}();function st(l,f){if(ee.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,I=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(L){e:{try{A(f.nodeName);var O=!0;break e}catch{}O=!1}O||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:yt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&st.aa.h.call(this)}}R(st,ee);var yt={2:"touch",3:"pen",4:"mouse"};st.prototype.h=function(){st.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),ei=0;function wr(l,f,m,I,O){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!I,this.ha=O,this.key=++ei,this.da=this.fa=!1}function gn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Pn(l){this.src=l,this.g={},this.h=0}Pn.prototype.add=function(l,f,m,I,O){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var z=ho(l,f,I,O);return-1<z?(f=l[z],m||(f.fa=!1)):(f=new wr(f,this.src,j,!!I,O),f.fa=m,l.push(f)),f};function Nn(l,f){var m=f.type;if(m in l.g){var I=l.g[m],O=Array.prototype.indexOf.call(I,f,void 0),j;(j=0<=O)&&Array.prototype.splice.call(I,O,1),j&&(gn(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function ho(l,f,m,I){for(var O=0;O<l.length;++O){var j=l[O];if(!j.da&&j.listener==f&&j.capture==!!m&&j.ha==I)return O}return-1}var fo="closure_lm_"+(1e6*Math.random()|0),cs={};function Tl(l,f,m,I,O){if(Array.isArray(f)){for(var j=0;j<f.length;j++)Tl(l,f[j],m,I,O);return null}return m=Zg(m),l&&l[we]?l.K(f,m,c(I)?!!I.capture:!1,O):B(l,f,m,!1,I,O)}function B(l,f,m,I,O,j){if(!f)throw Error("Invalid event type");var z=c(O)?!!O.capture:!!O,be=Md(l);if(be||(l[fo]=be=new Pn(l)),m=be.add(f,m,I,z,j),m.proxy)return m;if(I=de(),m.proxy=I,I.src=l,I.listener=m,l.addEventListener)Te||(O=z),O===void 0&&(O=!1),l.addEventListener(f.toString(),I,O);else if(l.attachEvent)l.attachEvent(Ne(f.toString()),I);else if(l.addListener&&l.removeListener)l.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return m}function de(){function l(m){return f.call(l.src,l.listener,m)}const f=Er;return l}function ye(l,f,m,I,O){if(Array.isArray(f))for(var j=0;j<f.length;j++)ye(l,f[j],m,I,O);else I=c(I)?!!I.capture:!!I,m=Zg(m),l&&l[we]?(l=l.i,f=String(f).toString(),f in l.g&&(j=l.g[f],m=ho(j,m,I,O),-1<m&&(gn(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete l.g[f],l.h--)))):l&&(l=Md(l))&&(f=l.g[f.toString()],l=-1,f&&(l=ho(f,m,I,O)),(m=-1<l?f[l]:null)&&ie(m))}function ie(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[we])Nn(f.i,l);else{var m=l.type,I=l.proxy;f.removeEventListener?f.removeEventListener(m,I,l.capture):f.detachEvent?f.detachEvent(Ne(m),I):f.addListener&&f.removeListener&&f.removeListener(I),(m=Md(f))?(Nn(m,l),m.h==0&&(m.src=null,f[fo]=null)):gn(l)}}}function Ne(l){return l in cs?cs[l]:cs[l]="on"+l}function Er(l,f){if(l.da)l=!0;else{f=new st(f,this);var m=l.listener,I=l.ha||l.src;l.fa&&ie(l),l=m.call(I,f)}return l}function Md(l){return l=l[fo],l instanceof Pn?l:null}var Ld="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zg(l){return typeof l=="function"?l:(l[Ld]||(l[Ld]=function(f){return l.handleEvent(f)}),l[Ld])}function vt(){se.call(this),this.i=new Pn(this),this.M=this,this.F=null}R(vt,se),vt.prototype[we]=!0,vt.prototype.removeEventListener=function(l,f,m,I){ye(this,l,f,m,I)};function At(l,f){var m,I=l.F;if(I)for(m=[];I;I=I.F)m.push(I);if(l=l.M,I=f.type||f,typeof f=="string")f=new ee(f,l);else if(f instanceof ee)f.target=f.target||l;else{var O=f;f=new ee(I,l),b(f,O)}if(O=!0,m)for(var j=m.length-1;0<=j;j--){var z=f.g=m[j];O=xl(z,I,!0,f)&&O}if(z=f.g=l,O=xl(z,I,!0,f)&&O,O=xl(z,I,!1,f)&&O,m)for(j=0;j<m.length;j++)z=f.g=m[j],O=xl(z,I,!1,f)&&O}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],I=0;I<m.length;I++)gn(m[I]);delete l.g[f],l.h--}}this.F=null},vt.prototype.K=function(l,f,m,I){return this.i.add(String(l),f,!1,m,I)},vt.prototype.L=function(l,f,m,I){return this.i.add(String(l),f,!0,m,I)};function xl(l,f,m,I){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var O=!0,j=0;j<f.length;++j){var z=f[j];if(z&&!z.da&&z.capture==m){var be=z.listener,lt=z.ha||z.src;z.fa&&Nn(l.i,z),O=be.call(lt,I)!==!1&&O}}return O&&!I.defaultPrevented}function ey(l,f,m){if(typeof l=="function")m&&(l=g(l,m));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function ty(l){l.g=ey(()=>{l.g=null,l.i&&(l.i=!1,ty(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Zk extends se{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ty(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function po(l){se.call(this),this.h=l,this.g={}}R(po,se);var ny=[];function ry(l){M(l.g,function(f,m){this.g.hasOwnProperty(m)&&ie(f)},l),l.g={}}po.prototype.N=function(){po.aa.N.call(this),ry(this)},po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jd=a.JSON.stringify,eC=a.JSON.parse,tC=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Vd(){}Vd.prototype.h=null;function sy(l){return l.h||(l.h=l.i())}function iy(){}var mo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fd(){ee.call(this,"d")}R(Fd,ee);function Ud(){ee.call(this,"c")}R(Ud,ee);var ds={},oy=null;function Il(){return oy=oy||new vt}ds.La="serverreachability";function ay(l){ee.call(this,ds.La,l)}R(ay,ee);function go(l){const f=Il();At(f,new ay(f))}ds.STAT_EVENT="statevent";function ly(l,f){ee.call(this,ds.STAT_EVENT,l),this.stat=f}R(ly,ee);function Pt(l){const f=Il();At(f,new ly(f,l))}ds.Ma="timingevent";function uy(l,f){ee.call(this,ds.Ma,l),this.size=f}R(uy,ee);function yo(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function vo(){this.g=!0}vo.prototype.xa=function(){this.g=!1};function nC(l,f,m,I,O,j){l.info(function(){if(l.g)if(j)for(var z="",be=j.split("&"),lt=0;lt<be.length;lt++){var ve=be[lt].split("=");if(1<ve.length){var _t=ve[0];ve=ve[1];var wt=_t.split("_");z=2<=wt.length&&wt[1]=="type"?z+(_t+"="+ve+"&"):z+(_t+"=redacted&")}}else z=null;else z=j;return"XMLHTTP REQ ("+I+") [attempt "+O+"]: "+f+`
`+m+`
`+z})}function rC(l,f,m,I,O,j,z){l.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+O+"]: "+f+`
`+m+`
`+j+" "+z})}function ti(l,f,m,I){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+iC(l,m)+(I?" "+I:"")})}function sC(l,f){l.info(function(){return"TIMEOUT: "+f})}vo.prototype.info=function(){};function iC(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var I=m[l];if(!(2>I.length)){var O=I[1];if(Array.isArray(O)&&!(1>O.length)){var j=O[0];if(j!="noop"&&j!="stop"&&j!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return jd(m)}catch{return f}}var Sl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$d;function kl(){}R(kl,Vd),kl.prototype.g=function(){return new XMLHttpRequest},kl.prototype.i=function(){return{}},$d=new kl;function Tr(l,f,m,I){this.j=l,this.i=f,this.l=m,this.R=I||1,this.U=new po(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dy}function dy(){this.i=null,this.g="",this.h=!1}var hy={},zd={};function Bd(l,f,m){l.L=1,l.v=Al(Qn(f)),l.m=m,l.P=!0,fy(l,null)}function fy(l,f){l.F=Date.now(),Cl(l),l.A=Qn(l.v);var m=l.A,I=l.R;Array.isArray(I)||(I=[String(I)]),Cy(m.i,"t",I),l.C=0,m=l.j.J,l.h=new dy,l.g=Hy(l.j,m?f:null,!l.m),0<l.O&&(l.M=new Zk(g(l.Y,l,l.g),l.O)),f=l.U,m=l.g,I=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(ny[0]=O.toString()),O=ny);for(var j=0;j<O.length;j++){var z=Tl(m,O[j],I||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),go(),nC(l.i,l.u,l.A,l.l,l.R,l.m)}Tr.prototype.ca=function(l){l=l.target;const f=this.M;f&&Yn(l)==3?f.j():this.Y(l)},Tr.prototype.Y=function(l){try{if(l==this.g)e:{const wt=Yn(this.g);var f=this.g.Ba();const si=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Oy(this.g)))){this.J||wt!=4||f==7||(f==8||0>=si?go(3):go(2)),Wd(this);var m=this.g.Z();this.X=m;t:if(py(this)){var I=Oy(this.g);l="";var O=I.length,j=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hs(this),_o(this);var z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<O;f++)this.h.h=!0,l+=this.h.i.decode(I[f],{stream:!(j&&f==O-1)});I.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=m==200,rC(this.i,this.u,this.A,this.l,this.R,wt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var be,lt=this.g;if((be=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(be)){var ve=be;break t}}ve=null}if(m=ve)ti(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hd(this,m);else{this.o=!1,this.s=3,Pt(12),hs(this),_o(this);break e}}if(this.P){m=!0;let yn;for(;!this.J&&this.C<z.length;)if(yn=oC(this,z),yn==zd){wt==4&&(this.s=4,Pt(14),m=!1),ti(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==hy){this.s=4,Pt(15),ti(this.i,this.l,z,"[Invalid Chunk]"),m=!1;break}else ti(this.i,this.l,yn,null),Hd(this,yn);if(py(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||z.length!=0||this.h.h||(this.s=1,Pt(16),m=!1),this.o=this.o&&m,!m)ti(this.i,this.l,z,"[Invalid Chunked Response]"),hs(this),_o(this);else if(0<z.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Xd(_t),_t.M=!0,Pt(11))}}else ti(this.i,this.l,z,null),Hd(this,z);wt==4&&hs(this),this.o&&!this.J&&(wt==4?$y(this.j,this):(this.o=!1,Cl(this)))}else xC(this.g),m==400&&0<z.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),hs(this),_o(this)}}}catch{}finally{}};function py(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function oC(l,f){var m=l.C,I=f.indexOf(`
`,m);return I==-1?zd:(m=Number(f.substring(m,I)),isNaN(m)?hy:(I+=1,I+m>f.length?zd:(f=f.slice(I,I+m),l.C=I+m,f)))}Tr.prototype.cancel=function(){this.J=!0,hs(this)};function Cl(l){l.S=Date.now()+l.I,my(l,l.I)}function my(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yo(g(l.ba,l),f)}function Wd(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Tr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(sC(this.i,this.A),this.L!=2&&(go(),Pt(17)),hs(this),this.s=2,_o(this)):my(this,this.S-l)};function _o(l){l.j.G==0||l.J||$y(l.j,l)}function hs(l){Wd(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,ry(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Hd(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||qd(m.h,l))){if(!l.K&&qd(m.h,l)&&m.G==3){try{var I=m.Da.g.parse(f)}catch{I=null}if(Array.isArray(I)&&I.length==3){var O=I;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Ll(m),Ol(m);else break e;Yd(m),Pt(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=yo(g(m.Za,m),6e3));if(1>=vy(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ps(m,11)}else if((l.K||m.g==l)&&Ll(m),!_(f))for(O=m.Da.g.parse(f),f=0;f<O.length;f++){let ve=O[f];if(m.T=ve[0],ve=ve[1],m.G==2)if(ve[0]=="c"){m.K=ve[1],m.ia=ve[2];const _t=ve[3];_t!=null&&(m.la=_t,m.j.info("VER="+m.la));const wt=ve[4];wt!=null&&(m.Aa=wt,m.j.info("SVER="+m.Aa));const si=ve[5];si!=null&&typeof si=="number"&&0<si&&(I=1.5*si,m.L=I,m.j.info("backChannelRequestTimeoutMs_="+I)),I=m;const yn=l.g;if(yn){const Vl=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vl){var j=I.h;j.g||Vl.indexOf("spdy")==-1&&Vl.indexOf("quic")==-1&&Vl.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Kd(j,j.h),j.h=null))}if(I.D){const Jd=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jd&&(I.ya=Jd,De(I.I,I.D,Jd))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),I=m;var z=l;if(I.qa=Wy(I,I.J?I.ia:null,I.W),z.K){_y(I.h,z);var be=z,lt=I.L;lt&&(be.I=lt),be.B&&(Wd(be),Cl(be)),I.g=z}else Fy(I);0<m.i.length&&Ml(m)}else ve[0]!="stop"&&ve[0]!="close"||ps(m,7);else m.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?ps(m,7):Qd(m):ve[0]!="noop"&&m.l&&m.l.ta(ve),m.v=0)}}go(4)}catch{}}var aC=class{constructor(l,f){this.g=l,this.map=f}};function gy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function vy(l){return l.h?1:l.g?l.g.size:0}function qd(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Kd(l,f){l.g?l.g.add(f):l.h=f}function _y(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}gy.prototype.cancel=function(){if(this.i=wy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function wy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return x(l.i)}function lC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],m=l.length,I=0;I<m;I++)f.push(l[I]);return f}f=[],m=0;for(I in l)f[m++]=l[I];return f}function uC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const I in l)f[m++]=I;return f}}}function Ey(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=uC(l),I=lC(l),O=I.length,j=0;j<O;j++)f.call(void 0,I[j],m&&m[j],l)}var Ty=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cC(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var I=l[m].indexOf("="),O=null;if(0<=I){var j=l[m].substring(0,I);O=l[m].substring(I+1)}else j=l[m];f(j,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function fs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof fs){this.h=l.h,Rl(this,l.j),this.o=l.o,this.g=l.g,bl(this,l.s),this.l=l.l;var f=l.i,m=new To;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),xy(this,m),this.m=l.m}else l&&(f=String(l).match(Ty))?(this.h=!1,Rl(this,f[1]||"",!0),this.o=wo(f[2]||""),this.g=wo(f[3]||"",!0),bl(this,f[4]),this.l=wo(f[5]||"",!0),xy(this,f[6]||"",!0),this.m=wo(f[7]||"")):(this.h=!1,this.i=new To(null,this.h))}fs.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Eo(f,Iy,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Eo(f,Iy,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Eo(m,m.charAt(0)=="/"?fC:hC,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Eo(m,mC)),l.join("")};function Qn(l){return new fs(l)}function Rl(l,f,m){l.j=m?wo(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function bl(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function xy(l,f,m){f instanceof To?(l.i=f,gC(l.i,l.h)):(m||(f=Eo(f,pC)),l.i=new To(f,l.h))}function De(l,f,m){l.i.set(f,m)}function Al(l){return De(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function wo(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Eo(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,dC),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function dC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Iy=/[#\/\?@]/g,hC=/[#\?:]/g,fC=/[#\?]/g,pC=/[#\?@]/g,mC=/#/g;function To(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function xr(l){l.g||(l.g=new Map,l.h=0,l.i&&cC(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=To.prototype,t.add=function(l,f){xr(this),this.i=null,l=ni(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function Sy(l,f){xr(l),f=ni(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function ky(l,f){return xr(l),f=ni(l,f),l.g.has(f)}t.forEach=function(l,f){xr(this),this.g.forEach(function(m,I){m.forEach(function(O){l.call(f,O,I,this)},this)},this)},t.na=function(){xr(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let I=0;I<f.length;I++){const O=l[I];for(let j=0;j<O.length;j++)m.push(f[I])}return m},t.V=function(l){xr(this);let f=[];if(typeof l=="string")ky(this,l)&&(f=f.concat(this.g.get(ni(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},t.set=function(l,f){return xr(this),this.i=null,l=ni(this,l),ky(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Cy(l,f,m){Sy(l,f),0<m.length&&(l.i=null,l.g.set(ni(l,f),x(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var I=f[m];const j=encodeURIComponent(String(I)),z=this.V(I);for(I=0;I<z.length;I++){var O=j;z[I]!==""&&(O+="="+encodeURIComponent(String(z[I]))),l.push(O)}}return this.i=l.join("&")};function ni(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function gC(l,f){f&&!l.j&&(xr(l),l.i=null,l.g.forEach(function(m,I){var O=I.toLowerCase();I!=O&&(Sy(this,I),Cy(this,O,m))},l)),l.j=f}function yC(l,f){const m=new vo;if(a.Image){const I=new Image;I.onload=T(Ir,m,"TestLoadImage: loaded",!0,f,I),I.onerror=T(Ir,m,"TestLoadImage: error",!1,f,I),I.onabort=T(Ir,m,"TestLoadImage: abort",!1,f,I),I.ontimeout=T(Ir,m,"TestLoadImage: timeout",!1,f,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=l}else f(!1)}function vC(l,f){const m=new vo,I=new AbortController,O=setTimeout(()=>{I.abort(),Ir(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:I.signal}).then(j=>{clearTimeout(O),j.ok?Ir(m,"TestPingServer: ok",!0,f):Ir(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(O),Ir(m,"TestPingServer: error",!1,f)})}function Ir(l,f,m,I,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),I(m)}catch{}}function _C(){this.g=new tC}function wC(l,f,m){const I=m||"";try{Ey(l,function(O,j){let z=O;c(O)&&(z=jd(O)),f.push(I+j+"="+encodeURIComponent(z))})}catch(O){throw f.push(I+"type="+encodeURIComponent("_badmap")),O}}function Pl(l){this.l=l.Ub||null,this.j=l.eb||!1}R(Pl,Vd),Pl.prototype.g=function(){return new Nl(this.l,this.j)},Pl.prototype.i=function(l){return function(){return l}}({});function Nl(l,f){vt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Nl,vt),t=Nl.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Io(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Io(this)),this.g&&(this.readyState=3,Io(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ry(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ry(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?xo(this):Io(this),this.readyState==3&&Ry(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,xo(this))},t.Qa=function(l){this.g&&(this.response=l,xo(this))},t.ga=function(){this.g&&xo(this)};function xo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Io(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function Io(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function by(l){let f="";return M(l,function(m,I){f+=I,f+=":",f+=m,f+=`\r
`}),f}function Gd(l,f,m){e:{for(I in m){var I=!1;break e}I=!0}I||(m=by(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):De(l,f,m))}function He(l){vt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(He,vt);var EC=/^https?$/i,TC=["POST","PUT"];t=He.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,m,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$d.g(),this.v=this.o?sy(this.o):sy($d),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(j){Ay(this,j);return}if(l=m||"",m=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var O in I)m.set(O,I[O]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const j of I.keys())m.set(j,I.get(j));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),O=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(TC,f,void 0))||I||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,z]of m)this.g.setRequestHeader(j,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dy(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){Ay(this,j)}};function Ay(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Py(l),Dl(l)}function Py(l){l.A||(l.A=!0,At(l,"complete"),At(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,At(this,"complete"),At(this,"abort"),Dl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dl(this,!0)),He.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ny(this):this.bb())},t.bb=function(){Ny(this)};function Ny(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Yn(l)!=4||l.Z()!=2)){if(l.u&&Yn(l)==4)ey(l.Ea,0,l);else if(At(l,"readystatechange"),Yn(l)==4){l.h=!1;try{const z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var I;if(I=z===0){var O=String(l.D).match(Ty)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),I=!EC.test(O?O.toLowerCase():"")}m=I}if(m)At(l,"complete"),At(l,"success");else{l.m=6;try{var j=2<Yn(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",Py(l)}}finally{Dl(l)}}}}function Dl(l,f){if(l.g){Dy(l);const m=l.g,I=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||At(l,"ready");try{m.onreadystatechange=I}catch{}}}function Dy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Yn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),eC(f)}};function Oy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function xC(l){const f={};l=(l.g&&2<=Yn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<l.length;I++){if(_(l[I]))continue;var m=N(l[I]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=f[O]||[];f[O]=j,j.push(m)}S(f,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function My(l){this.Aa=0,this.i=[],this.j=new vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=So("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=So("baseRetryDelayMs",5e3,l),this.cb=So("retryDelaySeedMs",1e4,l),this.Wa=So("forwardChannelMaxRetries",2,l),this.wa=So("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new gy(l&&l.concurrentRequestLimit),this.Da=new _C,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=My.prototype,t.la=8,t.G=1,t.connect=function(l,f,m,I){Pt(0),this.W=l,this.H=f||{},m&&I!==void 0&&(this.H.OSID=m,this.H.OAID=I),this.F=this.X,this.I=Wy(this,null,this.W),Ml(this)};function Qd(l){if(Ly(l),l.G==3){var f=l.U++,m=Qn(l.I);if(De(m,"SID",l.K),De(m,"RID",f),De(m,"TYPE","terminate"),ko(l,m),f=new Tr(l,l.j,f),f.L=2,f.v=Al(Qn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Hy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Cl(f)}By(l)}function Ol(l){l.g&&(Xd(l),l.g.cancel(),l.g=null)}function Ly(l){Ol(l),l.u&&(a.clearTimeout(l.u),l.u=null),Ll(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ml(l){if(!yy(l.h)&&!l.s){l.s=!0;var f=l.Ga;Ae||Z(),V||(Ae(),V=!0),Y.add(f,l),l.B=0}}function IC(l,f){return vy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yo(g(l.Ga,l,f),zy(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Tr(this,this.j,l);let j=this.o;if(this.S&&(j?(j=v(j),b(j,this.S)):j=this.S),this.m!==null||this.O||(O.H=j,j=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var I=this.i[m];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(f+=I,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Vy(this,O,f),m=Qn(this.I),De(m,"RID",l),De(m,"CVER",22),this.D&&De(m,"X-HTTP-Session-Id",this.D),ko(this,m),j&&(this.O?f="headers="+encodeURIComponent(String(by(j)))+"&"+f:this.m&&Gd(m,this.m,j)),Kd(this.h,O),this.Ua&&De(m,"TYPE","init"),this.P?(De(m,"$req",f),De(m,"SID","null"),O.T=!0,Bd(O,m,null)):Bd(O,m,f),this.G=2}}else this.G==3&&(l?jy(this,l):this.i.length==0||yy(this.h)||jy(this))};function jy(l,f){var m;f?m=f.l:m=l.U++;const I=Qn(l.I);De(I,"SID",l.K),De(I,"RID",m),De(I,"AID",l.T),ko(l,I),l.m&&l.o&&Gd(I,l.m,l.o),m=new Tr(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Vy(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Kd(l.h,m),Bd(m,I,f)}function ko(l,f){l.H&&M(l.H,function(m,I){De(f,I,m)}),l.l&&Ey({},function(m,I){De(f,I,m)})}function Vy(l,f,m){m=Math.min(l.i.length,m);var I=l.l?g(l.l.Na,l.l,l):null;e:{var O=l.i;let j=-1;for(;;){const z=["count="+m];j==-1?0<m?(j=O[0].g,z.push("ofs="+j)):j=0:z.push("ofs="+j);let be=!0;for(let lt=0;lt<m;lt++){let ve=O[lt].g;const _t=O[lt].map;if(ve-=j,0>ve)j=Math.max(0,O[lt].g-100),be=!1;else try{wC(_t,z,"req"+ve+"_")}catch{I&&I(_t)}}if(be){I=z.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,I}function Fy(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Ae||Z(),V||(Ae(),V=!0),Y.add(f,l),l.v=0}}function Yd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yo(g(l.Fa,l),zy(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Uy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yo(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Ol(this),Uy(this))};function Xd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Uy(l){l.g=new Tr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Qn(l.qa);De(f,"RID","rpc"),De(f,"SID",l.K),De(f,"AID",l.T),De(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&De(f,"TO",l.ja),De(f,"TYPE","xmlhttp"),ko(l,f),l.m&&l.o&&Gd(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Al(Qn(f)),m.m=null,m.P=!0,fy(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Ol(this),Yd(this),Pt(19))};function Ll(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function $y(l,f){var m=null;if(l.g==f){Ll(l),Xd(l),l.g=null;var I=2}else if(qd(l.h,f))m=f.D,_y(l.h,f),I=1;else return;if(l.G!=0){if(f.o)if(I==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var O=l.B;I=Il(),At(I,new uy(I,m)),Ml(l)}else Fy(l);else if(O=f.s,O==3||O==0&&0<f.X||!(I==1&&IC(l,f)||I==2&&Yd(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),O){case 1:ps(l,5);break;case 4:ps(l,10);break;case 3:ps(l,6);break;default:ps(l,2)}}}function zy(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function ps(l,f){if(l.j.info("Error code "+f),f==2){var m=g(l.fb,l),I=l.Xa;const O=!I;I=new fs(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rl(I,"https"),Al(I),O?yC(I.toString(),m):vC(I.toString(),m)}else Pt(2);l.G=0,l.l&&l.l.sa(f),By(l),Ly(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function By(l){if(l.G=0,l.ka=[],l.l){const f=wy(l.h);(f.length!=0||l.i.length!=0)&&(k(l.ka,f),k(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function Wy(l,f,m){var I=m instanceof fs?Qn(m):new fs(m);if(I.g!="")f&&(I.g=f+"."+I.g),bl(I,I.s);else{var O=a.location;I=O.protocol,f=f?f+"."+O.hostname:O.hostname,O=+O.port;var j=new fs(null);I&&Rl(j,I),f&&(j.g=f),O&&bl(j,O),m&&(j.l=m),I=j}return m=l.D,f=l.ya,m&&f&&De(I,m,f),De(I,"VER",l.la),ko(l,I),I}function Hy(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new He(new Pl({eb:m})):new He(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qy(){}t=qy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jl(){}jl.prototype.g=function(l,f){return new Qt(l,f)};function Qt(l,f){vt.call(this),this.g=new My(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!_(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!_(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new ri(this)}R(Qt,vt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Qd(this.g)},Qt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=jd(l),l=m);f.i.push(new aC(f.Ya++,l)),f.G==3&&Ml(f)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Qd(this.g),delete this.g,Qt.aa.N.call(this)};function Ky(l){Fd.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}R(Ky,Fd);function Gy(){Ud.call(this),this.status=1}R(Gy,Ud);function ri(l){this.g=l}R(ri,qy),ri.prototype.ua=function(){At(this.g,"a")},ri.prototype.ta=function(l){At(this.g,new Ky(l))},ri.prototype.sa=function(l){At(this.g,new Gy)},ri.prototype.ra=function(){At(this.g,"b")},jl.prototype.createWebChannel=jl.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,BS=function(){return new jl},zS=function(){return Il()},$S=ds,mp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sl.NO_ERROR=0,Sl.TIMEOUT=8,Sl.HTTP_ERROR=6,$u=Sl,cy.COMPLETE="complete",US=cy,iy.EventType=mo,mo.OPEN="a",mo.CLOSE="b",mo.ERROR="c",mo.MESSAGE="d",vt.prototype.listen=vt.prototype.K,qo=iy,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,FS=He}).apply(typeof du<"u"?du:typeof self<"u"?self:typeof window<"u"?window:{});const Cw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new cd("@firebase/firestore");function jo(){return $s.logLevel}function G(t,...e){if($s.logLevel<=ce.DEBUG){const n=e.map(ag);$s.debug(`Firestore (${ao}): ${t}`,...n)}}function yr(t,...e){if($s.logLevel<=ce.ERROR){const n=e.map(ag);$s.error(`Firestore (${ao}): ${t}`,...n)}}function Wi(t,...e){if($s.logLevel<=ce.WARN){const n=e.map(ag);$s.warn(`Firestore (${ao}): ${t}`,...n)}}function ag(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+t;throw yr(e),new Error(e)}function Se(t,e){t||te()}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends An{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class C4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R4{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ur,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ur)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new WS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new It(e)}}class b4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class A4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new b4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Se(this.o===void 0);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new P4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=D4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Hi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new ze(0,0))}static max(){return new ne(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ua?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends Ua{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const O4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Ua{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return O4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Me.fromString(e))}static fromName(e){return new X(Me.fromString(e).popFirst(5))}static empty(){return new X(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Me(e.slice()))}}function M4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ne.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new Jr(s,X.empty(),e)}function L4(t){return new Jr(t.readTime,t.key,-1)}class Jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jr(ne.min(),X.empty(),-1)}static max(){return new Jr(ne.max(),X.empty(),-1)}}function j4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==V4)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function U4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}lg.oe=-1;function gd(t){return t==null}function Pc(t){return t===0&&1/t==-1/0}function $4(t){return typeof t=="number"&&Number.isInteger(t)&&!Pc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hu(this.root,e,this.comparator,!0)}}class hu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ct.RED,this.left=s??ct.EMPTY,this.right=i??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ct(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ct.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bw(this.data.getIterator())}getIteratorFrom(e){return new bw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class bw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new en([])}unionWith(e){let n=new pt(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new en(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new KS("Invalid base64 string: "+i):i}}(e);return new gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const z4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(t){if(Se(!!t),typeof t=="string"){let e=0;const n=z4.exec(t);if(Se(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zs(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cg(t){const e=t.mapValue.fields.__previous_value__;return ug(e)?cg(e):e}function $a(t){const e=Zr(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n,r,s,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class za{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new za("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof za&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu={mapValue:{}};function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ug(t)?4:H4(t)?9007199254740991:W4(t)?10:11:te()}function Hn(t,e){if(t===e)return!0;const n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $a(t).isEqual($a(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Zr(s.timestampValue),a=Zr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return zs(s.bytesValue).isEqual(zs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ge(s.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(s.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ge(s.integerValue)===Ge(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ge(s.doubleValue),a=Ge(i.doubleValue);return o===a?Pc(o)===Pc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Hi(t.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Rw(o)!==Rw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Hn(o[u],a[u])))return!1;return!0}(t,e);default:return te()}}function Ba(t,e){return(t.values||[]).find(n=>Hn(n,e))!==void 0}function qi(t,e){if(t===e)return 0;const n=Bs(t),r=Bs(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ge(i.integerValue||i.doubleValue),u=Ge(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Aw(t.timestampValue,e.timestampValue);case 4:return Aw($a(t),$a(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(i,o){const a=zs(i),u=zs(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=_e(a[c],u[c]);if(h!==0)return h}return _e(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=_e(Ge(i.latitude),Ge(o.latitude));return a!==0?a:_e(Ge(i.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Pw(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,h;const p=i.fields||{},g=o.fields||{},T=(a=p.value)===null||a===void 0?void 0:a.arrayValue,R=(u=g.value)===null||u===void 0?void 0:u.arrayValue,x=_e(((c=T==null?void 0:T.values)===null||c===void 0?void 0:c.length)||0,((h=R==null?void 0:R.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:Pw(T,R)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===fu.mapValue&&o===fu.mapValue)return 0;if(i===fu.mapValue)return 1;if(o===fu.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const g=_e(u[p],h[p]);if(g!==0)return g;const T=qi(a[u[p]],c[h[p]]);if(T!==0)return T}return _e(u.length,h.length)}(t.mapValue,e.mapValue);default:throw te()}}function Aw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Zr(t),r=Zr(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function Pw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=qi(n[s],r[s]);if(i)return i}return _e(n.length,r.length)}function Ki(t){return gp(t)}function gp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=gp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${gp(n.fields[o])}`;return s+"}"}(t.mapValue):te()}function Nw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yp(t){return!!t&&"integerValue"in t}function dg(t){return!!t&&"arrayValue"in t}function Dw(t){return!!t&&"nullValue"in t}function Ow(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zu(t){return!!t&&"mapValue"in t}function W4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ca(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ca(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ca(t.arrayValue.values[n]);return e}return Object.assign({},t)}function H4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ca(n)}setAll(e){let n=ht.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ca(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());zu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];zu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Qs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new zt(ca(this.value))}}function GS(t){const e=[];return Qs(t.fields,(n,r)=>{const s=new ht([n]);if(zu(r)){const i=GS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new en(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,ne.min(),ne.min(),ne.min(),zt.empty(),0)}static newFoundDocument(e,n,r,s){return new kt(e,1,n,ne.min(),r,s,0)}static newNoDocument(e,n){return new kt(e,2,n,ne.min(),ne.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,ne.min(),ne.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.position=e,this.inclusive=n}}function Mw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=qi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n="asc"){this.field=e,this.dir=n}}function q4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{}class et extends QS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new G4(e,n,r):n==="array-contains"?new X4(e,r):n==="in"?new J4(e,r):n==="not-in"?new Z4(e,r):n==="array-contains-any"?new eF(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q4(e,r):new Y4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qi(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(qi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends QS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Rn(e,n)}matches(e){return YS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function YS(t){return t.op==="and"}function XS(t){return K4(t)&&YS(t)}function K4(t){for(const e of t.filters)if(e instanceof Rn)return!1;return!0}function vp(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+Ki(t.value);if(XS(t))return t.filters.map(e=>vp(e)).join(",");{const e=t.filters.map(n=>vp(n)).join(",");return`${t.op}(${e})`}}function JS(t,e){return t instanceof et?function(r,s){return s instanceof et&&r.op===s.op&&r.field.isEqual(s.field)&&Hn(r.value,s.value)}(t,e):t instanceof Rn?function(r,s){return s instanceof Rn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&JS(o,s.filters[a]),!0):!1}(t,e):void te()}function ZS(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${Ki(n.value)}`}(t):t instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(ZS).join(" ,")+"}"}(t):"Filter"}class G4 extends et{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q4 extends et{constructor(e,n){super(e,"in",n),this.keys=e1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Y4 extends et{constructor(e,n){super(e,"not-in",n),this.keys=e1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function e1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class X4 extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dg(n)&&Ba(n.arrayValue,this.value)}}class J4 extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ba(this.value.arrayValue,n)}}class Z4 extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ba(this.value.arrayValue,n)}}class eF extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ba(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function jw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new tF(t,e,n,r,s,i,o)}function hg(t){const e=re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ki(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ki(r)).join(",")),e.ue=n}return e.ue}function fg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!q4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lw(t.startAt,e.startAt)&&Lw(t.endAt,e.endAt)}function _p(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function nF(t,e,n,r,s,i,o,a){return new lo(t,e,n,r,s,i,o,a)}function pg(t){return new lo(t)}function Vw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function t1(t){return t.collectionGroup!==null}function da(t){const e=re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pt(ht.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Wa(i,r))}),n.has(ht.keyField().canonicalString())||e.ce.push(new Wa(ht.keyField(),r))}return e.ce}function Un(t){const e=re(t);return e.le||(e.le=rF(e,da(t))),e.le}function rF(t,e){if(t.limitType==="F")return jw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Wa(s.field,i)});const n=t.endAt?new Nc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nc(t.startAt.position,t.startAt.inclusive):null;return jw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wp(t,e){const n=t.filters.concat([e]);return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ep(t,e,n){return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yd(t,e){return fg(Un(t),Un(e))&&t.limitType===e.limitType}function n1(t){return`${hg(Un(t))}|lt:${t.limitType}`}function ci(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>ZS(s)).join(", ")}]`),gd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ki(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ki(s)).join(",")),`Target(${r})`}(Un(t))}; limitType=${t.limitType})`}function vd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):X.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of da(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=Mw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,da(r),s)||r.endAt&&!function(o,a,u){const c=Mw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,da(r),s))}(t,e)}function sF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function r1(t){return(e,n)=>{let r=!1;for(const s of da(t)){const i=iF(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function iF(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?qi(u,c):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return qS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=new We(X.comparator);function vr(){return oF}const s1=new We(X.comparator);function Ko(...t){let e=s1;for(const n of t)e=e.insert(n.key,n);return e}function i1(t){let e=s1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ss(){return ha()}function o1(){return ha()}function ha(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const aF=new We(X.comparator),lF=new pt(X.comparator);function ue(...t){let e=lF;for(const n of t)e=e.add(n);return e}const uF=new pt(_e);function cF(){return uF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(e)?"-0":e}}function a1(t){return{integerValue:""+t}}function l1(t,e){return $4(e)?a1(e):mg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this._=void 0}}function dF(t,e,n){return t instanceof Dc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ug(i)&&(i=cg(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ha?c1(t,e):t instanceof qa?d1(t,e):function(s,i){const o=u1(s,i),a=Fw(o)+Fw(s.Pe);return yp(o)&&yp(s.Pe)?a1(a):mg(s.serializer,a)}(t,e)}function hF(t,e,n){return t instanceof Ha?c1(t,e):t instanceof qa?d1(t,e):n}function u1(t,e){return t instanceof Ka?function(r){return yp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Dc extends _d{}class Ha extends _d{constructor(e){super(),this.elements=e}}function c1(t,e){const n=h1(e);for(const r of t.elements)n.some(s=>Hn(s,r))||n.push(r);return{arrayValue:{values:n}}}class qa extends _d{constructor(e){super(),this.elements=e}}function d1(t,e){let n=h1(e);for(const r of t.elements)n=n.filter(s=>!Hn(s,r));return{arrayValue:{values:n}}}class Ka extends _d{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Fw(t){return Ge(t.integerValue||t.doubleValue)}function h1(t){return dg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n){this.field=e,this.transform=n}}function pF(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ha&&s instanceof Ha||r instanceof qa&&s instanceof qa?Hi(r.elements,s.elements,Hn):r instanceof Ka&&s instanceof Ka?Hn(r.Pe,s.Pe):r instanceof Dc&&s instanceof Dc}(t.transform,e.transform)}class mF{constructor(e,n){this.version=e,this.transformResults=n}}class Lt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lt}static exists(e){return new Lt(void 0,e)}static updateTime(e){return new Lt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wd{}function f1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ed(t.key,Lt.none()):new fl(t.key,t.data,Lt.none());{const n=t.data,r=zt.empty();let s=new pt(ht.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ls(t.key,r,new en(s.toArray()),Lt.none())}}function gF(t,e,n){t instanceof fl?function(s,i,o){const a=s.value.clone(),u=$w(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ls?function(s,i,o){if(!Bu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=$w(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(p1(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fa(t,e,n,r){return t instanceof fl?function(i,o,a,u){if(!Bu(i.precondition,o))return a;const c=i.value.clone(),h=zw(i.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ls?function(i,o,a,u){if(!Bu(i.precondition,o))return a;const c=zw(i.fieldTransforms,u,o),h=o.data;return h.setAll(p1(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Bu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=u1(r.transform,s||null);i!=null&&(n===null&&(n=zt.empty()),n.set(r.field,i))}return n||null}function Uw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Hi(r,s,(i,o)=>pF(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fl extends wd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ls extends wd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function p1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $w(t,e,n){const r=new Map;Se(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,hF(o,a,n[s]))}return r}function zw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,dF(i,o,e))}return r}class Ed extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vF extends wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&gF(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=o1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=f1(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Hi(this.mutations,e.mutations,(n,r)=>Uw(n,r))&&Hi(this.baseMutations,e.baseMutations,(n,r)=>Uw(n,r))}}class gg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Se(e.mutations.length===r.length);let s=function(){return aF}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new gg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,he;function TF(t){switch(t){default:return te();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function m1(t){if(t===void 0)return yr("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ye.OK:return F.OK;case Ye.CANCELLED:return F.CANCELLED;case Ye.UNKNOWN:return F.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return F.INTERNAL;case Ye.UNAVAILABLE:return F.UNAVAILABLE;case Ye.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ye.NOT_FOUND:return F.NOT_FOUND;case Ye.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ye.ABORTED:return F.ABORTED;case Ye.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ye.DATA_LOSS:return F.DATA_LOSS;default:return te()}}(he=Ye||(Ye={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=new Rs([4294967295,4294967295],0);function Bw(t){const e=xF().encode(t),n=new VS;return n.update(e),new Uint8Array(n.digest())}function Ww(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Rs([n,r],0),new Rs([s,i],0)]}class yg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Go(`Invalid padding: ${n}`);if(r<0)throw new Go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Go(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Rs.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Rs.fromNumber(r)));return s.compare(IF)===1&&(s=new Rs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Bw(e),[r,s]=Ww(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new yg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Bw(e),[r,s]=Ww(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,pl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Td(ne.min(),s,new We(_e),vr(),ue())}}class pl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pl(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class g1{constructor(e,n){this.targetId=e,this.me=n}}class y1{constructor(e,n,r=gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Hw{constructor(){this.fe=0,this.ge=Kw(),this.pe=gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:te()}}),new pl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Kw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Se(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class SF{constructor(e){this.Le=e,this.Be=new Map,this.ke=vr(),this.qe=qw(),this.Qe=new We(_e)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(_p(i))if(r===0){const o=new X(i.path);this.Ue(n,o,kt.newNoDocument(o,ne.min()))}else Se(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=zs(r).toUint8Array()}catch(u){if(u instanceof KS)return Wi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new yg(o,s,i)}catch(u){return Wi(u instanceof Go?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&_p(a.target)){const u=new X(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,kt.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ue();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Td(e,n,this.Qe,this.ke,r);return this.ke=vr(),this.qe=qw(),this.Qe=new We(_e),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Hw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new pt(_e),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Hw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function qw(){return new We(X.comparator)}function Kw(){return new We(X.comparator)}const kF={asc:"ASCENDING",desc:"DESCENDING"},CF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RF={and:"AND",or:"OR"};class bF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tp(t,e){return t.useProto3Json||gd(e)?e:{value:e}}function Oc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AF(t,e){return Oc(t,e.toTimestamp())}function $n(t){return Se(!!t),ne.fromTimestamp(function(n){const r=Zr(n);return new ze(r.seconds,r.nanos)}(t))}function vg(t,e){return xp(t,e).canonicalString()}function xp(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _1(t){const e=Me.fromString(t);return Se(I1(e)),e}function Ip(t,e){return vg(t.databaseId,e.path)}function Kh(t,e){const n=_1(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(E1(n))}function w1(t,e){return vg(t.databaseId,e)}function PF(t){const e=_1(t);return e.length===4?Me.emptyPath():E1(e)}function Sp(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function E1(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Gw(t,e,n){return{name:Ip(t,e),fields:n.value.mapValue.fields}}function NF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Se(h===void 0||typeof h=="string"),gt.fromBase64String(h||"")):(Se(h===void 0||h instanceof Buffer||h instanceof Uint8Array),gt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?F.UNKNOWN:m1(c.code);return new W(h,c.message||"")}(o);n=new y1(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Kh(t,r.document.name),i=$n(r.document.updateTime),o=r.document.createTime?$n(r.document.createTime):ne.min(),a=new zt({mapValue:{fields:r.document.fields}}),u=kt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Wu(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Kh(t,r.document),i=r.readTime?$n(r.readTime):ne.min(),o=kt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Wu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Kh(t,r.document),i=r.removedTargetIds||[];n=new Wu([],i,s,null)}else{if(!("filter"in e))return te();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new EF(s,i),a=r.targetId;n=new g1(a,o)}}return n}function DF(t,e){let n;if(e instanceof fl)n={update:Gw(t,e.key,e.value)};else if(e instanceof Ed)n={delete:Ip(t,e.key)};else if(e instanceof ls)n={update:Gw(t,e.key,e.data),updateMask:zF(e.fieldMask)};else{if(!(e instanceof vF))return te();n={verify:Ip(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Dc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof qa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ka)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:AF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:te()}(t,e.precondition)),n}function OF(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?$n(s.updateTime):$n(i);return o.isEqual(ne.min())&&(o=$n(i)),new mF(o,s.transformResults||[])}(n,e))):[]}function MF(t,e){return{documents:[w1(t,e.path)]}}function LF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=w1(t,s);const i=function(c){if(c.length!==0)return x1(Rn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(g){return{field:di(g.field),direction:FF(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Tp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function jF(t){let e=PF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Se(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const g=T1(p);return g instanceof Rn&&XS(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(R){return new Wa(hi(R.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,gd(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,T=p.values||[];return new Nc(T,g)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const g=!p.before,T=p.values||[];return new Nc(T,g)}(n.endAt)),nF(e,s,o,i,a,"F",u,c)}function VF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function T1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=hi(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=hi(n.unaryFilter.field);return et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hi(n.unaryFilter.field);return et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hi(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return et.create(hi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(r=>T1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function FF(t){return kF[t]}function UF(t){return CF[t]}function $F(t){return RF[t]}function di(t){return{fieldPath:t.canonicalString()}}function hi(t){return ht.fromServerFormat(t.fieldPath)}function x1(t){return t instanceof et?function(n){if(n.op==="=="){if(Ow(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NAN"}};if(Dw(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ow(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NOT_NAN"}};if(Dw(n.value))return{unaryFilter:{field:di(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:di(n.field),op:UF(n.op),value:n.value}}}(t):t instanceof Rn?function(n){const r=n.getFilters().map(s=>x1(s));return r.length===1?r[0]:{compositeFilter:{op:$F(n.op),filters:r}}}(t):te()}function zF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function I1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r,s,i=ne.min(),o=ne.min(),a=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.ct=e}}function WF(t){const e=jF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this.un=new qF}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Jr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class qF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new pt(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Gi(0)}static kn(){return new Gi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&fa(r.mutation,s,en.empty(),ze.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const s=Ss();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ko();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=vr();const o=ha(),a=function(){return ha()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof ls)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),fa(h.mutation,c,h.mutation.getFieldMask(),ze.now())):o.set(c.key,en.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var p;return a.set(c,new GF(h,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ha();let s=new We((o,a)=>o-a),i=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||en.empty();h=a.applyToLocalView(c,h),r.set(u,h);const p=(s.get(a.batchId)||ue()).add(u);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,p=o1();h.forEach(g=>{if(!i.has(g)){const T=f1(n.get(g),r.get(g));T!==null&&p.set(g,T),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):t1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Ss());let a=-1,u=i;return o.next(c=>U.forEach(c,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,ue())).next(h=>({batchId:a,changes:i1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let s=Ko();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ko();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,u=>{const c=function(p,g){return new lo(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,kt.newInvalidDocument(h)))});let a=Ko();return o.forEach((u,c)=>{const h=i.get(u);h!==void 0&&fa(h.mutation,c,en.empty(),ze.now()),vd(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:$n(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:WF(s.bundledQuery),readTime:$n(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(){this.overlays=new We(X.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ss();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Ss(),i=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new We((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Ss(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ss(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return U.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wF(n,r));let i=this.Ir.get(n);i===void 0&&(i=ue(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(){this.Tr=new pt(it.Er),this.dr=new pt(it.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new it(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new it(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new X(new Me([])),r=new it(n,e),s=new it(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new X(new Me([])),r=new it(n,e),s=new it(n,e+1);let i=ue();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new it(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class it{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return X.comparator(e.key,n.key)||_e(e.wr,n.wr)}static Ar(e,n){return _e(e.wr,n.wr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new pt(it.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _F(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new it(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new it(n,0),s=new it(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(_e);return n.forEach(s=>{const i=new it(s,0),o=new it(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;X.isDocumentKey(i)||(i=i.child(""));const o=new it(new X(i),0);let a=new pt(_e);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Se(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,s=>{const i=new it(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new it(n,0),s=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.Mr=e,this.docs=function(){return new We(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=vr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():kt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=vr();const o=n.path,a=new X(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||j4(L4(h),r)<=0||(s.has(h.key)||vd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){te()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new t3(this)}getSize(e){return U.resolve(this.size)}}class t3 extends KF{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.persistence=e,this.Nr=new uo(n=>hg(n),fg),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _g,this.targetCount=0,this.kr=Gi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Gi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new lg(0),this.Kr=!1,this.Kr=!0,this.$r=new JF,this.referenceDelegate=e(this),this.Ur=new n3(this),this.indexManager=new HF,this.remoteDocumentCache=function(s){return new e3(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new BF(n),this.Gr=new YF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new ZF(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new s3(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class s3 extends F4{constructor(e){super(),this.currentSequenceNumber=e}}class wg{constructor(e){this.persistence=e,this.Jr=new _g,this.Yr=null}static Zr(e){return new wg(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const s=X.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ue(),s=ue();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Eg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return kO()?8:U4(Rt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new i3;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(jo()<=ce.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ci(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(jo()<=ce.DEBUG&&G("QueryEngine","Query:",ci(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(jo()<=ce.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ci(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(n))):U.resolve())}Yi(e,n){if(Vw(n))return U.resolve(null);let r=Un(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ep(n,null,"F"),r=Un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ue(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,Ep(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,s){return Vw(n)||s.isEqual(ne.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?U.resolve(null):(jo()<=ce.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ci(n)),this.rs(e,o,n,M4(s,-1)).next(a=>a))})}ts(e,n){let r=new pt(r1(e));return n.forEach((s,i)=>{vd(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return jo()<=ce.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ci(n)),this.Ji.getDocumentsMatchingQuery(e,n,Jr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new We(_e),this._s=new uo(i=>hg(i),fg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function l3(t,e,n,r){return new a3(t,e,n,r)}async function S1(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=ue();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function u3(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const p=c.batch,g=p.keys();let T=U.resolve();return g.forEach(R=>{T=T.next(()=>h.getEntry(u,R)).next(x=>{const k=c.docVersions.get(R);Se(k!==null),x.version.compareTo(k)<0&&(p.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),h.addEntry(x)))})}),T.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function k1(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function c3(t,e){const n=re(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,p)=>{const g=s.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,p)));let T=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?T=T.withResumeToken(gt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(h.resumeToken,r)),s=s.insert(p,T),function(x,k,E){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,T,h)&&a.push(n.Ur.updateTargetData(i,T))});let u=vr(),c=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(d3(i,o,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(ne.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(p=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.os=s,i))}function d3(t,e,n){let r=ue(),s=ue();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=vr();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function h3(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function f3(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Vr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function kp(t,e,n){const r=re(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!hl(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Qw(t,e,n){const r=re(t);let s=ne.min(),i=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const p=re(u),g=p._s.get(h);return g!==void 0?U.resolve(p.os.get(g)):p.Ur.getTargetData(c,h)}(r,o,Un(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ne.min(),n?i:ue())).next(a=>(p3(r,sF(e),a),{documents:a,Ts:i})))}function p3(t,e,n){let r=t.us.get(e)||ne.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Yw{constructor(){this.activeTargetIds=cF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m3{constructor(){this.so=new Yw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Yw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu=null;function Gh(){return pu===null?pu=function(){return 268435456+Math.round(2147483648*Math.random())}():pu++,"0x"+pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class _3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Gh(),u=this.xo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,u,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,u,c,s).then(h=>(G("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Wi("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=y3[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Gh();return new Promise((o,a)=>{const u=new FS;u.setWithCredentials(!0),u.listenOnce(US.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case $u.NO_ERROR:const h=u.getResponseJson();G(xt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case $u.TIMEOUT:G(xt,`RPC '${e}' ${i} timed out`),a(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:const p=u.getStatus();if(G(xt,`RPC '${e}' ${i} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const T=g==null?void 0:g.error;if(T&&T.status&&T.message){const R=function(k){const E=k.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(E)>=0?E:F.UNKNOWN}(T.status);a(new W(R,T.message))}else a(new W(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(F.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{G(xt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);G(xt,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Gh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=BS(),a=zS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");G(xt,`Creating RPC '${e}' stream ${s}: ${h}`,u);const p=o.createWebChannel(h,u);let g=!1,T=!1;const R=new v3({Io:k=>{T?G(xt,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(g||(G(xt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),G(xt,`RPC '${e}' stream ${s} sending:`,k),p.send(k))},To:()=>p.close()}),x=(k,E,_)=>{k.listen(E,w=>{try{_(w)}catch(A){setTimeout(()=>{throw A},0)}})};return x(p,qo.EventType.OPEN,()=>{T||(G(xt,`RPC '${e}' stream ${s} transport opened.`),R.yo())}),x(p,qo.EventType.CLOSE,()=>{T||(T=!0,G(xt,`RPC '${e}' stream ${s} transport closed`),R.So())}),x(p,qo.EventType.ERROR,k=>{T||(T=!0,Wi(xt,`RPC '${e}' stream ${s} transport errored:`,k),R.So(new W(F.UNAVAILABLE,"The operation could not be completed")))}),x(p,qo.EventType.MESSAGE,k=>{var E;if(!T){const _=k.data[0];Se(!!_);const w=_,A=w.error||((E=w[0])===null||E===void 0?void 0:E.error);if(A){G(xt,`RPC '${e}' stream ${s} received error:`,A);const L=A.status;let M=function(C){const b=Ye[C];if(b!==void 0)return m1(b)}(L),S=A.message;M===void 0&&(M=F.INTERNAL,S="Unknown error status: "+L+" with message "+A.message),T=!0,R.So(new W(M,S)),p.close()}else G(xt,`RPC '${e}' stream ${s} received:`,_),R.bo(_)}}),x(a,$S.STAT_EVENT,k=>{k.stat===mp.PROXY?G(xt,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===mp.NOPROXY&&G(xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.wo()},0),R}}function Qh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){return new bF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r,s,i,o,a,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new C1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new W(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w3 extends R1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=NF(this.serializer,e),r=function(i){if(!("targetChange"in i))return ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?$n(o.readTime):ne.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Sp(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=_p(u)?{documents:MF(i,u)}:{query:LF(i,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=v1(i,o.resumeToken);const c=Tp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=Oc(i,o.snapshotVersion.toTimestamp());const c=Tp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=VF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Sp(this.serializer),n.removeTarget=e,this.a_(n)}}class E3 extends R1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=OF(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Sp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>DF(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,xp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(F.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,xp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class x3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(yr(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ys(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=re(u);c.L_.add(4),await ml(c),c.q_.set("Unknown"),c.L_.delete(4),await Id(c)}(this))})}),this.q_=new x3(r,s)}}async function Id(t){if(Ys(t))for(const e of t.B_)await e(!0)}async function ml(t){for(const e of t.B_)await e(!1)}function b1(t,e){const n=re(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Sg(n)?Ig(n):co(n).r_()&&xg(n,e))}function Tg(t,e){const n=re(t),r=co(n);n.N_.delete(e),r.r_()&&A1(n,e),n.N_.size===0&&(r.r_()?r.o_():Ys(n)&&n.q_.set("Unknown"))}function xg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(t).A_(e)}function A1(t,e){t.Q_.xe(e),co(t).R_(e)}function Ig(t){t.Q_=new SF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),co(t).start(),t.q_.v_()}function Sg(t){return Ys(t)&&!co(t).n_()&&t.N_.size>0}function Ys(t){return re(t).L_.size===0}function P1(t){t.Q_=void 0}async function S3(t){t.q_.set("Online")}async function k3(t){t.N_.forEach((e,n)=>{xg(t,e)})}async function C3(t,e){P1(t),Sg(t)?(t.q_.M_(e),Ig(t)):t.q_.set("Unknown")}async function R3(t,e,n){if(t.q_.set("Online"),e instanceof y1&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mc(t,r)}else if(e instanceof Wu?t.Q_.Ke(e):e instanceof g1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{const r=await k1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.N_.get(c);h&&i.N_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=i.N_.get(u);if(!h)return;i.N_.set(u,h.withResumeToken(gt.EMPTY_BYTE_STRING,h.snapshotVersion)),A1(i,u);const p=new Vr(h.target,u,c,h.sequenceNumber);xg(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Mc(t,r)}}async function Mc(t,e,n){if(!hl(e))throw e;t.L_.add(1),await ml(t),t.q_.set("Offline"),n||(n=()=>k1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Id(t)})}function N1(t,e){return e().catch(n=>Mc(t,n,e))}async function Sd(t){const e=re(t),n=es(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;b3(e);)try{const s=await h3(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,A3(e,s)}catch(s){await Mc(e,s)}D1(e)&&O1(e)}function b3(t){return Ys(t)&&t.O_.length<10}function A3(t,e){t.O_.push(e);const n=es(t);n.r_()&&n.V_&&n.m_(e.mutations)}function D1(t){return Ys(t)&&!es(t).n_()&&t.O_.length>0}function O1(t){es(t).start()}async function P3(t){es(t).p_()}async function N3(t){const e=es(t);for(const n of t.O_)e.m_(n.mutations)}async function D3(t,e,n){const r=t.O_.shift(),s=gg.from(r,e,n);await N1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Sd(t)}async function O3(t,e){e&&es(t).V_&&await async function(r,s){if(function(o){return TF(o)&&o!==F.ABORTED}(s.code)){const i=r.O_.shift();es(r).s_(),await N1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Sd(r)}}(t,e),D1(t)&&O1(t)}async function Jw(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Ys(n);n.L_.add(3),await ml(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Id(n)}async function M3(t,e){const n=re(t);e?(n.L_.delete(2),await Id(n)):e||(n.L_.add(2),await ml(n),n.q_.set("Unknown"))}function co(t){return t.K_||(t.K_=function(n,r,s){const i=re(n);return i.w_(),new w3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:S3.bind(null,t),Ro:k3.bind(null,t),mo:C3.bind(null,t),d_:R3.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Sg(t)?Ig(t):t.q_.set("Unknown")):(await t.K_.stop(),P1(t))})),t.K_}function es(t){return t.U_||(t.U_=function(n,r,s){const i=re(n);return i.w_(),new E3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:P3.bind(null,t),mo:O3.bind(null,t),f_:N3.bind(null,t),g_:D3.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Sd(t)):(await t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new kg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(t,e){if(yr("AsyncQueue",`${e}: ${t}`),hl(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Ko(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new Li(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Li)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Li;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.W_=new We(X.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qi{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qi(e,n,Li.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class j3{constructor(){this.queries=e0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=re(n),i=s.queries;s.queries=e0(),i.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function e0(){return new uo(t=>n1(t),yd)}async function M1(t,e){const n=re(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new L3,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Cg(o,`Initialization of query '${ci(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Rg(n)}async function L1(t,e){const n=re(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function V3(t,e){const n=re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Rg(n)}function F3(t,e,n){const r=re(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Rg(t){t.Y_.forEach(e=>{e.next()})}var Cp,t0;(t0=Cp||(Cp={})).ea="default",t0.Cache="cache";class j1{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Qi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Qi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.key=e}}class F1{constructor(e){this.key=e}}class U3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=r1(e),this.Ra=new Li(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Zw,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const g=s.get(h),T=vd(this.query,p)?p:null,R=!!g&&this.mutatedKeys.has(g.key),x=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let k=!1;g&&T?g.data.isEqual(T.data)?R!==x&&(r.track({type:3,doc:T}),k=!0):this.ga(g,T)||(r.track({type:2,doc:T}),k=!0,(u&&this.Aa(T,u)>0||c&&this.Aa(T,c)<0)&&(a=!0)):!g&&T?(r.track({type:0,doc:T}),k=!0):g&&!T&&(r.track({type:1,doc:g}),k=!0,(u||c)&&(a=!0)),k&&(T?(o=o.add(T),i=x?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,p)=>function(T,R){const x=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return x(T)-x(R)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Qi(this.query,e.Ra,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Zw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new F1(r))}),this.da.forEach(r=>{e.has(r)||n.push(new V1(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Qi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class $3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class z3{constructor(e){this.key=e,this.va=!1}}class B3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new uo(a=>n1(a),yd),this.Ma=new Map,this.xa=new Set,this.Oa=new We(X.comparator),this.Na=new Map,this.La=new _g,this.Ba={},this.ka=new Map,this.qa=Gi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function W3(t,e,n=!0){const r=H1(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await U1(r,e,n,!0),s}async function H3(t,e){const n=H1(t);await U1(n,e,!0,!1)}async function U1(t,e,n,r){const s=await f3(t.localStore,Un(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await q3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&b1(t.remoteStore,s),a}async function q3(t,e,n,r,s){t.Ka=(p,g,T)=>async function(x,k,E,_){let w=k.view.ma(E);w.ns&&(w=await Qw(x.localStore,k.query,!1).then(({documents:S})=>k.view.ma(S,w)));const A=_&&_.targetChanges.get(k.targetId),L=_&&_.targetMismatches.get(k.targetId)!=null,M=k.view.applyChanges(w,x.isPrimaryClient,A,L);return r0(x,k.targetId,M.wa),M.snapshot}(t,p,g,T);const i=await Qw(t.localStore,e,!0),o=new U3(e,i.Ts),a=o.ma(i.documents),u=pl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);r0(t,n,c.wa);const h=new $3(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function K3(t,e,n){const r=re(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!yd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await kp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Tg(r.remoteStore,s.targetId),Rp(r,s.targetId)}).catch(dl)):(Rp(r,s.targetId),await kp(r.localStore,s.targetId,!0))}async function G3(t,e){const n=re(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Tg(n.remoteStore,r.targetId))}async function Q3(t,e,n){const r=nU(t);try{const s=await function(o,a){const u=re(o),c=ze.now(),h=a.reduce((T,R)=>T.add(R.key),ue());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let R=vr(),x=ue();return u.cs.getEntries(T,h).next(k=>{R=k,R.forEach((E,_)=>{_.isValidDocument()||(x=x.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,R)).next(k=>{p=k;const E=[];for(const _ of a){const w=yF(_,p.get(_.key).overlayedDocument);w!=null&&E.push(new ls(_.key,w,GS(w.value.mapValue),Lt.exists(!0)))}return u.mutationQueue.addMutationBatch(T,c,E,a)}).next(k=>{g=k;const E=k.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(T,k.batchId,E)})}).then(()=>({batchId:g.batchId,changes:i1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new We(_e)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await gl(r,s.changes),await Sd(r.remoteStore)}catch(s){const i=Cg(s,"Failed to persist write");n.reject(i)}}async function $1(t,e){const n=re(t);try{const r=await c3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Se(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Se(o.va):s.removedDocuments.size>0&&(Se(o.va),o.va=!1))}),await gl(n,r,e)}catch(r){await dl(r)}}function n0(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=re(o);u.onlineState=a;let c=!1;u.queries.forEach((h,p)=>{for(const g of p.j_)g.Z_(a)&&(c=!0)}),c&&Rg(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y3(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new We(X.comparator);o=o.insert(i,kt.newNoDocument(i,ne.min()));const a=ue().add(i),u=new Td(ne.min(),new Map,new We(_e),o,a);await $1(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),bg(r)}else await kp(r.localStore,e,!1).then(()=>Rp(r,e,n)).catch(dl)}async function X3(t,e){const n=re(t),r=e.batch.batchId;try{const s=await u3(n.localStore,e);B1(n,r,null),z1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gl(n,s)}catch(s){await dl(s)}}async function J3(t,e,n){const r=re(t);try{const s=await function(o,a){const u=re(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(p=>(Se(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);B1(r,e,n),z1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gl(r,s)}catch(s){await dl(s)}}function z1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function B1(t,e,n){const r=re(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Rp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||W1(t,r)})}function W1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Tg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),bg(t))}function r0(t,e,n){for(const r of n)r instanceof V1?(t.La.addReference(r.key,e),Z3(t,r)):r instanceof F1?(G("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||W1(t,r.key)):te()}function Z3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(r),bg(t))}function bg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new X(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new z3(n)),t.Oa=t.Oa.insert(n,r),b1(t.remoteStore,new Vr(Un(pg(n.path)),r,"TargetPurposeLimboResolution",lg.oe))}}async function gl(t,e,n){const r=re(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){s.push(c);const p=Eg.Wi(u.targetId,c);i.push(p)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,c){const h=re(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(c,g=>U.forEach(g.$i,T=>h.persistence.referenceDelegate.addReference(p,g.targetId,T)).next(()=>U.forEach(g.Ui,T=>h.persistence.referenceDelegate.removeReference(p,g.targetId,T)))))}catch(p){if(!hl(p))throw p;G("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const T=h.os.get(g),R=T.snapshotVersion,x=T.withLastLimboFreeSnapshotVersion(R);h.os=h.os.insert(g,x)}}}(r.localStore,i))}async function eU(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await S1(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(u=>{u.reject(new W(F.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gl(n,r.hs)}}function tU(t,e){const n=re(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let s=ue();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function H1(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y3.bind(null,e),e.Ca.d_=V3.bind(null,e.eventManager),e.Ca.$a=F3.bind(null,e.eventManager),e}function nU(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J3.bind(null,e),e}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return l3(this.persistence,new o3,e.initialUser,this.serializer)}Ga(e){return new r3(wg.Zr,this.serializer)}Wa(e){return new m3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class bp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>n0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eU.bind(null,this.syncEngine),await M3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new j3}()}createDatastore(e){const n=xd(e.databaseInfo.databaseId),r=function(i){return new _3(i)}(e.databaseInfo);return function(i,o,a,u){return new T3(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new I3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>n0(this.syncEngine,n,0),function(){return Xw.D()?new Xw:new g3}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,h){const p=new B3(s,i,o,a,u,c);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=re(s);G("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await ml(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}bp.provider={build:()=>new bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=It.UNAUTHENTICATED,this.clientId=HS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yh(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await S1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function s0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sU(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Jw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Jw(e.remoteStore,s)),t._onlineComponents=e}async function sU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Wi("Error using user provided cache. Falling back to memory cache: "+n),await Yh(t,new Lc)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await Yh(t,new Lc);return t._offlineComponents}async function K1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await s0(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await s0(t,new bp))),t._onlineComponents}function iU(t){return K1(t).then(e=>e.syncEngine)}async function G1(t){const e=await K1(t),n=e.eventManager;return n.onListen=W3.bind(null,e.syncEngine),n.onUnlisten=K3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=H3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=G3.bind(null,e.syncEngine),n}function oU(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const h=new q1({next:g=>{h.Za(),o.enqueueAndForget(()=>L1(i,p));const T=g.docs.has(a);!T&&g.fromCache?c.reject(new W(F.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&g.fromCache&&u&&u.source==="server"?c.reject(new W(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new j1(pg(a.path),h,{includeMetadataChanges:!0,_a:!0});return M1(i,p)}(await G1(t),t.asyncQueue,e,n,r)),r.promise}function aU(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const h=new q1({next:g=>{h.Za(),o.enqueueAndForget(()=>L1(i,p)),g.fromCache&&u.source==="server"?c.reject(new W(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new j1(a,h,{includeMetadataChanges:!0,_a:!0});return M1(i,p)}(await G1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lU(t,e,n,r){if(e===!0&&r===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function o0(t){if(!X.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a0(t){if(X.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kd(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k4;switch(r.type){case"firstParty":return new A4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=i0.get(n);r&&(G("ComponentProvider","Removing Datastore"),i0.delete(n),r.terminate())}(this),Promise.resolve()}}function uU(t,e,n,r={}){var s;const i=(t=mn(t,Cd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=It.MOCK_USER;else{a=wO(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new It(c)}t._authCredentials=new C4(new WS(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}}class Qr extends Xs{constructor(e,n,r){super(e,n,pg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new X(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function Js(t,e,...n){if(t=Ke(t),Y1("collection","path",e),t instanceof Cd){const r=Me.fromString(e,...n);return a0(r),new Qr(t,null,r)}{if(!(t instanceof jt||t instanceof Qr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return a0(r),new Qr(t.firestore,null,r)}}function qn(t,e,...n){if(t=Ke(t),arguments.length===1&&(e=HS.newId()),Y1("doc","path",e),t instanceof Cd){const r=Me.fromString(e,...n);return o0(r),new jt(t,null,new X(r))}{if(!(t instanceof jt||t instanceof Qr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return o0(r),new jt(t.firestore,t instanceof Qr?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new C1(this,"async_queue_retry"),this.Vu=()=>{const r=Qh();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Qh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Qh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ur;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!hl(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw yr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=kg.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class us extends Cd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new u0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u0(e),this._firestoreClient=void 0,await e}}}function cU(t,e){const n=typeof t=="object"?t:Hm(),r=typeof t=="string"?t:"(default)",s=Gs(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=vO("firestore");i&&uU(s,...i)}return s}function Rd(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dU(t),t._firestoreClient}function dU(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,c,h){return new B4(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Q1(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new rU(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yi(gt.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yi(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=/^__.*__$/;class fU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new fl(e,this.data,n,this.fieldTransforms)}}class X1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function J1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class Ng{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(J1(this.Cu)&&hU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class pU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xd(e)}Qu(e,n,r,s=!1){return new Ng({Cu:e,methodName:n,qu:r,path:ht.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vl(t){const e=t._freezeSettings(),n=xd(t._databaseId);return new pU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dg(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Mg("Data must be an object, but it was:",o,r);const a=tk(r,o);let u,c;if(i.merge)u=new en(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const g=Ap(e,p,n);if(!o.contains(g))throw new W(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);rk(h,g)||h.push(g)}u=new en(h),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new fU(new zt(a),u,c)}class Ad extends bd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ad}}class Og extends bd{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Ka(e.serializer,l1(e.serializer,this.$u));return new fF(e.path,n)}isEqual(e){return e instanceof Og&&this.$u===e.$u}}function Z1(t,e,n,r){const s=t.Qu(1,e,n);Mg("Data must be an object, but it was:",s,r);const i=[],o=zt.empty();Qs(r,(u,c)=>{const h=Lg(e,u,n);c=Ke(c);const p=s.Nu(h);if(c instanceof Ad)i.push(h);else{const g=_l(c,p);g!=null&&(i.push(h),o.set(h,g))}});const a=new en(i);return new X1(o,a,s.fieldTransforms)}function ek(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[Ap(e,r,n)],u=[s];if(i.length%2!=0)throw new W(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(Ap(e,i[g])),u.push(i[g+1]);const c=[],h=zt.empty();for(let g=a.length-1;g>=0;--g)if(!rk(c,a[g])){const T=a[g];let R=u[g];R=Ke(R);const x=o.Nu(T);if(R instanceof Ad)c.push(T);else{const k=_l(R,x);k!=null&&(c.push(T),h.set(T,k))}}const p=new en(c);return new X1(h,p,o.fieldTransforms)}function mU(t,e,n,r=!1){return _l(n,t.Qu(r?4:3,e))}function _l(t,e){if(nk(t=Ke(t)))return Mg("Unsupported field value:",e,t),tk(t,e);if(t instanceof bd)return function(r,s){if(!J1(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=_l(a,s.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return l1(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ze.fromDate(r);return{timestampValue:Oc(s.serializer,i)}}if(r instanceof ze){const i=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Oc(s.serializer,i)}}if(r instanceof Ag)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yi)return{bytesValue:v1(s.serializer,r._byteString)};if(r instanceof jt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Pg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return mg(a.serializer,u)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${kd(r)}`)}(t,e)}function tk(t,e){const n={};return qS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(t,(r,s)=>{const i=_l(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function nk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof Ag||t instanceof Yi||t instanceof jt||t instanceof bd||t instanceof Pg)}function Mg(t,e,n){if(!nk(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=kd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ap(t,e,n){if((e=Ke(e))instanceof yl)return e._internalPath;if(typeof e=="string")return Lg(t,e);throw jc("Field path arguments must be of type string or ",t,!1,void 0,n)}const gU=new RegExp("[~\\*/\\[\\]]");function Lg(t,e,n){if(e.search(gU)>=0)throw jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yl(...e.split("."))._internalPath}catch{throw jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new W(F.INVALID_ARGUMENT,a+t+u)}function rk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yU extends sk{data(){return super.data()}}function jg(t,e){return typeof e=="string"?Lg(t,e):e instanceof yl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vg{}class ik extends Vg{}function ok(t,e,...n){let r=[];e instanceof Vg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof Ug).length,a=i.filter(u=>u instanceof Fg).length;if(o>1||o>0&&a>0)throw new W(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Fg extends ik{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fg(e,n,r)}_apply(e){const n=this._parse(e);return lk(e._query,n),new Xs(e.firestore,e.converter,wp(e._query,n))}_parse(e){const n=vl(e.firestore);return function(i,o,a,u,c,h,p){let g;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){d0(p,h);const T=[];for(const R of p)T.push(c0(u,i,R));g={arrayValue:{values:T}}}else g=c0(u,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||d0(p,h),g=mU(a,o,p,h==="in"||h==="not-in");return et.create(c,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ug extends Vg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ug(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)lk(o,u),o=wp(o,u)}(e._query,n),new Xs(e.firestore,e.converter,wp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $g extends ik{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new $g(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new W(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new W(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wa(i,o)}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new lo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function ak(t,e="asc"){const n=e,r=jg("orderBy",t);return $g._create(r,n)}function c0(t,e,n){if(typeof(n=Ke(n))=="string"){if(n==="")throw new W(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t1(e)&&n.indexOf("/")!==-1)throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!X.isDocumentKey(r))throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nw(t,new X(r))}if(n instanceof jt)return Nw(t,n._key);throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kd(n)}.`)}function d0(t,e){if(!Array.isArray(t)||t.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lk(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _U{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ge(o.doubleValue));return new Pg(i)}convertGeoPoint(e){return new Ag(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($a(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Se(I1(r));const s=new za(r.get(1),r.get(3)),i=new X(r.popFirst(5));return s.isEqual(n)||yr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uk extends sk{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hu extends uk{data(e={}){return super.data(e)}}class wU{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Qo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hu(this._firestore,this._userDataWriter,r.key,r,new Qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Hu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Qo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Hu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Qo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:EU(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function EU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){t=mn(t,jt);const e=mn(t.firestore,us);return oU(Rd(e),t._key).then(n=>IU(e,t,n))}class dk extends _U{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function Pd(t){t=mn(t,Xs);const e=mn(t.firestore,us),n=Rd(e),r=new dk(e);return vU(t._query),aU(n,t._query).then(s=>new wU(e,r,t,s))}function TU(t,e,n){t=mn(t,jt);const r=mn(t.firestore,us),s=zg(t.converter,e,n);return wl(r,[Dg(vl(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Lt.none())])}function Nd(t,e,n,...r){t=mn(t,jt);const s=mn(t.firestore,us),i=vl(s);let o;return o=typeof(e=Ke(e))=="string"||e instanceof yl?ek(i,"updateDoc",t._key,e,n,r):Z1(i,"updateDoc",t._key,e),wl(s,[o.toMutation(t._key,Lt.exists(!0))])}function xU(t){return wl(mn(t.firestore,us),[new Ed(t._key,Lt.none())])}function Bg(t,e){const n=mn(t.firestore,us),r=qn(t),s=zg(t.converter,e);return wl(n,[Dg(vl(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Lt.exists(!1))]).then(()=>r)}function wl(t,e){return function(r,s){const i=new ur;return r.asyncQueue.enqueueAndForget(async()=>Q3(await iU(r),s,i)),i.promise}(Rd(t),e)}function IU(t,e,n){const r=n.docs.get(e._key),s=new dk(t);return new uk(t,s,e._key,r,new Qo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=vl(e)}set(e,n,r){this._verifyNotCommitted();const s=Xh(e,this._firestore),i=zg(s.converter,n,r),o=Dg(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,Lt.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Xh(e,this._firestore);let o;return o=typeof(n=Ke(n))=="string"||n instanceof yl?ek(this._dataReader,"WriteBatch.update",i._key,n,r,s):Z1(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,Lt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Xh(e,this._firestore);return this._mutations=this._mutations.concat(new Ed(n._key,Lt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new W(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xh(t,e){if((t=Ke(t)).firestore!==e)throw new W(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function hk(t){return new Og("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t){return Rd(t=mn(t,us)),new SU(t,e=>wl(t,e))}(function(e,n=!0){(function(s){ao=s})(io),Wn(new Cn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new us(new R4(r.getProvider("auth-internal")),new N4(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),dn(Cw,"4.7.3",e),dn(Cw,"4.7.3","esm2017")})();const CU={apiKey:"AIzaSyDJRsHMjU2G2BAtR3ZC9TlYjP0QMu1xSaw",authDomain:"qwer-c9de3.firebaseapp.com",projectId:"qwer-c9de3",storageBucket:"qwer-c9de3.firebasestorage.app",messagingSenderId:"144621785008",appId:"1:144621785008:web:97ce2b548fd1c26c629075",measurementId:"G-CJ1KJL5WWY"},Wg=OI(CU),Vo=I4(Wg),bt=cU(Wg);lj(Wg);const RU=new er,h0=async(t,e,n,r)=>{try{const s=qn(bt,"users",t);await TU(s,{email:e,name:n,photoURL:r||null,totalPoints:0,streak:0,totalWords:0,createdAt:ze.now()},{merge:!0})}catch(s){throw console.error("Save user data error:",s),new Error("Lưu dữ liệu người dùng thất bại")}},Jh=async t=>{try{const e=qn(bt,"users",t),n=await ck(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Get user data error:",e),new Error("Tải dữ liệu người dùng thất bại")}},bU=async t=>{try{const e=Js(bt,"users",t,"vocabularySets");return(await Pd(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting vocabulary sets:",e),new Error("Tải bộ từ thất bại")}},AU=async(t,e,n)=>{try{const r={name:e,description:n,userId:t,createdAt:ze.now(),totalWords:0};return{id:(await Bg(Js(bt,"users",t,"vocabularySets"),r)).id,...r}}catch(r){throw console.error("Error adding vocabulary set:",r),new Error("Thêm bộ từ thất bại")}},PU=async(t,e,n,r)=>{try{const s=qn(bt,"users",t,"vocabularySets",e);await Nd(s,{name:n,description:r})}catch(s){throw console.error("Error updating vocabulary set:",s),new Error("Cập nhật bộ từ thất bại")}},NU=async(t,e)=>{try{const n=kU(bt),r=qn(bt,"users",t,"vocabularySets",e),s=Js(r,"words");(await Pd(s)).docs.forEach(o=>{n.delete(o.ref)}),n.delete(r),await n.commit()}catch(n){throw console.error("Error deleting vocabulary set:",n),new Error("Xóa bộ từ thất bại")}},fk=async(t,e)=>{try{const n=Js(bt,"users",t,"vocabularySets",e,"words"),r=ok(n,ak("difficulty","asc"));return(await Pd(r)).docs.map(i=>({id:i.id,...i.data()}))}catch(n){throw console.error("Error getting vocabulary words:",n),new Error("Tải từ vựng thất bại")}},f0=async(t,e,n)=>{try{const r=Js(bt,"users",t,"vocabularySets",e,"words"),s={...n,difficulty:50,lastReviewed:null,createdAt:ze.now()},i=await Bg(r,s),o=qn(bt,"users",t,"vocabularySets",e);return await Nd(o,{totalWords:hk(1)}),{id:i.id,...s}}catch(r){throw console.error("Error adding vocabulary word:",r),new Error("Thêm từ vựng thất bại")}},DU=async(t,e,n,r)=>{try{const s=qn(bt,"users",t,"vocabularySets",e,"words",n);await Nd(s,r)}catch(s){throw console.error("Error updating vocabulary word:",s),new Error("Cập nhật từ vựng thất bại")}},OU=async(t,e,n)=>{try{const r=qn(bt,"users",t,"vocabularySets",e,"words",n);await xU(r);const s=qn(bt,"users",t,"vocabularySets",e);await Nd(s,{totalWords:hk(-1)})}catch(r){throw console.error("Error deleting vocabulary word:",r),new Error("Xóa từ vựng thất bại")}},MU=async(t,e)=>{try{const n=Js(bt,"users",t,"learningSessions");await Bg(n,{...e,date:ze.now()})}catch(n){throw console.error("Save learning session error:",n),new Error("Lưu phiên học thất bại")}},LU=async t=>{try{const e=Js(bt,"users",t,"learningSessions"),n=ok(e,ak("date","desc"));return(await Pd(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting learning sessions:",e),new Error("Tải phiên học thất bại")}},jU=async t=>{try{const e=qn(bt,"users",t),n=await ck(e);return n.exists()?n.data():null}catch(e){throw console.error("Get user statistics error:",e),new Error("Tải thống kê thất bại")}},pk=y.createContext(void 0);function Zs(){const t=y.useContext(pk);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function VU({children:t}){const[e,n]=y.useState(null),[r,s]=y.useState(!0),[i,o]=y.useState(null),a=Am(),[u,c]=y.useState(!1),h=k=>c(k),p=async(k,E)=>{try{o(null);const _=await uV(Vo,k,E),w=await Jh(_.user.uid),A={id:_.user.uid,email:_.user.email||"",name:(w==null?void 0:w.name)||"Người dùng",photoURL:_.user.photoURL||void 0,totalPoints:w==null?void 0:w.totalPoints,streak:w==null?void 0:w.streak,totalWords:(w==null?void 0:w.totalWords)||0};n(A),c(!1),a("/")}catch(_){const w=_.code?"Đăng nhập thất bại. Vui lòng kiểm tra email và mật khẩu.":"Lỗi không xác định.";throw o(w),new Error(w)}},g=async(k,E,_)=>{try{o(null);const A={id:(await lV(Vo,E,_)).user.uid,email:E,name:k,totalWords:0};await h0(A.id,{name:A.name,email:A.email,totalPoints:0,streak:0,totalWords:0}),n(A),c(!1),a("/")}catch(w){const A=w.code?"Đăng ký thất bại. Email đã được sử dụng hoặc mật khẩu quá yếu (dưới 6 ký tự).":"Lỗi không xác định.";throw o(A),new Error(A)}},T=async()=>{try{o(null);const E=(await DV(Vo,RU)).user;let _=await Jh(E.uid);if(_)n({id:E.uid,email:E.email||"",name:_.name,photoURL:E.photoURL||void 0,totalPoints:_.totalPoints,streak:_.streak,totalWords:_.totalWords});else{const w={id:E.uid,email:E.email||"",name:E.displayName||"Người dùng",photoURL:E.photoURL||void 0,totalWords:0};await h0(w.id,{name:w.name,email:w.email,photoURL:w.photoURL,totalPoints:0,streak:0,totalWords:0}),n(w)}c(!1),a("/")}catch{throw o("Đăng nhập bằng Google thất bại."),new Error("Đăng nhập bằng Google thất bại.")}},R=()=>{fV(Vo),n(null),a("/")};y.useEffect(()=>{const k=hV(Vo,async E=>{if(E){const _=await Jh(E.uid);n({id:E.uid,email:E.email||"",name:(_==null?void 0:_.name)||E.displayName||"Người dùng",photoURL:E.photoURL||void 0,totalPoints:_==null?void 0:_.totalPoints,streak:_==null?void 0:_.streak,totalWords:(_==null?void 0:_.totalWords)||0})}else n(null);s(!1)});return()=>k()},[]);const x=y.useMemo(()=>({user:e,loading:r,login:p,register:g,loginWithGoogle:T,logout:R,showAuthModal:h,showAuthForm:u}),[e,r,u]);return r?d.jsxs("div",{className:"flex h-screen items-center justify-center bg-gray-50 dark:bg-gray-900",children:[d.jsx(Ot,{className:"h-8 w-8 animate-spin text-primary"}),d.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-300",children:"Đang kiểm tra phiên..."})]}):d.jsxs(pk.Provider,{value:x,children:[t,d.jsx(Du,{open:u,onOpenChange:c,children:d.jsx(aa,{className:"sm:max-w-[425px] p-0 border-none bg-transparent shadow-none",onPointerDownOutside:k=>{const E=["/learn","/vocabulary","/statistics","/settings"],_=window.location.pathname;E.includes(_)&&!e&&k.preventDefault()},children:d.jsx(FU,{})})})]})}function FU(){const{login:t,register:e,loginWithGoogle:n}=Zs(),[r,s]=y.useState(""),[i,o]=y.useState(""),[a,u]=y.useState(""),[c,h]=y.useState(null),[p,g]=y.useState(!1),[T,R]=y.useState("login"),[x,k]=y.useState(!1),E=async A=>{A.preventDefault(),k(!0),h(null);try{await t(r,i)}catch(L){h(L.message)}finally{k(!1)}},_=async A=>{if(A.preventDefault(),k(!0),h(null),!a.trim()){h("Vui lòng nhập tên của bạn."),k(!1);return}try{await e(a,r,i)}catch(L){h(L.message)}finally{k(!1)}},w=async()=>{k(!0),h(null);try{await n()}catch(A){h(A.message)}finally{k(!1)}};return d.jsxs(Fe,{className:"w-full max-w-sm mx-auto shadow-2xl border-0",children:[d.jsxs($t,{className:"p-6",children:[d.jsx(dt,{className:"text-2xl font-bold text-center",children:T==="login"?"Chào mừng trở lại":"Tạo tài khoản mới"}),d.jsx(Os,{className:"text-center",children:T==="login"?"Đăng nhập để tiếp tục hành trình học tiếng Nhật":"Tham gia cùng cộng đồng học từ vựng ngay bây giờ!"}),d.jsxs(pe,{variant:"outline",className:"w-full mt-4 flex items-center",onClick:w,disabled:x,children:[d.jsx(cO,{className:"h-5 w-5 mr-2"}),"Đăng nhập với Google"]})]}),d.jsxs(Ze,{className:"px-6 pb-6 pt-0",children:[d.jsxs("div",{className:"relative mb-4",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("span",{className:"w-full border-t dark:border-gray-700"})}),d.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:d.jsx("span",{className:"bg-white dark:bg-gray-900 px-2 text-muted-foreground",children:"Hoặc dùng email"})})]}),d.jsxs(od,{defaultValue:"login",className:"w-full",onValueChange:A=>{R(A),h(null)},children:[d.jsxs(sl,{className:"grid w-full grid-cols-2 h-10",children:[d.jsx(Jt,{value:"login",children:"Đăng nhập"}),d.jsx(Jt,{value:"register",children:"Đăng ký"})]}),d.jsx(Zt,{value:"login",className:"pt-4",children:d.jsxs("form",{onSubmit:E,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"login-email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(O_,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),d.jsx(Xe,{id:"login-email",type:"email",value:r,onChange:A=>s(A.target.value),className:"pl-10",placeholder:"tenban@example.com",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"login-password",children:"Mật khẩu"}),d.jsxs("div",{className:"relative",children:[d.jsx(D_,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),d.jsx(Xe,{id:"login-password",type:p?"text":"password",value:i,onChange:A=>o(A.target.value),className:"pl-10 pr-10",placeholder:"••••••••",required:!0}),d.jsx("button",{type:"button",className:"absolute right-3 top-3",onClick:()=>g(!p),children:p?d.jsx(A_,{className:"h-4 w-4 text-gray-400"}):d.jsx(P_,{className:"h-4 w-4 text-gray-400"})})]})]}),c&&d.jsx("div",{className:"text-red-600 text-sm text-center",children:c}),d.jsx(pe,{type:"submit",className:"w-full",disabled:x,children:x?d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"}):"Đăng nhập"})]})}),d.jsx(Zt,{value:"register",className:"pt-4",children:d.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"register-name",children:"Tên hiển thị"}),d.jsxs("div",{className:"relative",children:[d.jsx(Bo,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),d.jsx(Xe,{id:"register-name",type:"text",value:a,onChange:A=>u(A.target.value),className:"pl-10",placeholder:"Ví dụ: Sensei Ken",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"register-email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(O_,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),d.jsx(Xe,{id:"register-email",type:"email",value:r,onChange:A=>s(A.target.value),className:"pl-10",placeholder:"tenban@example.com",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"register-password",children:"Mật khẩu"}),d.jsxs("div",{className:"relative",children:[d.jsx(D_,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),d.jsx(Xe,{id:"register-password",type:p?"text":"password",value:i,onChange:A=>o(A.target.value),className:"pl-10 pr-10",placeholder:"•••••••• (tối thiểu 6 ký tự)",required:!0}),d.jsx("button",{type:"button",className:"absolute right-3 top-3",onClick:()=>g(!p),children:p?d.jsx(A_,{className:"h-4 w-4 text-gray-400"}):d.jsx(P_,{className:"h-4 w-4 text-gray-400"})})]})]}),c&&d.jsx("div",{className:"text-red-600 text-sm text-center",children:c}),d.jsx(pe,{type:"submit",className:"w-full",disabled:x,children:x?d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"}):"Đăng ký"})]})})]})]})]})}function UU(){const{user:t}=Zs();return d.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-50 dark:bg-gray-900",children:d.jsx(Fe,{className:"w-full max-w-xl text-center shadow-lg transition-all duration-300 transform hover:scale-105",children:d.jsxs(Ze,{className:"p-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Chào mừng bạn đến với Ứng dụng Học tiếng Nhật"}),t?d.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:["Chào mừng trở lại, **",t.name||t.email,"**!",d.jsx("br",{}),"Hãy bắt đầu buổi học từ vựng ngay bây giờ."]}):d.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Vui lòng đăng nhập hoặc đăng ký để bắt đầu hành trình học từ vựng của bạn."})]})})})}function $U(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function zU(t){const[e,n]=y.useState(void 0);return Ms(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Dd="Switch",[BU]=qs(Dd),[WU,HU]=BU(Dd),mk=y.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:u="on",onCheckedChange:c,form:h,...p}=t,[g,T]=y.useState(null),R=Gt(e,w=>T(w)),x=y.useRef(!1),k=g?h||!!g.closest("form"):!0,[E,_]=nl({prop:s,defaultProp:i??!1,onChange:c,caller:Dd});return d.jsxs(WU,{scope:n,checked:E,disabled:a,children:[d.jsx(Re.button,{type:"button",role:"switch","aria-checked":E,"aria-required":o,"data-state":_k(E),"data-disabled":a?"":void 0,disabled:a,value:u,...p,ref:R,onClick:Ce(t.onClick,w=>{_(A=>!A),k&&(x.current=w.isPropagationStopped(),x.current||w.stopPropagation())})}),k&&d.jsx(vk,{control:g,bubbles:!x.current,name:r,value:u,checked:E,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"}})]})});mk.displayName=Dd;var gk="SwitchThumb",yk=y.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=HU(gk,n);return d.jsx(Re.span,{"data-state":_k(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});yk.displayName=gk;var qU="SwitchBubbleInput",vk=y.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const o=y.useRef(null),a=Gt(o,i),u=$U(n),c=zU(e);return y.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==n&&T){const R=new Event("click",{bubbles:r});T.call(h,n),h.dispatchEvent(R)}},[u,n,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});vk.displayName=qU;function _k(t){return t?"checked":"unchecked"}var wk=mk,KU=yk;const Yo=y.forwardRef(({className:t,...e},n)=>d.jsx(wk,{className:ke("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:d.jsx(KU,{className:ke("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Yo.displayName=wk.displayName;var GU="Separator",p0="horizontal",QU=["horizontal","vertical"],Ek=y.forwardRef((t,e)=>{const{decorative:n,orientation:r=p0,...s}=t,i=YU(r)?r:p0,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(Re.div,{"data-orientation":i,...a,...s,ref:e})});Ek.displayName=GU;function YU(t){return QU.includes(t)}var Tk=Ek;const Pp=y.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>d.jsx(Tk,{ref:s,decorative:n,orientation:e,className:ke("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Pp.displayName=Tk.displayName;function XU(){const{user:t,logout:e}=Zs(),[n,r]=y.useState({timer:15,wordsPerSession:10,dailyGoal:50,reminderEnabled:!0,reminderTime:"20:00",soundEnabled:!0,vibrationEnabled:!0,darkMode:!1});y.useEffect(()=>{},[]);const s=(o,a)=>{r(u=>({...u,[o]:a}))},i=()=>{e()};return t?d.jsxs("div",{className:"min-h-full p-4 sm:p-6 max-w-3xl mx-auto",children:[d.jsxs("header",{className:"mb-8",children:[d.jsxs("h1",{className:"text-3xl font-bold flex items-center",children:[d.jsx(gI,{className:"h-6 w-6 mr-2 text-primary"})," Cài đặt ứng dụng"]}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Quản lý tài khoản và tùy chỉnh trải nghiệm học tập của bạn."})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs(od,{defaultValue:"account",className:"w-full",children:[d.jsxs(sl,{className:"grid w-full grid-cols-3 md:grid-cols-4",children:[d.jsx(Jt,{value:"account",children:"Tài khoản"}),d.jsx(Jt,{value:"learning",children:"Học tập"}),d.jsx(Jt,{value:"notifications",children:"Thông báo"}),d.jsx(Jt,{value:"appearance",children:"Giao diện"})]}),d.jsx(Zt,{value:"account",className:"mt-6",children:d.jsxs(Fe,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg",children:[d.jsxs($t,{children:[d.jsx(dt,{children:"Thông tin Cá nhân"}),d.jsx(Os,{children:"Cập nhật tên và địa chỉ email của bạn."})]}),d.jsxs(Ze,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"name",children:"Tên"}),d.jsx(Xe,{id:"name",defaultValue:t.name||"",placeholder:"Tên của bạn",disabled:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"email",children:"Email"}),d.jsx(Xe,{id:"email",defaultValue:t.email,placeholder:"Email",type:"email",disabled:!0})]})]})]})}),d.jsx(Zt,{value:"learning",className:"mt-6 space-y-6",children:d.jsxs(Fe,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg",children:[d.jsx($t,{children:d.jsxs(dt,{className:"flex items-center",children:[d.jsx(GD,{className:"h-5 w-5 mr-2 text-secondary"})," Cấu hình Bài học"]})}),d.jsxs(Ze,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"words-per-session",children:"Số từ mỗi phiên"}),d.jsx(Xe,{id:"words-per-session",type:"number",value:n.wordsPerSession,onChange:o=>s("wordsPerSession",parseInt(o.target.value)),min:5,max:50}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Số lượng từ vựng bạn sẽ học trong mỗi phiên."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"timer",children:"Giới hạn thời gian mỗi câu (giây)"}),d.jsx(Xe,{id:"timer",type:"number",value:n.timer,onChange:o=>s("timer",parseInt(o.target.value)),min:5,max:60}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Đặt thành 0 để không giới hạn thời gian."})]}),d.jsx(Pp,{}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"daily-goal",children:"Mục tiêu từ vựng hàng ngày"}),d.jsx(Xe,{id:"daily-goal",type:"number",value:n.dailyGoal,onChange:o=>s("dailyGoal",parseInt(o.target.value)),min:1}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Số từ bạn muốn học hoặc ôn tập mỗi ngày."})]})]})]})}),d.jsx(Zt,{value:"notifications",className:"mt-6 space-y-6",children:d.jsxs(Fe,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg",children:[d.jsx($t,{children:d.jsxs(dt,{className:"flex items-center",children:[d.jsx(lD,{className:"h-5 w-5 mr-2 text-secondary"})," Cài đặt Thông báo"]})}),d.jsxs(Ze,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(xe,{htmlFor:"reminder-enabled",className:"flex flex-col space-y-1",children:[d.jsx("span",{children:"Nhắc nhở học hàng ngày"}),d.jsx("span",{className:"font-normal text-muted-foreground",children:"Nhận thông báo để duy trì streak."})]}),d.jsx(Yo,{id:"reminder-enabled",checked:n.reminderEnabled,onCheckedChange:o=>s("reminderEnabled",o)})]}),n.reminderEnabled&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"reminder-time",children:"Thời gian nhắc nhở"}),d.jsx(Xe,{id:"reminder-time",type:"time",value:n.reminderTime,onChange:o=>s("reminderTime",o.target.value)})]}),d.jsx(Pp,{}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(xe,{htmlFor:"sound-enabled",className:"flex flex-col space-y-1",children:[d.jsx("span",{children:"Âm thanh trong ứng dụng"}),d.jsx("span",{className:"font-normal text-muted-foreground",children:"Bật/tắt âm thanh phản hồi."})]}),d.jsx(Yo,{id:"sound-enabled",checked:n.soundEnabled,onCheckedChange:o=>s("soundEnabled",o)})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(xe,{htmlFor:"vibration-enabled",className:"flex flex-col space-y-1",children:[d.jsx("span",{children:"Rung (chỉ dành cho thiết bị di động)"}),d.jsx("span",{className:"font-normal text-muted-foreground",children:"Phản hồi rung cho các hành động quan trọng."})]}),d.jsx(Yo,{id:"vibration-enabled",checked:n.vibrationEnabled,onCheckedChange:o=>s("vibrationEnabled",o)})]})]})]})}),d.jsxs(Zt,{value:"appearance",className:"mt-6 space-y-6",children:[d.jsxs(Fe,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg",children:[d.jsxs($t,{children:[d.jsxs(dt,{className:"flex items-center",children:[d.jsx(j_,{className:"h-5 w-5 mr-2 text-secondary"})," Tùy chỉnh Giao diện"]}),d.jsx(Os,{children:"Thay đổi giao diện ứng dụng giữa Sáng và Tối."})]}),d.jsx(Ze,{className:"space-y-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(xe,{htmlFor:"dark-mode",className:"flex items-center space-x-2",children:[n.darkMode?d.jsx(FD,{className:"h-5 w-5"}):d.jsx(j_,{className:"h-5 w-5"}),d.jsx("span",{children:"Chế độ Tối (Dark Mode)"})]}),d.jsx(Yo,{id:"dark-mode",checked:n.darkMode,onCheckedChange:o=>s("darkMode",o)})]})})]}),d.jsxs(Fe,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg",children:[d.jsx($t,{children:d.jsx(dt,{children:"Kích thước chữ"})}),d.jsx(Ze,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(pe,{variant:"outline",className:"w-full justify-start bg-transparent",children:d.jsx("span",{className:"text-sm",children:"Nhỏ"})}),d.jsx(pe,{variant:"outline",className:"w-full justify-start bg-transparent",children:d.jsx("span",{className:"text-base",children:"Vừa (mặc định)"})}),d.jsx(pe,{variant:"outline",className:"w-full justify-start bg-transparent",children:d.jsx("span",{className:"text-lg",children:"Lớn"})})]})})]})]})]}),d.jsxs(pe,{variant:"outline",className:"w-full mt-6 bg-transparent hover:bg-red-50 dark:hover:bg-red-900/50 text-red-600 dark:text-red-400 border-red-300 dark:border-red-700",onClick:i,children:[d.jsx(sp,{className:"h-4 w-4 mr-2"}),"Đăng xuất khỏi Nihongo Navigator"]})]})]}):d.jsxs("div",{className:"flex items-center justify-center h-full p-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"}),d.jsx("p",{className:"ml-3 text-lg text-primary",children:"Đang tải cài đặt..."})]})}var Hg="Progress",qg=100,[JU]=qs(Hg),[ZU,e5]=JU(Hg),xk=y.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=t5,...o}=t;(s||s===0)&&!m0(s)&&console.error(n5(`${s}`,"Progress"));const a=m0(s)?s:qg;r!==null&&!g0(r,a)&&console.error(r5(`${r}`,"Progress"));const u=g0(r,a)?r:null,c=Vc(u)?i(u,a):void 0;return d.jsx(ZU,{scope:n,value:u,max:a,children:d.jsx(Re.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Vc(u)?u:void 0,"aria-valuetext":c,role:"progressbar","data-state":kk(u,a),"data-value":u??void 0,"data-max":a,...o,ref:e})})});xk.displayName=Hg;var Ik="ProgressIndicator",Sk=y.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=e5(Ik,n);return d.jsx(Re.div,{"data-state":kk(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});Sk.displayName=Ik;function t5(t,e){return`${Math.round(t/e*100)}%`}function kk(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Vc(t){return typeof t=="number"}function m0(t){return Vc(t)&&!isNaN(t)&&t>0}function g0(t,e){return Vc(t)&&!isNaN(t)&&t<=e&&t>=0}function n5(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${qg}\`.`}function r5(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${qg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Ck=xk,s5=Sk;const Kg=y.forwardRef(({className:t,value:e,...n},r)=>d.jsx(Ck,{ref:r,className:ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:d.jsx(s5,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Kg.displayName=Ck.displayName;const i5=sd("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Gg({className:t,variant:e,...n}){return d.jsx("div",{className:ke(i5({variant:e}),t),...n})}const o5=[{id:"1",title:"Người học đầu tiên",description:"Hoàn thành phiên học đầu tiên",icon:"⭐",unlocked:!1,progress:1,maxProgress:1},{id:"2",title:"100 từ vựng",description:"Đã học được 100 từ",icon:"💯",unlocked:!1,progress:50,maxProgress:100},{id:"3",title:"5 ngày liên tục",description:"Học liên tục trong 5 ngày",icon:"🔥",unlocked:!1,progress:3,maxProgress:5},{id:"4",title:"Chính xác 90%",description:"Đạt độ chính xác 90% trong 5 phiên học",icon:"🎯",unlocked:!1,progress:0,maxProgress:5},{id:"5",title:"Hàng ngàn điểm",description:"Đạt 1000 điểm tích lũy",icon:"🏆",unlocked:!1,progress:0,maxProgress:1e3}];function a5(){const{user:t}=Zs(),[e,n]=y.useState(null),[r,s]=y.useState(!0),[i,o]=y.useState([]),[a,u]=y.useState(!0),[c,h]=y.useState(o5);y.useEffect(()=>{if(!(t!=null&&t.id))return;(async()=>{s(!0);try{const T=await jU(t.id);T&&n(T)}catch(T){console.error("Error loading stats:",T)}finally{s(!1)}})()},[t==null?void 0:t.id]),y.useEffect(()=>{if(!(t!=null&&t.id))return;(async()=>{u(!0);try{const T=await LU(t.id,10);o(T)}catch(T){console.error("Error loading learning sessions:",T)}finally{u(!1)}})()},[t==null?void 0:t.id]);const p=g=>new Date(g).toLocaleDateString("vi-VN",{year:"numeric",month:"long",day:"numeric"});return d.jsxs("div",{className:"p-4 md:p-0",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-900 dark:text-white",children:"📊 Thống kê Học tập"}),r?d.jsx("div",{className:"flex justify-center items-center h-20",children:d.jsx(Ot,{className:"h-6 w-6 animate-spin text-primary"})}):d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[d.jsx(mu,{icon:d.jsx(XD,{className:"h-5 w-5 text-yellow-500"}),title:"Tổng điểm",value:(e==null?void 0:e.totalPoints)||0}),d.jsx(mu,{icon:d.jsx(zm,{className:"h-5 w-5 text-primary"}),title:"Từ đã học",value:(e==null?void 0:e.totalWordsLearned)||0}),d.jsx(mu,{icon:d.jsx(TD,{className:"h-5 w-5 text-red-500"}),title:"Streak hiện tại",value:(e==null?void 0:e.currentStreak)||0}),d.jsx(mu,{icon:d.jsx(hD,{className:"h-5 w-5 text-green-500"}),title:"Streak tốt nhất",value:(e==null?void 0:e.bestStreak)||0})]}),d.jsx("div",{className:"mt-8",children:d.jsxs(od,{defaultValue:"chart",className:"w-full",children:[d.jsxs(sl,{className:"grid w-full grid-cols-3",children:[d.jsx(Jt,{value:"chart",children:"Biểu đồ"}),d.jsx(Jt,{value:"history",children:"Lịch sử"}),d.jsx(Jt,{value:"achievements",children:"Thành tựu"})]}),d.jsx(Zt,{value:"chart",className:"mt-4",children:d.jsxs(Fe,{className:"bg-white dark:bg-gray-800 shadow-lg p-6 min-h-[300px]",children:[d.jsx(dt,{className:"text-xl mb-4",children:"Tiến trình học tập (7 ngày)"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"// TODO: Tích hợp thư viện recharts để vẽ biểu đồ từ dữ liệu LearningSessionHistory."}),d.jsxs("div",{className:"flex justify-center items-center h-40",children:[d.jsx(pI,{className:"h-10 w-10 text-gray-400 opacity-50"}),d.jsx("p",{className:"ml-4 text-gray-500",children:"Biểu đồ đang được xây dựng..."})]})]})}),d.jsx(Zt,{value:"history",className:"mt-4",children:a?d.jsxs("div",{className:"flex justify-center items-center h-40",children:[d.jsx(Ot,{className:"h-6 w-6 animate-spin mr-2 text-primary"}),d.jsx("p",{className:"text-gray-500",children:"Đang tải lịch sử phiên học..."})]}):i.length===0?d.jsxs(Fe,{className:"text-center p-6 bg-white/80 dark:bg-gray-800/80",children:[d.jsx(dt,{className:"text-lg",children:"Chưa có phiên học nào"}),d.jsx(Os,{className:"mt-2",children:"Hãy bắt đầu học từ vựng để thấy lịch sử tiến trình của bạn ở đây!"})]}):d.jsx("div",{className:"space-y-4",children:i.map((g,T)=>d.jsx(Fe,{className:"bg-white dark:bg-gray-800 shadow-sm transition-shadow hover:shadow-md",children:d.jsxs(Ze,{className:"p-4 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(mI,{className:"h-6 w-6 text-indigo-500"}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-medium text-gray-800 dark:text-white",children:["Phiên học ngày ",p(g.date)]}),d.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.wordsLearned," từ | ",g.timeSpent,"s"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:["+",g.points," điểm"]}),d.jsxs(Gg,{variant:"secondary",className:"mt-1",children:[Math.round(g.accuracy*100),"% Chính xác"]})]})]})},g.id||T))})}),d.jsx(Zt,{value:"achievements",className:"mt-4",children:d.jsxs(Fe,{className:"shadow-lg",children:[d.jsx($t,{children:d.jsx(dt,{children:"Đang tiến hành"})}),d.jsx(Ze,{children:d.jsx("div",{className:"space-y-3",children:c.filter(g=>!g.unlocked&&g.progress).map(g=>d.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[d.jsx("span",{className:"text-2xl opacity-50",children:g.icon}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:g.title}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:g.description}),d.jsx(Kg,{value:g.progress/g.maxProgress*100,className:"h-2 mt-2"}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.progress,"/",g.maxProgress]})]})]},g.id))})})]})})]})})]})}const mu=({icon:t,title:e,value:n})=>d.jsx(Fe,{className:"text-center shadow-md bg-white dark:bg-gray-800",children:d.jsxs(Ze,{className:"p-4",children:[d.jsx("div",{className:"flex items-center justify-center mb-2",children:t}),d.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.toLocaleString()}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e})]})}),l5=({session:t,onRestart:e,onNavigate:n})=>{const r=t.sessionPoints,s=t.words.length,i=s>0?Math.round(t.correctAnswers/t.totalAttempts*100):0;return d.jsxs(Fe,{className:"max-w-xl mx-auto mt-10 p-8 shadow-2xl bg-white dark:bg-gray-800 border-t-4 border-primary",children:[d.jsxs($t,{className:"text-center",children:[d.jsx(Ma,{className:"h-12 w-12 text-primary mx-auto mb-4"}),d.jsx(dt,{className:"text-3xl font-extrabold text-primary",children:"Hoàn thành Buổi Học!"}),d.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Bạn đã hoàn thành **",s,"** từ vựng trong phiên này."]})]}),d.jsxs(Ze,{className:"mt-4 space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50/50 dark:bg-green-900/50 rounded-lg",children:[d.jsx(vI,{className:"h-5 w-5 text-green-600"}),d.jsxs("span",{className:"text-lg font-bold text-green-700 dark:text-green-300",children:["+",r," Điểm"]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[d.jsx(y0,{icon:d.jsx(yI,{className:"h-5 w-5 text-blue-500"}),label:"Chính xác",value:`${i}%`}),d.jsx(y0,{icon:d.jsx(mI,{className:"h-5 w-5 text-indigo-500"}),label:"Thời gian",value:`${t.timeSpent}s`})]}),d.jsxs("div",{className:"flex flex-col space-y-3 pt-4",children:[d.jsxs(pe,{onClick:e,className:"w-full",children:[d.jsx(BD,{className:"h-4 w-4 mr-2"})," Học lại bộ từ này"]}),d.jsxs(pe,{variant:"outline",onClick:()=>n("/statistics"),className:"w-full",children:[d.jsx(BarChart3,{className:"h-4 w-4 mr-2"})," Xem Thống kê"]}),d.jsxs(pe,{variant:"outline",onClick:()=>n("/vocabulary"),className:"w-full",children:[d.jsx(Ma,{className:"h-4 w-4 mr-2"})," Quản lý Từ vựng"]})]})]})]})},y0=({icon:t,label:e,value:n})=>d.jsxs("div",{className:"p-3 border rounded-lg flex flex-col items-center",children:[t,d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e}),d.jsx("p",{className:"text-xl font-semibold mt-1",children:n})]});function u5(){const{user:t}=Zs(),e=Am(),[n,r]=y.useState("SET_ID_PLACEHOLDER"),[s,i]=y.useState([]),[o,a]=y.useState(!0),[u,c]=y.useState(null),[h,p]=y.useState(!1),g=y.useMemo(()=>({words:s,currentIndex:0,correctAnswers:0,totalAttempts:0,sessionPoints:0,timeSpent:0,startTime:Date.now()}),[s]),[T,R]=y.useState(g);y.useEffect(()=>{R(g)},[g]),y.useEffect(()=>{if(!(t!=null&&t.id)||!n||s.length>0)return;(async()=>{a(!0);try{const v=(await fk(t.id,n)).sort(()=>.5-Math.random()).slice(0,10);i(v)}catch(S){console.error(S)}finally{a(!1)}})()},[t==null?void 0:t.id,n]);const x=T.words[T.currentIndex],k=y.useMemo(()=>{if(!x)return[];const M=T.words.filter(v=>v.id!==x.id).sort(()=>.5-Math.random()).slice(0,3).map(v=>v.meaning);return[x.meaning,...M].sort(()=>.5-Math.random()).slice(0,4)},[x,T.words]),E=M=>{if(u)return;const S=M===x.meaning;R(v=>({...v,totalAttempts:v.totalAttempts+1,correctAnswers:S?v.correctAnswers+1:v.correctAnswers,sessionPoints:S?v.sessionPoints+10:v.sessionPoints})),c(S?"correct":"incorrect")},_=y.useCallback(()=>{c(null),T.currentIndex>=T.words.length-1?w():R(S=>({...S,currentIndex:S.currentIndex+1}))},[T.currentIndex,T.words.length]),w=async()=>{if(!t)return;const M=Math.round((Date.now()-T.startTime)/1e3),S={id:"",userId:t.id,wordsLearned:T.totalAttempts,points:T.sessionPoints,accuracy:T.totalAttempts>0?T.correctAnswers/T.totalAttempts:0,timeSpent:M,date:new Date().toISOString(),setId:n};try{await MU({...S,date:new Date(S.date)}),R(v=>({...v,timeSpent:M}))}catch(v){console.error("Lưu phiên học thất bại:",v)}p(!0)},A=()=>{R(M=>({...g,words:M.words.sort(()=>.5-Math.random()),startTime:Date.now()})),p(!1)},L=()=>{const M=T.totalAttempts>0?T.correctAnswers/T.totalAttempts:0;return M>=.75?"text-green-500 dark:text-green-400":M>=.5?"text-yellow-500 dark:text-yellow-400":"text-red-500 dark:text-red-400"};return o?d.jsxs("div",{className:"flex h-96 items-center justify-center",children:[d.jsx(Ot,{className:"h-8 w-8 animate-spin mr-2 text-primary"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Đang tải từ vựng cho phiên học..."})]}):!o&&s.length===0?d.jsxs(Fe,{className:"max-w-xl mx-auto mt-10",children:[d.jsx($t,{children:d.jsx(dt,{children:"Không tìm thấy từ vựng"})}),d.jsx(Ze,{children:d.jsxs("p",{children:["Bộ từ này chưa có từ vựng nào, hoặc bạn chưa chọn bộ từ. Vui lòng thêm từ vựng hoặc ",d.jsx(Da,{to:"/vocabulary",className:"text-primary hover:underline",children:"quay lại trang Quản lý Từ vựng"}),"."]})})]}):h?d.jsx(l5,{session:T,onRestart:A,onNavigate:e}):d.jsxs("div",{className:"max-w-xl mx-auto p-4 md:p-0",children:[d.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-900 dark:text-white",children:"Chế độ Học tập"}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex justify-between text-sm font-medium mb-1 text-gray-600 dark:text-gray-400",children:[d.jsx("span",{children:"Tiến trình"}),d.jsxs("span",{children:[T.currentIndex+1," / ",T.words.length]})]}),d.jsx(Kg,{value:(T.currentIndex+1)/T.words.length*100,className:"h-2"})]}),d.jsxs(Fe,{className:"bg-white dark:bg-gray-800 shadow-xl border-t-4 border-primary",children:[d.jsxs($t,{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx(dt,{className:"text-2xl md:text-3xl font-extrabold text-primary",children:(x==null?void 0:x.kanji)||(x==null?void 0:x.kana)}),d.jsxs(Gg,{variant:"secondary",className:"text-md",children:[d.jsx(vI,{className:"h-4 w-4 mr-1 fill-yellow-400 stroke-yellow-500"})," +10 XP"]})]}),d.jsx(CardDescription,{className:"text-lg mt-1",children:x!=null&&x.kana&&x.kana!==x.kanji?x.kana:""})]}),d.jsxs(Ze,{className:"space-y-4",children:[d.jsx("div",{className:"space-y-3",children:k.map((M,S)=>d.jsxs(pe,{variant:"outline",className:`w-full h-auto py-3 text-left justify-start text-base font-normal transition-colors
                  ${u==="correct"&&M===x.meaning?"bg-green-100 dark:bg-green-900/50 border-green-500 hover:bg-green-100 dark:hover:bg-green-900/50":""}
                  ${u==="incorrect"&&M===selectedAnswer?"bg-red-100 dark:bg-red-900/50 border-red-500 hover:bg-red-100 dark:hover:bg-red-900/50":""}
                  ${u&&M===x.meaning&&u!=="correct"?"border-green-500":""}
                `,onClick:()=>E(M),disabled:!!u,children:[u&&d.jsx("span",{className:"mr-3",children:M===x.meaning?d.jsx(mD,{className:"h-5 w-5 text-green-500 fill-green-100 dark:fill-green-900"}):M===selectedAnswer?d.jsx(yD,{className:"h-5 w-5 text-red-500 fill-red-100 dark:fill-red-900"}):d.jsx(zm,{className:"h-5 w-5 text-gray-400"})}),d.jsx("span",{className:"flex-1",children:M})]},S))}),d.jsxs("div",{className:"space-y-3 pt-2",children:[u&&d.jsx(pe,{className:"w-full",onClick:_,disabled:T.currentIndex===T.words.length,children:T.currentIndex<T.words.length-1?"Câu tiếp theo":"Hoàn thành"}),!u&&d.jsx(pe,{variant:"outline",className:"w-full bg-transparent",onClick:()=>{E("Chưa biết - câu trả lời sai")},children:"Chưa biết"})]}),d.jsx(Fe,{className:"mt-6 bg-white/80 dark:bg-gray-800/80 border-0 shadow-lg",children:d.jsx(Ze,{className:"p-4",children:d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(yI,{className:"h-4 w-4 text-gray-500"}),d.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Chính xác: ",T.correctAnswers,"/",T.totalAttempts]})]}),d.jsxs("span",{className:`font-medium ${L()}`,children:[T.totalAttempts>0?Math.round(T.correctAnswers/T.totalAttempts*100):0,"%"]})]})})})]})]})]})}const Si=y.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:ke("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Si.displayName="Textarea";const c5=1,d5=1e6;let Zh=0;function h5(){return Zh=(Zh+1)%Number.MAX_SAFE_INTEGER,Zh.toString()}const ef=new Map,v0=t=>{if(ef.has(t))return;const e=setTimeout(()=>{ef.delete(t),pa({type:"REMOVE_TOAST",toastId:t})},d5);ef.set(t,e)},f5=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,c5)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?v0(n):t.toasts.forEach(r=>{v0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},qu=[];let Ku={toasts:[]};function pa(t){Ku=f5(Ku,t),qu.forEach(e=>{e(Ku)})}function p5({...t}){const e=h5(),n=s=>pa({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>pa({type:"DISMISS_TOAST",toastId:e});return pa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Rk(){const[t,e]=y.useState(Ku);return y.useEffect(()=>(qu.push(e),()=>{const n=qu.indexOf(e);n>-1&&qu.splice(n,1)}),[t]),{...t,toast:p5,dismiss:n=>pa({type:"DISMISS_TOAST",toastId:n})}}function m5(){const{user:t}=Zs(),{toast:e}=Rk(),[n,r]=y.useState([]),[s,i]=y.useState(null),[o,a]=y.useState([]),[u,c]=y.useState(!1),[h,p]=y.useState(!1),[g,T]=y.useState(""),[R,x]=y.useState(""),[k,E]=y.useState(""),[_,w]=y.useState(""),[A,L]=y.useState(""),[M,S]=y.useState(""),[v,C]=y.useState(!1),[b,N]=y.useState(null),[D,P]=y.useState(""),[Q,ge]=y.useState(""),[ae,Ae]=y.useState(""),[V,Y]=y.useState(""),[Z,Ee]=y.useState(!1),[se,ee]=y.useState(""),[Te,st]=y.useState(null),yt=y.useCallback(async()=>{if(t){c(!0);try{const B=await bU(t.id);r(B),!s&&B.length>0&&i(B[0])}catch(B){console.error("Error fetching vocabulary sets:",B),e({title:"Lỗi",description:"Không thể tải danh sách bộ từ.",variant:"destructive"})}finally{c(!1)}}},[t,s,e]),we=y.useCallback(async B=>{c(!0);try{const de=await fk(t.id,B);a(de)}catch(de){console.error("Error fetching vocabulary words:",de),e({title:"Lỗi",description:"Không thể tải từ vựng.",variant:"destructive"}),a([])}finally{c(!1)}},[t,e]);y.useEffect(()=>{yt()},[yt]),y.useEffect(()=>{s?we(s.id):a([])},[s,we]);const ei=y.useCallback(async B=>{if(B.preventDefault(),!(!g.trim()||!t)){c(!0);try{const de=await AU(t.id,g.trim(),R.trim());r(ye=>[...ye,de]),i(de),T(""),x(""),p(!1),e({title:"Thành công!",description:`Đã tạo bộ từ "${de.name}". Bộ từ đã được chọn.`})}catch(de){console.error("Error creating vocabulary set:",de),e({title:"Lỗi",description:"Không thể tạo bộ từ. Vui lòng thử lại.",variant:"destructive"})}finally{c(!1)}}},[t,g,R,e]),wr=y.useCallback(async(B,de)=>{if(!(!t||!confirm(`Bạn có chắc chắn muốn xóa bộ từ "${de}" và tất cả từ vựng của nó?`))){c(!0);try{await NU(t.id,B),r(ye=>ye.filter(ie=>ie.id!==B)),s&&s.id===B&&(i(null),a([])),e({title:"Thành công!",description:`Đã xóa bộ từ "${de}".`})}catch(ye){console.error("Error deleting vocabulary set:",ye),e({title:"Lỗi",description:"Không thể xóa bộ từ. Vui lòng thử lại.",variant:"destructive"})}finally{c(!1)}}},[t,s,e]),gn=y.useCallback(async(B,de,ye)=>{if(t){c(!0);try{await PU(t.id,B,{name:de,description:ye}),r(ie=>ie.map(Ne=>Ne.id===B?{...Ne,name:de,description:ye}:Ne)),s&&s.id===B&&i(ie=>ie?{...ie,name:de,description:ye}:null),e({title:"Thành công!",description:"Đã cập nhật bộ từ."})}catch(ie){console.error("Error updating vocabulary set:",ie),e({title:"Lỗi",description:"Không thể cập nhật bộ từ.",variant:"destructive"})}finally{c(!1)}}},[t,s,e]),Pn=y.useCallback(async B=>{if(B.preventDefault(),!(!s||!t||!k.trim()||!A.trim())){c(!0);try{const de={kanji:k.trim(),kana:_.trim(),meaning:A.trim(),notes:M.trim()},ye=await f0(t.id,s.id,de);a(ie=>[ye,...ie]),s&&(i(ie=>ie?{...ie,totalWords:(ie.totalWords||0)+1}:null),r(ie=>ie.map(Ne=>Ne.id===s.id?{...Ne,totalWords:(Ne.totalWords||0)+1}:Ne))),E(""),w(""),L(""),S(""),e({title:"Thành công!",description:`Đã thêm từ: ${ye.kanji}`})}catch(de){console.error("Error adding vocabulary word:",de),e({title:"Lỗi",description:"Không thể thêm từ vựng.",variant:"destructive"})}finally{c(!1)}}},[t,s,k,_,A,M,e]),Nn=y.useCallback(async B=>{if(B.preventDefault(),!(!s||!t||!b)){c(!0);try{const de={kanji:D.trim(),kana:Q.trim(),meaning:ae.trim(),notes:V.trim()};await DU(t.id,s.id,b.id,de),a(ye=>ye.map(ie=>ie.id===b.id?{...ie,...de}:ie)),C(!1),N(null),e({title:"Thành công!",description:`Đã cập nhật từ: ${D}`})}catch(de){console.error("Error updating vocabulary word:",de),e({title:"Lỗi",description:"Không thể cập nhật từ vựng.",variant:"destructive"})}finally{c(!1)}}},[t,s,b,D,Q,ae,V,e]),ho=y.useCallback(async(B,de)=>{if(!(!t||!confirm("Bạn có chắc chắn muốn xóa từ vựng này?"))){c(!0);try{await OU(t.id,B,de),a(ye=>ye.filter(ie=>ie.id!==de)),s&&s.id===B&&(i(ye=>ye?{...ye,totalWords:Math.max(0,(ye.totalWords||0)-1)}:null),r(ye=>ye.map(ie=>ie.id===B?{...ie,totalWords:Math.max(0,(ie.totalWords||0)-1)}:ie))),e({title:"Thành công!",description:"Đã xóa từ vựng."})}catch(ye){console.error("Error deleting vocabulary word:",ye),e({title:"Lỗi",description:"Không thể xóa từ vựng. Vui lòng thử lại.",variant:"destructive"})}finally{c(!1)}}},[t,s,e]),fo=y.useCallback(async B=>{if(B.preventDefault(),!s||!t||!se.trim())return;const de=se.trim().split(`
`).filter(ie=>ie.trim()!==""),ye=[];for(const ie of de){const Ne=ie.split(",").map(Er=>Er.trim());Ne.length>=3&&ye.push({kanji:Ne[0],kana:Ne[1]||"",meaning:Ne[2],notes:Ne[3]||""})}if(ye.length===0){e({title:"Lỗi định dạng",description:"Không tìm thấy từ vựng hợp lệ. Vui lòng sử dụng định dạng: Kanji,Kana,Meaning",variant:"destructive"});return}st(`Đang nhập ${ye.length} từ...`);try{const ie=await f0.bulk(t.id,s.id,ye);a(Ne=>[...ie,...Ne]),s&&(i(Ne=>Ne?{...Ne,totalWords:(Ne.totalWords||0)+ie.length}:null),r(Ne=>Ne.map(Er=>Er.id===s.id?{...Er,totalWords:(Er.totalWords||0)+ie.length}:Er))),e({title:"Thành công!",description:`Đã nhập thành công ${ie.length} từ vào bộ từ "${s.name}".`}),ee(""),Ee(!1)}catch(ie){console.error("Error during bulk import:",ie),e({title:"Lỗi",description:"Không thể nhập từ vựng số lượng lớn. Vui lòng thử lại.",variant:"destructive"})}finally{st(null)}},[t,s,se,e]),cs=o.length,Tl=B=>{N(B),P(B.kanji),ge(B.kana),Ae(B.meaning),Y(B.notes||""),C(!0)};return t?d.jsxs("div",{className:"space-y-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Quản lý Từ vựng"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Tạo, chỉnh sửa và sắp xếp các bộ từ vựng cá nhân của bạn."}),d.jsxs(Du,{open:h,onOpenChange:p,children:[d.jsx(F_,{asChild:!0,children:d.jsxs(pe,{className:"w-full md:w-auto",onClick:()=>{T(""),x(""),p(!0)},children:[d.jsx(L_,{className:"h-4 w-4 mr-2"})," Tạo Bộ Từ Mới"]})}),d.jsxs(aa,{className:"sm:max-w-[425px]",children:[d.jsxs(Ou,{children:[d.jsx(Mu,{children:"Tạo Bộ Từ Vựng Mới"}),d.jsx(Lu,{children:"Đặt tên và mô tả cho bộ từ mới của bạn."})]}),d.jsxs("form",{onSubmit:ei,className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsxs(xe,{htmlFor:"setName",children:["Tên bộ từ ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Xe,{id:"setName",value:g,onChange:B=>T(B.target.value),placeholder:"Ví dụ: N3 Từ vựng, Từ chuyên ngành IT",required:!0})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(xe,{htmlFor:"setDescription",children:"Mô tả (Tùy chọn)"}),d.jsx(Si,{id:"setDescription",value:R,onChange:B=>x(B.target.value),placeholder:"Mô tả ngắn gọn về bộ từ này"})]}),d.jsx(pe,{type:"submit",disabled:u||!g.trim(),children:u?d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"}):"Tạo Bộ Từ"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-[70vh]",children:[d.jsxs("div",{className:"md:col-span-1 flex flex-col space-y-4",children:[d.jsxs("h2",{className:"text-xl font-semibold border-b pb-2 text-gray-800 dark:text-white",children:["Danh sách Bộ Từ (",n.length,")"]}),d.jsx("div",{className:"space-y-2 overflow-y-auto pr-2",children:u&&n.length===0?d.jsx("div",{className:"flex justify-center items-center h-24",children:d.jsx(Ot,{className:"h-6 w-6 animate-spin text-primary"})}):n.length===0?d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center p-4",children:"Chưa có bộ từ nào."}):n.map(B=>d.jsx(Fe,{className:`cursor-pointer transition-all ${s&&s.id===B.id?"border-primary shadow-lg bg-primary/10 dark:bg-primary/20":"hover:border-primary/50 dark:hover:border-gray-600 bg-white dark:bg-gray-800"}`,onClick:()=>i(B),children:d.jsxs(Ze,{className:"p-4 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx(dt,{className:"text-lg font-medium",children:B.name}),d.jsx(Os,{className:"text-sm",children:B.description||"Không có mô tả"}),d.jsxs(Gg,{variant:"secondary",className:"mt-2",children:[d.jsx(ID,{className:"h-3 w-3 mr-1"})," ",B.totalWords||0," từ"]})]}),d.jsx(pe,{variant:"ghost",size:"icon",className:"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/50",onClick:de=>{de.stopPropagation(),wr(B.id,B.name)},children:d.jsx(V_,{className:"h-4 w-4"})})]})},B.id))})]}),d.jsx("div",{className:"md:col-span-2",children:s?d.jsxs(Fe,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg h-full",children:[d.jsxs($t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Ma,{className:"h-6 w-6 text-primary"}),d.jsx(dt,{className:"text-2xl font-bold",children:s.name})]}),d.jsxs(Du,{children:[d.jsx(F_,{asChild:!0,children:d.jsxs(pe,{variant:"outline",size:"sm",children:[d.jsx(M_,{className:"h-4 w-4 mr-2"})," Chỉnh sửa"]})}),d.jsxs(aa,{className:"sm:max-w-[425px]",children:[d.jsxs(Ou,{children:[d.jsx(Mu,{children:"Chỉnh sửa Bộ Từ Vựng"}),d.jsx(Lu,{children:"Thay đổi tên và mô tả của bộ từ này."})]}),d.jsx(g5,{set:s,onSave:gn,isLoading:u})]})]})]}),d.jsx(Os,{className:"px-6 pb-4",children:s.description||"Không có mô tả"}),d.jsx(Ze,{className:"p-6 pt-0",children:d.jsxs(od,{defaultValue:"addWord",className:"w-full",children:[d.jsxs(sl,{className:"grid w-full grid-cols-3",children:[d.jsxs(Jt,{value:"addWord",children:[d.jsx(L_,{className:"h-4 w-4 mr-1"})," Thêm Từ"]}),d.jsxs(Jt,{value:"wordList",children:[d.jsx(bD,{className:"h-4 w-4 mr-1"})," Danh sách (",cs,")"]}),d.jsxs(Jt,{value:"bulkImport",onClick:()=>{ee(""),st(null)},children:[d.jsx(N_,{className:"h-4 w-4 mr-1"})," Nhập SL"]})]}),d.jsx(Zt,{value:"addWord",className:"mt-4",children:d.jsxs("form",{onSubmit:Pn,className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(xe,{htmlFor:"kanji",children:["Kanji/Từ ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Xe,{id:"kanji",value:k,onChange:B=>E(B.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(xe,{htmlFor:"kana",children:"Kana/Phiên âm"}),d.jsx(Xe,{id:"kana",value:_,onChange:B=>w(B.target.value)})]}),d.jsxs("div",{className:"space-y-2 col-span-2",children:[d.jsxs(xe,{htmlFor:"meaning",children:["Nghĩa ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Xe,{id:"meaning",value:A,onChange:B=>L(B.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2 col-span-2",children:[d.jsx(xe,{htmlFor:"notes",children:"Ghi chú (Tùy chọn)"}),d.jsx(Si,{id:"notes",value:M,onChange:B=>S(B.target.value)})]}),d.jsx(pe,{type:"submit",className:"col-span-2",disabled:u||!k.trim()||!A.trim(),children:u?d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"}):"Thêm Từ Vựng"})]})}),d.jsx(Zt,{value:"wordList",className:"mt-4",children:d.jsx("div",{className:"space-y-3 max-h-[30vh] overflow-y-auto pr-2",children:u&&cs===0?d.jsx("div",{className:"flex justify-center items-center h-24",children:d.jsx(Ot,{className:"h-6 w-6 animate-spin text-primary"})}):cs===0?d.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center p-4",children:"Bộ từ này chưa có từ vựng nào."}):o.map(B=>d.jsx(Fe,{className:"bg-gray-50 dark:bg-gray-900 shadow-sm",children:d.jsxs(Ze,{className:"p-3 flex justify-between items-center",children:[d.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[d.jsx("p",{className:"font-semibold text-lg truncate text-gray-900 dark:text-white",children:B.kanji}),d.jsx("p",{className:"text-sm text-primary dark:text-primary-light truncate",children:B.kana}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 truncate mt-1",children:B.meaning}),B.notes&&d.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mt-1",children:[d.jsx(jD,{className:"h-3 w-3 mr-1"}),d.jsx("span",{className:"truncate",children:B.notes})]})]}),d.jsxs("div",{className:"flex space-x-1",children:[d.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>Tl(B),title:"Chỉnh sửa từ",children:d.jsx(M_,{className:"h-4 w-4 text-primary"})}),d.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>ho(s.id,B.id),title:"Xóa từ",children:d.jsx(V_,{className:"h-4 w-4 text-red-500"})})]})]})},B.id))})}),d.jsx(Zt,{value:"bulkImport",className:"mt-4",children:d.jsxs("form",{onSubmit:fo,className:"grid gap-4",children:[d.jsx(xe,{htmlFor:"bulkData",className:"text-sm font-medium",children:"Nhập từ vựng (mỗi từ một dòng, phân tách bằng dấu phẩy)"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-2",children:"Định dạng: **Kanji/Từ, Kana/Phiên âm, Nghĩa, Ghi chú (tùy chọn)**"}),d.jsx(Si,{id:"bulkData",rows:8,value:se,onChange:B=>ee(B.target.value),placeholder:`Ví dụ:
食べる, たべる, Ăn
日本語, にほんご, Tiếng Nhật, Ghi chú quan trọng`,required:!0}),Te&&d.jsxs("div",{className:"flex items-center text-sm text-blue-500",children:[d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"})," ",Te]}),d.jsxs(pe,{type:"submit",disabled:u||Te!==null||!se.trim(),children:[d.jsx(N_,{className:"h-4 w-4 mr-2"})," Nhập ",se.trim().split(`
`).filter(B=>B.trim()!=="").length," Từ"]})]})})]})})]}):d.jsxs(Fe,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg text-center p-8 h-full flex flex-col justify-center items-center",children:[d.jsx(Ma,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium mb-2",children:"Chọn một bộ từ"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Vui lòng chọn một bộ từ từ danh sách bên trái hoặc tạo bộ từ mới."}),d.jsx(pe,{variant:"outline",onClick:yt,disabled:u,children:u?d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"}):"Tải lại danh sách bộ từ"})]})})]}),d.jsx("p",{className:"mt-8 text-sm text-center text-gray-500 dark:text-gray-500",children:"* Độ khó (Difficulty) sẽ được cập nhật tự động sau mỗi buổi học."}),d.jsx(Du,{open:v,onOpenChange:C,children:d.jsxs(aa,{className:"sm:max-w-[425px]",children:[d.jsxs(Ou,{children:[d.jsx(Mu,{children:"Chỉnh sửa Từ Vựng"}),d.jsxs(Lu,{children:['Cập nhật thông tin cho từ "',b==null?void 0:b.kanji,'".']})]}),d.jsxs("form",{onSubmit:Nn,className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsxs(xe,{htmlFor:"editKanji",children:["Kanji/Từ ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Xe,{id:"editKanji",value:D,onChange:B=>P(B.target.value),required:!0})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(xe,{htmlFor:"editKana",children:"Kana/Phiên âm"}),d.jsx(Xe,{id:"editKana",value:Q,onChange:B=>ge(B.target.value)})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsxs(xe,{htmlFor:"editMeaning",children:["Nghĩa ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Xe,{id:"editMeaning",value:ae,onChange:B=>Ae(B.target.value),required:!0})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(xe,{htmlFor:"editNotes",children:"Ghi chú (Tùy chọn)"}),d.jsx(Si,{id:"editNotes",value:V,onChange:B=>Y(B.target.value)})]}),d.jsx(pe,{type:"submit",disabled:u||!D.trim()||!ae.trim(),children:u?d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"}):"Lưu Thay Đổi"})]})]})})]}):d.jsxs(Fe,{className:"text-center shadow-lg w-full max-w-sm mx-auto",children:[d.jsx($t,{children:d.jsx(dt,{children:"Yêu cầu Đăng nhập"})}),d.jsx(Ze,{children:d.jsx("p",{className:"text-gray-500 mb-4",children:"Bạn cần đăng nhập để quản lý từ vựng."})})]})}const g5=({set:t,onSave:e,isLoading:n})=>{const[r,s]=y.useState(t.name),[i,o]=y.useState(t.description||""),a=u=>{u.preventDefault(),e(t.id,r,i)};return d.jsxs("form",{onSubmit:a,className:"grid gap-4 py-4",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsxs(xe,{htmlFor:"editSetName",children:["Tên bộ từ ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx(Xe,{id:"editSetName",value:r,onChange:u=>s(u.target.value),required:!0})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx(xe,{htmlFor:"editSetDescription",children:"Mô tả"}),d.jsx(Si,{id:"editSetDescription",value:i,onChange:u=>o(u.target.value),placeholder:"Mô tả ngắn gọn về bộ từ này"})]}),d.jsx(pe,{type:"submit",disabled:n||!r.trim(),children:n?d.jsx(Ot,{className:"h-4 w-4 animate-spin mr-2"}):"Lưu Bộ Từ"})]})},tf=768;function y5(){const[t,e]=y.useState(void 0);return y.useEffect(()=>{const n=window.matchMedia(`(max-width: ${tf-1}px)`),r=()=>{e(window.innerWidth<tf)};return n.addEventListener("change",r),e(window.innerWidth<tf),()=>n.removeEventListener("change",r)},[]),!!t}function v5(){const{user:t,logout:e,showAuthModal:n,loading:r,showAuthForm:s}=Zs(),i=y5(),[o,a]=y.useState(!1),u=ss(),c=()=>{e(),a(!1)},p=["/learn","/vocabulary","/statistics","/settings"].includes(u.pathname);y.useEffect(()=>{!r&&!t&&p?n(!0):t&&p&&s&&n(!1),!p&&s&&n(!1)},[r,t,p,n,u.pathname,s]);const g=[{to:"/",label:"Trang chủ",icon:kD,isProtected:!1},{to:"/learn",label:"Chế độ học",icon:zm,isProtected:!0},{to:"/vocabulary",label:"Quản lý từ vựng",icon:Ma,isProtected:!0},{to:"/statistics",label:"Thống kê",icon:pI,isProtected:!0},{to:"/settings",label:"Cài đặt",icon:gI,isProtected:!0}],T=!r&&(!p||t),R=({navItems:E,isMenuOpen:_,setIsMenuOpen:w,handleLogout:A,user:L})=>d.jsxs("div",{className:`fixed inset-0 z-40 lg:hidden transition-opacity duration-300 ${_?"opacity-100 visible":"opacity-0 invisible"}`,"aria-hidden":!_,children:[d.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>w(!1)}),d.jsx("div",{className:`absolute left-0 top-0 h-full w-64 bg-white dark:bg-gray-900 shadow-2xl transition-transform duration-300 transform ${_?"translate-x-0":"-translate-x-full"} p-4`,children:d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h2",{className:"text-xl font-bold text-primary",children:"Nihongo App"}),d.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>w(!1),children:d.jsx(Bm,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"mb-4 p-3 bg-accent dark:bg-gray-800 rounded-lg",children:L?d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Bo,{className:"h-6 w-6 text-primary"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-sm truncate",children:L.name||L.email}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Điểm: ",L.totalPoints||0]})]})]}):d.jsxs(pe,{onClick:()=>{n(!0),w(!1)},className:"w-full",children:[d.jsx(Bo,{className:"h-4 w-4 mr-2"})," Đăng nhập"]})}),d.jsx("nav",{className:"flex-1 space-y-1",children:E.map(M=>d.jsxs(Da,{to:M.to,onClick:()=>w(!1),className:`flex items-center p-3 rounded-lg transition-colors ${u.pathname===M.to?"bg-primary text-primary-foreground font-semibold":"text-foreground hover:bg-accent dark:hover:bg-gray-700"}`,children:[d.jsx(M.icon,{className:"h-5 w-5 mr-3 shrink-0"}),d.jsx("span",{className:"text-sm",children:M.label})]},M.to))}),L&&d.jsx("div",{className:"mt-auto pt-4 border-t dark:border-gray-700",children:d.jsxs(pe,{variant:"outline",className:"w-full bg-transparent hover:bg-red-50 dark:hover:bg-red-900/50",onClick:A,children:[d.jsx(sp,{className:"h-4 w-4 mr-2"}),"Đăng xuất"]})})]})})]}),x=({navItems:E,handleLogout:_,user:w})=>d.jsx("div",{className:"hidden lg:flex lg:flex-shrink-0",children:d.jsx("div",{className:"flex flex-col w-64 border-r dark:border-gray-800 bg-white dark:bg-gray-900",children:d.jsxs("div",{className:"flex flex-col flex-1 h-0",children:[d.jsxs("div",{className:"flex flex-col flex-1 overflow-y-auto pt-5 pb-4 px-4",children:[d.jsx("div",{className:"flex items-center flex-shrink-0 px-2 mb-6",children:d.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Nihongo App"})}),d.jsx("div",{className:"mb-6 p-3 bg-accent dark:bg-gray-800 rounded-lg",children:w?d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:w.photoURL||`https://api.dicebear.com/7.x/initials/svg?seed=${w.name||"User"}`,alt:"Avatar",className:"h-8 w-8 rounded-full object-cover"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-sm truncate",children:w.name||w.email}),d.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Điểm: ",w.totalPoints||0]})]})]}):d.jsxs(pe,{onClick:()=>n(!0),className:"w-full",children:[d.jsx(Bo,{className:"h-4 w-4 mr-2"})," Đăng nhập"]})}),d.jsx("nav",{className:"flex-1 space-y-1",children:E.map(A=>d.jsxs(Da,{to:A.to,className:`flex items-center p-3 rounded-lg transition-colors ${u.pathname===A.to?"bg-primary text-primary-foreground font-semibold":"text-foreground hover:bg-accent dark:hover:bg-gray-700"}`,children:[d.jsx(A.icon,{className:"h-5 w-5 mr-3 shrink-0"}),d.jsx("span",{className:"text-sm",children:A.label})]},A.to))})]}),w&&d.jsx("div",{className:"pb-4 px-4 border-t dark:border-gray-800",children:d.jsxs(pe,{variant:"outline",className:"w-full bg-transparent hover:bg-red-50 dark:hover:bg-red-900/50",onClick:_,children:[d.jsx(sp,{className:"h-4 w-4 mr-2"}),"Đăng xuất"]})})]})})}),k=({isMobile:E,isMenuOpen:_,setIsMenuOpen:w,user:A})=>E?d.jsxs("header",{className:"fixed top-0 left-0 right-0 z-30 flex items-center justify-between p-4 bg-white dark:bg-gray-900 border-b dark:border-gray-800 lg:hidden",children:[d.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>w(!0),children:d.jsx(MD,{className:"h-6 w-6"})}),d.jsx("h1",{className:"text-xl font-bold text-primary",children:"Nihongo App"}),d.jsx("div",{className:"w-10",children:A?d.jsx("img",{src:A.photoURL||`https://api.dicebear.com/7.x/initials/svg?seed=${A.name||"User"}`,alt:"Avatar",className:"h-8 w-8 rounded-full object-cover"}):d.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>n(!0),children:d.jsx(Bo,{className:"h-6 w-6"})})})]}):null;return d.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[d.jsx(x,{navItems:g,handleLogout:c,user:t}),d.jsx(R,{navItems:g,isMenuOpen:o,setIsMenuOpen:a,handleLogout:c,user:t}),d.jsx(k,{isMobile:i,isMenuOpen:o,setIsMenuOpen:a,user:t}),d.jsx("main",{className:"flex-1 overflow-y-auto pt-0 lg:pt-0",children:r?d.jsxs("div",{className:"flex h-full items-center justify-center p-8",children:[d.jsx(Ot,{className:"h-6 w-6 animate-spin text-primary"}),d.jsx("span",{className:"ml-2 text-gray-500",children:"Đang tải bố cục..."})]}):T?d.jsxs("div",{className:`p-4 md:p-8 ${i?"pt-20":""}`,children:[d.jsx(l_,{})," "]}):p&&!t?d.jsx("div",{className:"flex h-full items-center justify-center p-8",children:d.jsxs(Fe,{className:"text-center shadow-lg w-full max-w-sm",children:[d.jsx($t,{children:d.jsx(dt,{children:"Truy cập bị từ chối"})}),d.jsxs(Ze,{children:[d.jsx("p",{className:"text-gray-500 mb-4",children:"Vui lòng đăng nhập để truy cập trang này."}),d.jsx(pe,{onClick:()=>n(!0),children:"Đăng nhập ngay"})]})]})}):d.jsx("div",{className:`p-4 md:p-8 ${i?"pt-20":""}`,children:d.jsx(l_,{})})})]})}function _5(){return d.jsx(BA,{children:d.jsxs(vs,{path:"/",element:d.jsx(v5,{}),children:[d.jsx(vs,{index:!0,element:d.jsx(UU,{})}),d.jsx(vs,{path:"settings",element:d.jsx(XU,{})}),d.jsx(vs,{path:"statistics",element:d.jsx(a5,{})}),d.jsx(vs,{path:"learn",element:d.jsx(u5,{})}),d.jsx(vs,{path:"vocabulary",element:d.jsx(m5,{})})]})})}var w5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),E5="VisuallyHidden",Qg=y.forwardRef((t,e)=>d.jsx(Re.span,{...t,ref:e,style:{...w5,...t.style}}));Qg.displayName=E5;var Yg="ToastProvider",[Xg,T5,x5]=fx("Toast"),[bk]=qs("Toast",[x5]),[I5,Od]=bk(Yg),Ak=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,u]=y.useState(null),[c,h]=y.useState(0),p=y.useRef(!1),g=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yg}\`. Expected non-empty \`string\`.`),d.jsx(Xg.Provider,{scope:e,children:d.jsx(I5,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:y.useCallback(()=>h(T=>T+1),[]),onToastRemove:y.useCallback(()=>h(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:g,children:o})})};Ak.displayName=Yg;var Pk="ToastViewport",S5=["F8"],Np="toast.viewportPause",Dp="toast.viewportResume",Nk=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=S5,label:s="Notifications ({hotkey})",...i}=t,o=Od(Pk,n),a=T5(n),u=y.useRef(null),c=y.useRef(null),h=y.useRef(null),p=y.useRef(null),g=Gt(e,p,o.onViewportChange),T=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=o.toastCount>0;y.useEffect(()=>{const k=E=>{var w;r.length!==0&&r.every(A=>E[A]||E.code===A)&&((w=p.current)==null||w.focus())};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[r]),y.useEffect(()=>{const k=u.current,E=p.current;if(R&&k&&E){const _=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Np);E.dispatchEvent(M),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Dp);E.dispatchEvent(M),o.isClosePausedRef.current=!1}},A=M=>{!k.contains(M.relatedTarget)&&w()},L=()=>{k.contains(document.activeElement)||w()};return k.addEventListener("focusin",_),k.addEventListener("focusout",A),k.addEventListener("pointermove",_),k.addEventListener("pointerleave",L),window.addEventListener("blur",_),window.addEventListener("focus",w),()=>{k.removeEventListener("focusin",_),k.removeEventListener("focusout",A),k.removeEventListener("pointermove",_),k.removeEventListener("pointerleave",L),window.removeEventListener("blur",_),window.removeEventListener("focus",w)}}},[R,o.isClosePausedRef]);const x=y.useCallback(({tabbingDirection:k})=>{const _=a().map(w=>{const A=w.ref.current,L=[A,...V5(A)];return k==="forwards"?L:L.reverse()});return(k==="forwards"?_.reverse():_).flat()},[a]);return y.useEffect(()=>{const k=p.current;if(k){const E=_=>{var L,M,S;const w=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!w){const v=document.activeElement,C=_.shiftKey;if(_.target===k&&C){(L=c.current)==null||L.focus();return}const D=x({tabbingDirection:C?"backwards":"forwards"}),P=D.findIndex(Q=>Q===v);nf(D.slice(P+1))?_.preventDefault():C?(M=c.current)==null||M.focus():(S=h.current)==null||S.focus()}};return k.addEventListener("keydown",E),()=>k.removeEventListener("keydown",E)}},[a,x]),d.jsxs(KN,{ref:u,role:"region","aria-label":s.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&d.jsx(Op,{ref:c,onFocusFromOutsideViewport:()=>{const k=x({tabbingDirection:"forwards"});nf(k)}}),d.jsx(Xg.Slot,{scope:n,children:d.jsx(Re.ol,{tabIndex:-1,...i,ref:g})}),R&&d.jsx(Op,{ref:h,onFocusFromOutsideViewport:()=>{const k=x({tabbingDirection:"backwards"});nf(k)}})]})});Nk.displayName=Pk;var Dk="ToastFocusProxy",Op=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Od(Dk,n);return d.jsx(Qg,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Op.displayName=Dk;var El="Toast",k5="toast.swipeStart",C5="toast.swipeMove",R5="toast.swipeCancel",b5="toast.swipeEnd",Ok=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,u]=nl({prop:r,defaultProp:s??!0,onChange:i,caller:El});return d.jsx(so,{present:n||a,children:d.jsx(N5,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:Bn(t.onPause),onResume:Bn(t.onResume),onSwipeStart:Ce(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(t.onSwipeMove,c=>{const{x:h,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ce(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(t.onSwipeEnd,c=>{const{x:h,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});Ok.displayName=El;var[A5,P5]=bk(El,{onClose(){}}),N5=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:T,...R}=t,x=Od(El,n),[k,E]=y.useState(null),_=Gt(e,Q=>E(Q)),w=y.useRef(null),A=y.useRef(null),L=s||x.duration,M=y.useRef(0),S=y.useRef(L),v=y.useRef(0),{onToastAdd:C,onToastRemove:b}=x,N=Bn(()=>{var ge;(k==null?void 0:k.contains(document.activeElement))&&((ge=x.viewport)==null||ge.focus()),o()}),D=y.useCallback(Q=>{!Q||Q===1/0||(window.clearTimeout(v.current),M.current=new Date().getTime(),v.current=window.setTimeout(N,Q))},[N]);y.useEffect(()=>{const Q=x.viewport;if(Q){const ge=()=>{D(S.current),c==null||c()},ae=()=>{const Ae=new Date().getTime()-M.current;S.current=S.current-Ae,window.clearTimeout(v.current),u==null||u()};return Q.addEventListener(Np,ae),Q.addEventListener(Dp,ge),()=>{Q.removeEventListener(Np,ae),Q.removeEventListener(Dp,ge)}}},[x.viewport,L,u,c,D]),y.useEffect(()=>{i&&!x.isClosePausedRef.current&&D(L)},[i,L,x.isClosePausedRef,D]),y.useEffect(()=>(C(),()=>b()),[C,b]);const P=y.useMemo(()=>k?$k(k):null,[k]);return x.viewport?d.jsxs(d.Fragment,{children:[P&&d.jsx(D5,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:P}),d.jsx(A5,{scope:n,onClose:N,children:td.createPortal(d.jsx(Xg.ItemSlot,{scope:n,children:d.jsx(qN,{asChild:!0,onEscapeKeyDown:Ce(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||N(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Re.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...R,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ce(t.onKeyDown,Q=>{Q.key==="Escape"&&(a==null||a(Q.nativeEvent),Q.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:Ce(t.onPointerDown,Q=>{Q.button===0&&(w.current={x:Q.clientX,y:Q.clientY})}),onPointerMove:Ce(t.onPointerMove,Q=>{if(!w.current)return;const ge=Q.clientX-w.current.x,ae=Q.clientY-w.current.y,Ae=!!A.current,V=["left","right"].includes(x.swipeDirection),Y=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Z=V?Y(0,ge):0,Ee=V?0:Y(0,ae),se=Q.pointerType==="touch"?10:2,ee={x:Z,y:Ee},Te={originalEvent:Q,delta:ee};Ae?(A.current=ee,gu(C5,p,Te,{discrete:!1})):_0(ee,x.swipeDirection,se)?(A.current=ee,gu(k5,h,Te,{discrete:!1}),Q.target.setPointerCapture(Q.pointerId)):(Math.abs(ge)>se||Math.abs(ae)>se)&&(w.current=null)}),onPointerUp:Ce(t.onPointerUp,Q=>{const ge=A.current,ae=Q.target;if(ae.hasPointerCapture(Q.pointerId)&&ae.releasePointerCapture(Q.pointerId),A.current=null,w.current=null,ge){const Ae=Q.currentTarget,V={originalEvent:Q,delta:ge};_0(ge,x.swipeDirection,x.swipeThreshold)?gu(b5,T,V,{discrete:!0}):gu(R5,g,V,{discrete:!0}),Ae.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),D5=t=>{const{__scopeToast:e,children:n,...r}=t,s=Od(El,e),[i,o]=y.useState(!1),[a,u]=y.useState(!1);return L5(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(Vm,{asChild:!0,children:d.jsx(Qg,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},O5="ToastTitle",Mk=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Re.div,{...r,ref:e})});Mk.displayName=O5;var M5="ToastDescription",Lk=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Re.div,{...r,ref:e})});Lk.displayName=M5;var jk="ToastAction",Vk=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(Uk,{altText:n,asChild:!0,children:d.jsx(Jg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${jk}\`. Expected non-empty \`string\`.`),null)});Vk.displayName=jk;var Fk="ToastClose",Jg=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=P5(Fk,n);return d.jsx(Uk,{asChild:!0,children:d.jsx(Re.button,{type:"button",...r,ref:e,onClick:Ce(t.onClick,s.onClose)})})});Jg.displayName=Fk;var Uk=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function $k(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),j5(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...$k(r))}}),e}function gu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?cx(s,i):s.dispatchEvent(i)}var _0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function L5(t=()=>{}){const e=Bn(t);Ms(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function j5(t){return t.nodeType===t.ELEMENT_NODE}function V5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function nf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var F5=Ak,zk=Nk,Bk=Ok,Wk=Mk,Hk=Lk,qk=Vk,Kk=Jg;const U5=F5,Gk=y.forwardRef(({className:t,...e},n)=>d.jsx(zk,{ref:n,className:ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Gk.displayName=zk.displayName;const $5=sd("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Qk=y.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(Bk,{ref:r,className:ke($5({variant:e}),t),...n}));Qk.displayName=Bk.displayName;const z5=y.forwardRef(({className:t,...e},n)=>d.jsx(qk,{ref:n,className:ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));z5.displayName=qk.displayName;const Yk=y.forwardRef(({className:t,...e},n)=>d.jsx(Kk,{ref:n,className:ke("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Bm,{className:"h-4 w-4"})}));Yk.displayName=Kk.displayName;const Xk=y.forwardRef(({className:t,...e},n)=>d.jsx(Wk,{ref:n,className:ke("text-sm font-semibold [&+div]:text-xs",t),...e}));Xk.displayName=Wk.displayName;const Jk=y.forwardRef(({className:t,...e},n)=>d.jsx(Hk,{ref:n,className:ke("text-sm opacity-90",t),...e}));Jk.displayName=Hk.displayName;function B5(){const{toasts:t}=Rk();return d.jsxs(U5,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(Qk,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(Xk,{children:n}),r&&d.jsx(Jk,{children:r})]}),s,d.jsx(Yk,{})]},e)}),d.jsx(Gk,{})]})}const W5=OT(document.getElementById("app"));W5.render(d.jsx(hP,{children:d.jsxs(VU,{children:[d.jsx(_5,{}),d.jsx(B5,{})," "]})}));
//# sourceMappingURL=index-yP5CtNWr.js.map
